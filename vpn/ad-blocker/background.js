(()=>{var t={6038:(t,e,n)=>{"use strict";const i=n(7571);e.Z=i.default},84:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function o(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorage=void 0;e.LocalStorage=class{static getItem(t){return n(this,void 0,void 0,(function*(){return yield chrome.storage.local.get(t).then((e=>e[t]))}))}static setItem(t,e){chrome.storage.local.set({[t]:e})}static hasItem(t){return n(this,void 0,void 0,(function*(){return yield this.getItem(t).then(Boolean)}))}static removeItem(t){return n(this,void 0,void 0,(function*(){yield chrome.storage.local.remove(t)}))}}},8282:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function o(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Migration_4_0_4=void 0;const a=n(84);class r{static handle(t){return i(this,void 0,void 0,(function*(){(yield a.LocalStorage.hasItem(this.migrationKey))||(yield a.LocalStorage.removeItem(t),a.LocalStorage.setItem(this.migrationKey,!0))}))}}e.Migration_4_0_4=r,r.migrationKey="PANELIST_MIGRATION_4_0_4"},7571:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function o(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]])}return n};Object.defineProperty(e,"__esModule",{value:!0});const r=n(84),o=n(8282),s=(t,e=5e3,n=(()=>null))=>i(void 0,void 0,void 0,(function*(){const{url:i}=t,r=a(t,["url"]),o=new AbortController,s=setTimeout((()=>{o.abort(),n()}),e),u=yield fetch(i,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(s),u}));e.default=class{constructor(t={}){if("string"!=typeof t.host)throw new Error("PanalyticsUtility: Server host is undefined");this.config=t}synchronize(){return i(this,void 0,void 0,(function*(){const t=yield this.loadKey();yield this.globalSetter(t)}))}getKey(t){this.getKeyAsync().then(t)}getKeyAsync(){return i(this,void 0,void 0,(function*(){const t=yield this.loadKey();if(t)return yield this.provideKeyToStorage(t),t;const e=yield this.getLocalKey();return yield this.setKey(e),e}))}get localGeneratedKey(){return Symbol.for(`__${this.storageSyncKey}__`)}get storageSyncKey(){var t;return null!==(t=this.config.storageKey)&&void 0!==t?t:"panalyticsid"}get cacheResourceUrl(){return`${this.config.host}/api/identity/cache`}get cookieResourceUrl(){return`${this.config.host}/api/identity/cookie`}loadKey(){return i(this,void 0,void 0,(function*(){return yield o.Migration_4_0_4.handle(this.storageSyncKey),yield new Promise((t=>i(this,void 0,void 0,(function*(){const e=[this.localStorageGetter.bind(this),this.cacheGetter.bind(this),this.cookieGetter.bind(this)];for(const n of e){const e=yield n();if(e)return void t(e)}t()}))))}))}getLocalKey(){return i(this,void 0,void 0,(function*(){return globalThis[this.localGeneratedKey]||(globalThis[this.localGeneratedKey]=new Promise((t=>{t(this.generateKey())}))),yield globalThis[this.localGeneratedKey]}))}generateKey(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let i=0;i<22;i++)t+=e.charAt(Math.floor(Math.random()*n));return this.log(`key generated locally: ${t}`),t}setKey(t){return i(this,void 0,void 0,(function*(){yield this.globalSetter(t)}))}localStorageGetter(){return i(this,void 0,void 0,(function*(){this.log(`localStorageGetter: try to get "${this.storageSyncKey}" from localStorage.`);const t=yield r.LocalStorage.getItem(this.storageSyncKey);return t?this.log(`localStorageGetter: "${this.storageSyncKey}" has been found in localStorage. Value: "${t}"`):this.log(`localStorageGetter: "${this.storageSyncKey}" has not been found in localStorage.`),t}))}localStorageSetter(t){this.log(`localStorageSetter: "${this.storageSyncKey}" is going to be stored in localStorage.`),r.LocalStorage.setItem(this.storageSyncKey,t)}provideKeyToStorage(t){return i(this,void 0,void 0,(function*(){(yield r.LocalStorage.hasItem(this.storageSyncKey))||this.localStorageSetter(t)}))}cacheGetter(){return i(this,void 0,void 0,(function*(){this.log(`CacheGetter: try to get "${this.storageSyncKey}" from cache.`);const t=this;return yield new Promise((e=>{s({url:this.cacheResourceUrl,method:"GET"},1e3,(()=>{t.log("CacheGetter: Caching request is timed out."),e()})).then((n=>{200===n.status?n.json().then((n=>{const i=n.userKey;i?(t.log(`CacheGetter: "${t.storageSyncKey}" has been found in cache. Value: "${i}"`),e(i)):e()})).catch((()=>{t.log(`CacheGetter: Error occurred while retrieving "${t.storageSyncKey}" from cache.`),e()})):(t.log("CacheGetter: Caching request has been failed."),e())})).catch((()=>{e()}))}))}))}cacheSetter(t){return i(this,void 0,void 0,(function*(){this.log(`CacheSetter: "${this.storageSyncKey}" is going to be stored in cache.`);const e=this;return yield new Promise((n=>{fetch(this.cacheResourceUrl,{headers:{"X-PANEL-USER-KEY":t,"Cache-Control":"no-cache"},method:"GET"}).then((i=>{200===i.status?(e.log("CacheSetter: Caching request to server has been succeeded."),n(t)):(e.log("CacheSetter: Caching request has been failed."),n())})).catch((()=>{n()}))}))}))}cookieGetter(){return i(this,void 0,void 0,(function*(){this.log(`CookieGetter: try to get "${this.storageSyncKey}" from cookie.`);const t=this;return yield new Promise((e=>{s({credentials:"include",method:"GET",url:this.cookieResourceUrl},5e3,(()=>{t.log("CookieGetter: Request is timed out."),e()})).then((n=>{200===n.status?n.json().then((n=>{n.userKey?(t.log(`CookieGetter: "${t.storageSyncKey}" has been found in cookie. Value: "${n.userKey}"`),e(n.userKey)):(t.log(`CookieGetter: "${t.storageSyncKey}" has not been found in cookie. `),e())})).catch((()=>{t.log(`CookieGetter: Error occurred while retrieving "${t.storageSyncKey}" from cookie.`),e()})):(t.log("CookieGetter: Cookie request has been failed."),e())})).catch((()=>{e()}))}))}))}cookieSetter(t){return i(this,void 0,void 0,(function*(){this.log(`CookieSetter: "${this.storageSyncKey}" is going to be stored in cookie.`);const e=this;return yield new Promise((n=>{const i=`${this.cookieResourceUrl}?userKey=${t}`;fetch(i,{credentials:"include",method:"POST"}).then((i=>{200===i.status?(e.log("CookieSetter: cookie request has been succeeded."),n(t)):(e.log("CookieSetter: cookie request has been failed."),n())})).catch((()=>{n()}))}))}))}cookieClear(){return i(this,void 0,void 0,(function*(){this.log(`CookieClearer: "${this.storageSyncKey}" is going to be deleted.`);const t=this;yield new Promise((e=>{fetch(this.cookieResourceUrl,{credentials:"include",method:"DELETE"}).then((n=>{200===n.status?(t.log("CookieClearer: cookie request has been succeeded."),e()):(t.log("CookieClearer: cookie request has been failed."),e())})).catch((()=>{e()}))}))}))}globalSetter(t){return i(this,void 0,void 0,(function*(){t?(this.localStorageSetter(t),yield this.cacheSetter(t),yield this.cookieClear(),yield this.cookieSetter(t)):this.log("Value provided to global setter is invalid.")}))}log(t){this.config.logging&&console.log("%c[PanalyticsUtility]","background-color: rgba(84,174,255,0.4); font-weight: bold; padding: 2px;",t)}}},7588:t=>{var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var a=e&&e.prototype instanceof T?e:T,r=Object.create(a.prototype),o=new k(i||[]);return r._invoke=function(t,e,n){var i=l;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===E){if("throw"===a)throw r;return P()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=E,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var u=d(t,e,n);if("normal"===u.type){if(i=n.done?E:h,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=E,n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",h="suspendedYield",f="executing",E="completed",_={};function T(){}function m(){}function g(){}var p={};u(p,r,(function(){return this}));var A=Object.getPrototypeOf,v=A&&A(A(O([])));v&&v!==n&&i.call(v,r)&&(p=v);var y=g.prototype=T.prototype=Object.create(p);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(a,r,o,s){var u=d(t[a],t,r);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var a;this._invoke=function(t,i){function r(){return new e((function(e,a){n(t,i,e,a)}))}return a=a?a.then(r,r):r()}}function S(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:e,done:!0}}return m.prototype=g,u(y,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},C(I.prototype),u(I.prototype,o,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new I(c(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(y),u(y,s,"Generator"),u(y,r,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(b),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return s.type="throw",s.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;b(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},5976:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(8962),r=n(1225),o=n(1850),s=n(3124),u=n(4019),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.init=!1,this.tabsCounters=[],this.totalCounter=0,this.ConfigManager=null,this.TabsManager=null,this.status=r.GetDefaultAdblockerStatus(),this.GetStatusFromStorage()}var e,n,c;return e=t,(n=[{key:"Init",value:function(t,e){return!this.init&&a.CONFIG_ADBLOCKER_AVAILABLE&&t&&e&&(this.ConfigManager=t,this.TabsManager=e,this.init=!0),this.init}},{key:"GetStatusFromStorage",value:function(){var t=this;a.CONFIG_ADBLOCKER_AVAILABLE&&r.getDataFromStorageLocal("posdAdBlockerStatus").then((function(e){if(e&&"string"==typeof e)if(e===s.ADBLOCKER_STATUS_ENABLED||e===s.ADBLOCKER_STATUS_DISABLED)t.status[s.ADBLOCKER_FOR_DISPLAY]=e,t.SetStatusToStorage();else try{var n=JSON.parse(u.decode(e));for(var i in n)!t.status.hasOwnProperty(i)||n[i]!==s.ADBLOCKER_STATUS_ENABLED&&n[i]!==s.ADBLOCKER_STATUS_DISABLED||(t.status[i]=n[i])}catch(t){}t.SendUpdatedStatusToAgents()}))}},{key:"SetStatusToStorage",value:function(){var t=u.encode(JSON.stringify(this.status));chrome.storage.local.set({posdAdBlockerStatus:t})}},{key:"UpdateAdblockerStatus",value:function(t,e){var n=this;if(this.init){var i=!1;t.forEach((function(t){n.status.hasOwnProperty(t)&&n.status[t]!==e&&(n.status[t]=e,i=!0)})),i&&(this.SendUpdatedStatusToAgents(),this.SetStatusToStorage())}}},{key:"Enable",value:function(t){return this.UpdateAdblockerStatus(t,s.ADBLOCKER_STATUS_ENABLED),this.status}},{key:"Disable",value:function(t){return this.UpdateAdblockerStatus(t,s.ADBLOCKER_STATUS_DISABLED),this.IsAnyAdBlockerEnabled()||(this.totalCounter=0,this.tabsCounters=[]),this.status}},{key:"SetHiddenCandidatesAmount",value:function(t,e){var n=r.GetTabIdKey(t);void 0===this.tabsCounters[n]&&(this.tabsCounters[n]=0),this.tabsCounters[n]=this.tabsCounters[n]+e,this.totalCounter=this.totalCounter+e}},{key:"onTabUpdated",value:function(t){var e=r.GetTabIdKey(t);void 0!==this.tabsCounters[e]&&(this.tabsCounters[e]=0)}},{key:"GetCounters",value:function(t){var e={currentPageTotal:0,currentSessionTotal:this.totalCounter},n=r.GetTabIdKey(t);return void 0!==this.tabsCounters[n]&&(e.currentPageTotal=this.tabsCounters[n]),e}},{key:"GetStatus",value:function(){return this.status}},{key:"SendUpdatedStatusToAgents",value:function(){var t=this;this.init&&this.TabsManager.GetAllTabs((function(e){e&&e.length&&e.forEach((function(e){if(e&&e.id){var n=o.EmptyMessage;n.type=s.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED,n.to=r.GetMainPageId(e.id),n.content=t.status,r.IsOnChromeRuntime()&&chrome.tabs.sendMessage(e.id,n).catch((function(t){}))}}))}))}},{key:"IsAnyAdBlockerEnabled",value:function(){var t=!1;for(var e in this.status)this.status[e]===s.ADBLOCKER_STATUS_ENABLED&&(t=!0);return t}},{key:"IsAdBlockerEnabled",value:function(){return this.init&&a.CONFIG_ADBLOCKER_AVAILABLE&&this.IsAnyAdBlockerEnabled()}}])&&i(e.prototype,n),c&&i(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=c},2e3:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(1225),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.init=!1,this.hasActiveAdblock=!1,this.InspectorConfig=null,this.needsActiveAgentStatusLastRequestTime=a.GetCurrentTimestamp()-300}var e,n,r;return e=t,(n=[{key:"HasActiveAdblock",get:function(){return this.hasActiveAdblock}},{key:"Init",value:function(t){return this.InspectorConfig=t,!this.init&&this.InspectorConfig?(this.init=!0,this.init):this.init}},{key:"IsNeedActivateAgentForTab",value:function(t){var e=a.GetCurrentTimestamp();return!!(this.IsActive()&&e-this.needsActiveAgentStatusLastRequestTime>this.GetActivationStatusUpdateInterval())&&(this.needsActiveAgentStatusLastRequestTime=e,!0)}},{key:"onGotMessageFromAdBlockInspectorAgent",value:function(t){this.IsActive()&&t&&(this.hasActiveAdblock=t.hasActiveAdblock)}},{key:"IsInit",value:function(){return this.init}},{key:"IsActive",value:function(){return this.init&&this.InspectorConfig&&this.InspectorConfig.active}},{key:"GetActivationStatusUpdateInterval",value:function(){return this.init&&this.InspectorConfig&&this.InspectorConfig.needsActiveAgentIntervalSec}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=r},3886:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(8962),r=n(1225),o=n(1510),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.init=!1,this.panalyticsId="",this.installEventTriggered=!1,this.sentInstallEvent=!1,this.BackgendIOManager=new o}var e,n,s;return e=t,(n=[{key:"Init",value:function(){return!(this.init||!r.IsOnChromeRuntime()||!a.CONFIG_ANALYTIC_INSTALL_EVENTS_TRACING_AVAILABLE||(chrome.runtime.onInstalled.addListener(this.onExtensionInstalled.bind(this)),this.init=!0,0))}},{key:"onExtensionInstalled",value:function(t){chrome.runtime.lastError,this.installEventTriggered=!0,this.panalyticsId.length&&!this.sentInstallEvent&&"install"===t.reason&&this.SendInstallEventToBackend()}},{key:"SetPanalyticsId",value:function(t){this.panalyticsId=t,this.panalyticsId.length&&this.installEventTriggered&&!this.sentInstallEvent&&this.SendInstallEventToBackend()}},{key:"SendInstallEventToBackend",value:function(){if(a.CONFIG_ANALYTIC_INSTALL_EVENTS_TRACING_AVAILABLE){this.sentInstallEvent=!0;var t=a.CONFIG_PANELBACKEND_ENDPOINT+a.CONFIG_PANELBACKEND_ENDPOINT_ULR_INSTALL_EVENT;this.BackgendIOManager.SendInstallEvent(this.panalyticsId,t,this.onSentInstallEvent.bind(this),this.onErrorSentInstallEvent.bind(this))}}},{key:"onSentInstallEvent",value:function(){}},{key:"onErrorSentInstallEvent",value:function(t){}}])&&i(e.prototype,n),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=s},1510:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return b()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function f(){}function E(){}function _(){}var T={};c(T,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==e&&n.call(g,o)&&(T=g);var p=_.prototype=f.prototype=Object.create(T);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function a(r,o,s,u){var c=l(t[r],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==i(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){a("next",t,s,u)}),(function(t){a("throw",t,s,u)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return a("throw",t,s,u)}))}u(c.arg)}var r;this._invoke=function(t,n){function i(){return new e((function(e,i){a(t,n,e,i)}))}return r=r?r.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return E.prototype=_,c(p,"constructor",_),c(_,"constructor",E),E.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},A(v.prototype),c(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new v(d(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(p),c(p,u,"Generator"),c(p,o,(function(){return this})),c(p,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function r(t,e,n,i,a,r,o){try{var s=t[r](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=n(8962),c=n(4019),d=n(3002),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init=!1,this.dataCollectionManager=new d}var e,n,i,r,l;return e=t,n=[{key:"SendSingleOutTicketToBackend",value:(l=o(a().mark((function t(e,n,i,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dataCollectionManager.IsDisabled();case 2:t.sent?i():n&&n.data&&n.ticketId&&n.ticketId.length&&e&&e.length&&this.SendDataToEndpoint(e,n.data,u.CONFIG_PANELBACKEND_ENDPOINT+u.CONFIG_PANELBACKEND_ENDPOINT_ULR_OUTTICKET+"/"+n.ticketId,i,r);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n,i){return l.apply(this,arguments)})},{key:"SendMultiOutTicketToBackend",value:(r=o(a().mark((function t(e,n,i,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dataCollectionManager.IsDisabled();case 2:t.sent?i():n&&n.data&&e&&e.length&&this.SendDataToEndpoint(e,n.data,u.CONFIG_PANELBACKEND_ENDPOINT+u.CONFIG_PANELBACKEND_ENDPOINT_ULR_OUTTICKET,i,r);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n,i){return r.apply(this,arguments)})},{key:"SendDataToEndpoint",value:function(e,n,i,a,r){return!(!n||!i||(fetch(i,{method:"POST",cache:"no-cache",body:n,headers:{Authorization:t.GetBasicAuthorizationHeaderValue(e),"Content-type":u.CONFIG_USE_COMPRESSION?"application/octet-stream":"application/json"}}).then((function(t){200===t.status?a():r()})).catch((function(t){r()})),0))}},{key:"SendInstallEvent",value:function(e,n,i,a){return!!n&&(fetch(n,{method:"POST",cache:"no-cache",body:"",headers:{Authorization:t.GetBasicAuthorizationHeaderValue(e)}}).then((function(t){200===t.status?i():a(t)})).catch((function(t){a(t)})),!0)}}],i=[{key:"GetBasicAuthorizationHeaderValue",value:function(t){return"Basic "+c.encode("pnldsk:".concat(u.CONFIG_PINSTANCE_ID,"-").concat(u.CONFIG_PARTNER_ID,"-").concat(u.CONFIG_DISTRIBUTOR_ID,"-").concat(t))}},{key:"GetConfig",value:function(e,n,i,a){return n?(fetch(n,{method:"GET",cache:"no-cache",headers:{Authorization:t.GetBasicAuthorizationHeaderValue(e)}}).then((function(t){if(200===t.status)return t.text();a()})).then((function(t){i(t)})).catch((function(){a()})),!0):(a(),!1)}}],n&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=l},411:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return b()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function f(){}function E(){}function _(){}var T={};c(T,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==e&&n.call(g,o)&&(T=g);var p=_.prototype=f.prototype=Object.create(T);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function a(r,o,s,u){var c=l(t[r],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==i(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){a("next",t,s,u)}),(function(t){a("throw",t,s,u)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return a("throw",t,s,u)}))}u(c.arg)}var r;this._invoke=function(t,n){function i(){return new e((function(e,i){a(t,n,e,i)}))}return r=r?r.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return E.prototype=_,c(p,"constructor",_),c(_,"constructor",E),E.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},A(v.prototype),c(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new v(d(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(p),c(p,u,"Generator"),c(p,o,(function(){return this})),c(p,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function r(t,e,n,i,a,r,o){try{var s=t[r](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var a=h(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var f=n(8962),E=n(1225),_=n(597),T=n(8235),m=n(5978),g=n(8382),p=n(3886),A=n(2e3),v=n(5976),y=n(850),C=n(6023),I=n(6162),S=n(4063),D=n(8501),b=n(6523),k=n(3002),O=n(4925),P=n(5734),R=n(8078),w=(n(3124),function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(w,t);var e,n,i,r,d,h,O=c(w);function w(){var t,e,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),t=O.call(this),e=l(t),i=void 0,(n="UseLocal")in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,t.activeStatus=f.CONFIG_GLOBAL_ACTIVE_STATUS,t.VideoRequestNumber=0,t.ConfigManager=new y(t.id),t.TabsManager=new P(t.id),t.TicketBuilder=new T(t.id),t.TicketSender=new _(t.id),t.panalyticsId=new m(t.id),t.ContentStorage=new g(t.id),t.AnalyticManager=new p(t.id),t.AdBlockInspector=new A(t.id),t.AdBlocker=new v(t.id),t.FacebookLoader=new C(t.id),t.TwitterLoader=new I(t.id),t.InstagramLoader=new R(t.id),t.PinterestLoader=new S(t.id),t.DataCollectionManager=new k,t.slaveTabs=[],t.excludeList={domains:new D,pages:new b},t}return e=w,n=[{key:"Init",value:(h=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.RestoreCurrentActiveStatus();case 3:this.AnalyticManager.Init(),this.panalyticsId.GetId(this.onGetPanalyticsId.bind(this)),E.IsOnChromeRuntime()&&this.InitListeners.call(this),this.TicketSender.Init(),this.TicketBuilder.Init(this.ContentStorage,this.TicketSender,this.AdBlockInspector,this.TabsManager,this.ConfigManager),f.CONFIG_ADBLOCK_INSPECTOR_AVAILABLE&&this.AdBlockInspector.Init(this.ConfigManager.GetAdBlockInspectorConfig()),f.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker.Init(this.ConfigManager,this.TabsManager),this.FacebookLoader.Init(this.ConfigManager,this.ContentStorage),this.TwitterLoader.Init(this.ConfigManager,this.ContentStorage),this.PinterestLoader.Init(this.ConfigManager,this.ContentStorage),this.InstagramLoader.Init(this.ConfigManager,this.ContentStorage),t.next=18;break;case 16:t.prev=16,t.t0=t.catch(0);case 18:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(){return h.apply(this,arguments)})},{key:"onGetPanalyticsId",value:function(t){this.TicketSender.SetPanalyticsId(t),this.AnalyticManager.SetPanalyticsId(t),this.ConfigManager.SetPanalyticsId(t),this.TicketBuilder.SetPanalyticsId(t)}},{key:"RestoreCurrentActiveStatus",value:(d=o(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get("posdActiveStatus");case 2:e=t.sent,"on"===(n=e.posdActiveStatus)||"off"===n?this.activeStatus="on"===n:(this.activeStatus=f.CONFIG_GLOBAL_ACTIVE_STATUS,this.UpdateActiveStatus(this.activeStatus));case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"UpdateActiveStatus",value:function(t){this.activeStatus=t,this.activeStatus?chrome.storage.local.set({posdActiveStatus:"on"}).then((function(){})):chrome.storage.local.set({posdActiveStatus:"off"}).then((function(){}))}},{key:"UpdateConfig",value:function(){this.ConfigManager&&this.ConfigManager.UpdateConfig(3e3)}},{key:"GetAdBlockerStatus",value:function(t,e){f.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker&&t?t(this.AdBlocker.GetStatus()):e&&e("error: adblocker is not available")}},{key:"GetAdBlockerCounters",value:function(t,e,n){f.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker&&t?t(this.AdBlocker.GetCounters(n)):e&&e("error: adblocker is not available")}},{key:"EnableAdBlocker",value:function(t,e,n){f.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker&&t?t(this.AdBlocker.Enable(n)):e&&e("error: adblocker is not available")}},{key:"DisableAdBlocker",value:function(t,e,n){f.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker&&t?t(this.AdBlocker.Disable(n)):e&&e("error: adblocker is not available")}},{key:"UpdateSlaveTabs",value:function(t,e){if(e){if(this.slaveTabs.includes(t)){var n=this.slaveTabs.indexOf(t);-1!==n&&this.slaveTabs.splice(n,1)}}else this.slaveTabs.includes(t)||this.slaveTabs.push(t)}},{key:"isTabMaster",value:function(t){return!this.slaveTabs.includes(t)}},{key:"GetExcludeList",value:function(t,e,n){try{this._validateExcludeListType(n),this.excludeList[n].GetList().then((function(e){t(e)}))}catch(t){e(t)}}},{key:"AddIntoExcludeList",value:function(t,e,n,i){this.excludeList[n]||e();try{t(this.excludeList[n].AddItem(i))}catch(t){e(t)}}},{key:"RemoveFromExcludeList",value:function(t,e,n,i){try{this._validateExcludeListType(n),t(this.excludeList[n].RemoveItem(i))}catch(t){e(t)}}},{key:"HasItemInExcludeList",value:function(t,e,n,i){try{this._validateExcludeListType(n),this.excludeList[n].HasItem(i).then((function(e){t(e)}))}catch(t){e(t)}}},{key:"AddCurrentDomainIntoExcludeList",value:function(t,e){var n=this;this.GetCurrentDomain((function(i){try{n.excludeList.domains.AddItem(i),t(i)}catch(t){e(t)}}),(function(t){return e(t)}))}},{key:"AddCurrentPageIntoExcludeList",value:function(t,e){var n=this;this.GetCurrentPageUrl((function(i){try{n.excludeList.pages.AddItem(i),t(i)}catch(t){e(t)}}),(function(t){return e(t)}))}},{key:"GetCurrentDomain",value:function(t,e){this.GetCurrentPageUrl((function(n){try{var i=new URL(n);t("".concat(i.protocol,"//").concat(i.hostname))}catch(t){e(t)}}),(function(t){return e(t)}))}},{key:"GetCurrentPageUrl",value:function(t,e){chrome.tabs.query({active:!0,currentWindow:!0}).then((function(n){n&&n[0]&&n[0].id?t(n[0].url):e(new Error("No Active Tab"))})).catch((function(t){}))}},{key:"UseLocalConfig",value:function(t,e,n){this.ConfigManager.LoadConfig(t),e(t)}},{key:"GetStatusOfLocalConfig",value:function(){}},{key:"_validateExcludeListType",value:function(t){if(!this.excludeList[t])throw new Error('List type "'.concat(t,'" is not available'))}},{key:"EnableDataCollection",value:function(t,e){try{this.DataCollectionManager.Enable(),t()}catch(t){e()}}},{key:"DisableDataCollection",value:function(t,e){try{this.DataCollectionManager.Disable(),t()}catch(t){e()}}},{key:"GetDataCollectionStatus",value:(r=o(a().mark((function t(e,n){var i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.DataCollectionManager.IsEnabled();case 3:i=t.sent,e(i),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n();case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t,e){return r.apply(this,arguments)})}],n&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),w}(O));t.exports=w},6124:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(4019),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.LOCAL_DEFAULT_WINDOWS_OBJECT_PROPERTIES=["adData"]}var e,n,r;return e=t,(n=[{key:"ExtendConfigJson",value:function(t){var e=this.ExtendHtml5TargetUrlDetectionConfig(t.html5TargetUrlDetectionConfig);return Object.assign(t,{html5TargetUrlDetectionConfig:e})}},{key:"ExtendConfigEncoded",value:function(t){var e=JSON.parse(a.decode(t)),n=this.ExtendConfigJson(e);return a.encode(JSON.stringify(n))}},{key:"ExtendHtml5TargetUrlDetectionConfig",value:function(t){return this.SetDefaultWindowsObjectProperties(),Object.assign(t,{LOCAL_DEFAULT_WINDOWS_OBJECT_PROPERTIES:this.LOCAL_DEFAULT_WINDOWS_OBJECT_PROPERTIES})}},{key:"SetDefaultWindowsObjectProperties",value:function(){var t=this;chrome.runtime.onMessage.addListener((function(e,n,i){"CONTENT_WINDOW_PROP"===e.type&&0===t.LOCAL_DEFAULT_WINDOWS_OBJECT_PROPERTIES.length&&(t.LOCAL_DEFAULT_WINDOWS_OBJECT_PROPERTIES=e.content)}))}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=r},850:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(8962),r=n(4019),o=n(1510),s=n(6124),u=n(7401),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e;var n=u,i=JSON.parse(r.decode(n));this.ConfigLocalExtender=new s(e),this.configEncoded=this.ConfigLocalExtender.ExtendConfigEncoded(n),this.config=this.ConfigLocalExtender.ExtendConfigJson(i),this.panalyticsId="",this.isLocalConfigUse=!0}var e,n,c;return e=t,n=[{key:"SetPanalyticsId",value:function(t){this.panalyticsId!==t&&(this.panalyticsId=t,this.LoadConfig(),setInterval(this.LoadConfig.bind(this),36e5))}},{key:"LoadConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!t&&a.CONFIG_PANELBACKEND_ENDPOINT+a.CONFIG_PANELBACKEND_ENDPOINT_ULR_CONFIGURATION;this.isLocalConfigUse=t,o.GetConfig(this.panalyticsId,e,this.onGetConfigData.bind(this),this.onGetConfigDataError.bind(this))}},{key:"UpdateConfig",value:function(t){setTimeout(this.LoadConfig.bind(this),t)}},{key:"onGetConfigDataError",value:function(){this.isLocalConfigUse&&this.setDefaultConfigForUse()}},{key:"setDefaultConfigForUse",value:function(){var t=u,e=JSON.parse(r.decode(t));this.ConfigLocalExtender=new s(this.id),this.configEncoded=this.ConfigLocalExtender.ExtendConfigEncoded(t),this.config=this.ConfigLocalExtender.ExtendConfigJson(e)}},{key:"statusLocalConfigInUse",get:function(){return this.isLocalConfigUse}},{key:"onGetConfigData",value:function(t){try{var e=JSON.parse(r.decode(t));e&&e.hasOwnProperty("filterLists")&&e.hasOwnProperty("videoValidatorsForHTML")&&e.hasOwnProperty("videoValidatorsForJS")&&e.hasOwnProperty("videoValidatorsForXHR")&&e.hasOwnProperty("loadManagement")&&e.hasOwnProperty("facebookConfig")&&e.hasOwnProperty("twitterConfig")&&e.hasOwnProperty("adBlockInspectorConfig")&&(this.configEncoded=this.ConfigLocalExtender.ExtendConfigEncoded(t),this.config=this.ConfigLocalExtender.ExtendConfigJson(e))}catch(t){}}},{key:"GetConfigFull",get:function(){return this.config}},{key:"GetLoadManagementSettings",value:function(){return this.config.loadManagement}},{key:"BlacklistPublishers",get:function(){return this.config.filterLists.blacklistPublishers}},{key:"FacebookConfig",get:function(){return this.config.facebookConfig}},{key:"TwitterConfig",get:function(){return this.config.twitterConfig}},{key:"RedditConfig",get:function(){return this.config.redditConfig}},{key:"PinterestConfig",get:function(){return this.config.pinterestConfig}},{key:"InstagramConfig",get:function(){return this.config.instagramConfig}},{key:"GetAdBlockInspectorConfig",value:function(){return this.config.adBlockInspectorConfig}},{key:"GetBannerAdsConfig",value:function(){return this.config.bannerAdsConfig}},{key:"GetHtml5AdsConfig",value:function(){return this.config.HTML5AdsConfig}},{key:"IsUseSensitiveDataFilter",value:function(){return!!this.config.hasOwnProperty("useSensitiveDataFilter")&&this.config.useSensitiveDataFilter}},{key:"GetConfigEncoded",value:function(){return this.configEncoded}}],n&&i(e.prototype,n),c&&i(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=c},8382:(t,e,n)=>{function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return b()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function f(){}function E(){}function _(){}var T={};c(T,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==e&&n.call(g,r)&&(T=g);var p=_.prototype=f.prototype=Object.create(T);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function i(a,r,o,u){var c=l(t[a],t,r);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==s(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,o,u)}),(function(t){i("throw",t,o,u)})):e.resolve(h).then((function(t){d.value=t,o(d)}),(function(t){return i("throw",t,o,u)}))}u(c.arg)}var a;this._invoke=function(t,n){function r(){return new e((function(e,a){i(t,n,e,a)}))}return a=a?a.then(r,r):r()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return E.prototype=_,c(p,"constructor",_),c(_,"constructor",E),E.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},A(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new v(d(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(p),c(p,u,"Generator"),c(p,r,(function(){return this})),c(p,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,a,r=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e,n,i,a,r,o){try{var s=t[r](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n(3124);var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.init=!1,this.CandidatesDataSkinAds=new Array,this.CandidatesDataBanners=new Array,this.CandidatesDataFacebook=new Array,this.CandidatesFacebookVideoData=new Array,this.CandidatesDataTwitter=new Array,this.CandidatesTwitterVideoData=new Array,this.TwitterCandidatePlacements=new Array,this.maxAmountTwitterCandidates=3,this.maxAmountTwitterVideoDatas=40,this.TwitterContentForCheck,this.CandidatesDataReddit=new Array,this.CandidatesRedditVideoData=new Array,this.CandidatesRedditRightColumnData=new Array,this.RedditCandidatePlacements=new Array,this.Html5CandidatePlacements=new Array,this.TiktokCandidatePlacements=new Array,this.InstagramCandidatePlacements=new Array,this.CandidatesDataInstagram=new Array,this.CandidatesInstagramVideoData=new Array,this.CandidatesInstagramFullTextData=new Array,this.CandidatesInstagramStoryData=new Array,this.CandidatesInstagramStoryTargetUrlSent=new Array,this.CandidatesInstagramCarouselSlidesSources=new Array,this.FacebookCandidatePlacements=new Array,this.FacebookAboutSectionContent=new Array,this.PinterestCandidatePlacements=new Array,this.CandidatesDataPinterest=new Array,this.CandidatesPinterestVideoData=new Array,this.PinterestUniqueContentIdSent=new Array,this.ChainSegmentContent=[],this.ChainSegmentContentFromBlockedIFrame=[],this.InvalidChainCompletedContent=new Array,this.FramesWithInputs=new Array,this.FramesWithRedirects=new Array,this.VideoHars=new Array,this.FramesDataContent=[],this.FramesHeaderInfoDataContent=[]}var e,n,r,c,d;return e=t,n=[{key:"GetMpKey",value:function(t){return"mp_"+t}},{key:"AddFrameDataContent",value:function(t,e){var n=this.GetMpKey(t);this.FramesDataContent[n]||(this.FramesDataContent[n]=[]),this.FramesDataContent[n].push(e)}},{key:"AddHeaderInfoFrame",value:function(t,e){var n=this.GetMpKey(t);this.FramesHeaderInfoDataContent[n]||(this.FramesHeaderInfoDataContent[n]=[]),this.FramesHeaderInfoDataContent[n].push(e)}},{key:"GetFrameDataContent",value:function(t,e){}},{key:"AddCandidatesDataSkinAds",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataSkinAds[n]||(this.CandidatesDataSkinAds[n]=new Array);for(var i=0;i<e.length;i++)this.CandidatesDataSkinAds[n].push(e[i])}},{key:"AddCandidatesDataBanners",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataBanners[n]||(this.CandidatesDataBanners[n]=new Array);for(var i=0;i<e.length;i++)this.CandidatesDataBanners[n].push(e[i])}},{key:"AddOneCandidateDataFacebook",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataFacebook[n]||(this.CandidatesDataFacebook[n]=new Array),this.CandidatesDataFacebook[n].push(e)}},{key:"AddCandidatesFacebookVideoData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesFacebookVideoData[n]||(this.CandidatesFacebookVideoData[n]=new Array),this.CandidatesFacebookVideoData[n].push(e)}},{key:"AddCandidatesTwitterVideoData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesTwitterVideoData[n]||(this.CandidatesTwitterVideoData[n]=new Array),this.CandidatesTwitterVideoData[n].push(e)}},{key:"AddCandidatesRedditVideoData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesRedditVideoData[n]||(this.CandidatesRedditVideoData[n]=new Array),this.CandidatesRedditVideoData[n].push(e)}},{key:"AddCandidatesRedditRightColumnData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesRedditRightColumnData[n]||(this.CandidatesRedditRightColumnData[n]=new Array),this.CandidatesRedditRightColumnData[n].push(e)}},{key:"AddCandidatesPinterestVideoData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesPinterestVideoData[n]||(this.CandidatesPinterestVideoData[n]=new Array),this.CandidatesPinterestVideoData[n].push(e)}},{key:"AddCandidatesInstagramVideoData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesInstagramVideoData[n]||(this.CandidatesInstagramVideoData[n]=new Array),this.CandidatesInstagramVideoData[n].push(e)}},{key:"AddCandidatesInstagramCarouselSlidesData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesInstagramCarouselSlidesSources[n]||(this.CandidatesInstagramCarouselSlidesSources[n]=new Array),this.CandidatesInstagramCarouselSlidesSources[n].push(e)}},{key:"AddCandidatesInstagramFullTextData",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesInstagramFullTextData[n]||(this.CandidatesInstagramFullTextData[n]=new Array),this.CandidatesInstagramFullTextData[n].push(e)}},{key:"AddCandidatesInstagramStoryData",value:function(t,e,n){var i=this.GetMpKey(t);if(this.CandidatesInstagramStoryData[i]||(this.CandidatesInstagramStoryData[i]=new Array),this.CandidatesInstagramStoryData[i].push(e),n){var a=[{content:e[0].advertiserName,screenName:e[0].advertiserName,adPlacementType:"story",isHolder:!0}];this.AddCandidatesDataInstagram(t,a),this.AddCandidatePlacementsInstagram(t,1)}}},{key:"AddCandidatesInstagramStoryTargetUrlsSent",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesInstagramStoryTargetUrlSent[n]||(this.CandidatesInstagramStoryTargetUrlSent[n]=new Array),this.CandidatesInstagramStoryTargetUrlSent[n].push(e)}},{key:"AddCandidatesDataFacebook",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataFacebook[n]||(this.CandidatesDataFacebook[n]=new Array);for(var i=0;i<e.length;i++)this.CandidatesDataFacebook[n].push(e[i])}},{key:"AddCandidatesDataTwitter",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataTwitter[n]||(this.CandidatesDataTwitter[n]=new Array);for(var i=0;i<e.length;i++)this.CandidatesDataTwitter[n].push(e[i])}},{key:"AddCandidatesDataReddit",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataReddit[n]||(this.CandidatesDataReddit[n]=new Array);for(var i=0;i<e.length;i++)this.CandidatesDataReddit[n].push(e[i])}},{key:"AddCandidatesDataInstagram",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataInstagram[n]||(this.CandidatesDataInstagram[n]=new Array);for(var i=0;i<e.length;i++)this.CandidatesDataInstagram[n].push(e[i])}},{key:"AddFacebookAboutSectionContent",value:function(t,e){var n=this.GetMpKey(t);this.FacebookAboutSectionContent[n]||(this.FacebookAboutSectionContent[n]=new Array);for(var i=0;i<e.length;i++)this.FacebookAboutSectionContent[n].push(e[i])}},{key:"AddCandidatesDataPinterest",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataPinterest[n]||(this.CandidatesDataPinterest[n]=new Array),this.PinterestUniqueContentIdSent[n]||(this.PinterestUniqueContentIdSent[n]=[]);for(var i=0;i<e.length;i++){var a=e[i].uniqueContentId;a&&this.PinterestUniqueContentIdSent[n]&&!this.PinterestUniqueContentIdSent[n].includes(a)&&(this.AddUniqueContentIdPinterest(t,a),this.CandidatesDataPinterest[n].push(e[i]),this.AddCandidatePlacementsPinterest(t,1))}}},{key:"AddCandidatePlacementsFacebook",value:function(t,e){var n=this.GetMpKey(t);this.FacebookCandidatePlacements[n]||(this.FacebookCandidatePlacements[n]=0),this.FacebookCandidatePlacements[n]=this.FacebookCandidatePlacements[n]+e}},{key:"AddCandidatePlacementsTwitter",value:function(t,e){var n=this.GetMpKey(t);this.TwitterCandidatePlacements[n]||(this.TwitterCandidatePlacements[n]=0),this.TwitterCandidatePlacements[n]=this.TwitterCandidatePlacements[n]+e}},{key:"AddCandidatePlacementsReddit",value:function(t,e){var n=this.GetMpKey(t);this.RedditCandidatePlacements[n]||(this.RedditCandidatePlacements[n]=0),this.RedditCandidatePlacements[n]=this.RedditCandidatePlacements[n]+e}},{key:"AddCandidatePlacementsHtml5",value:function(t,e){var n=this.GetMpKey(t);this.Html5CandidatePlacements[n]||(this.Html5CandidatePlacements[n]=0),this.Html5CandidatePlacements[n]=this.Html5CandidatePlacements[n]+e}},{key:"AddCandidatePlacementsTiktok",value:function(t,e){var n=this.GetMpKey(t);this.TiktokCandidatePlacements[n]||(this.TiktokCandidatePlacements[n]=0),this.TiktokCandidatePlacements[n]=this.TiktokCandidatePlacements[n]+e}},{key:"AddCandidatePlacementsInstagram",value:function(t,e){var n=this.GetMpKey(t);this.InstagramCandidatePlacements[n]||(this.InstagramCandidatePlacements[n]=0),this.InstagramCandidatePlacements[n]=this.InstagramCandidatePlacements[n]+e}},{key:"AddCandidatePlacementsPinterest",value:function(t,e){var n=this.GetMpKey(t);this.PinterestCandidatePlacements[n]||(this.PinterestCandidatePlacements[n]=0),this.PinterestCandidatePlacements[n]=this.PinterestCandidatePlacements[n]+e}},{key:"AddInvalidChainCompletedContent",value:function(t,e){var n=this.GetMpKey(t);this.InvalidChainCompletedContent[n]||(this.InvalidChainCompletedContent[n]=new Array),this.InvalidChainCompletedContent[n].push(e)}},{key:"AddChainSegmentContent",value:function(t,e){if(e&&e.headerInfo){var n=this.GetMpKey(t);this.ChainSegmentContent[n]||(this.ChainSegmentContent[n]=new Array),this.ChainSegmentContent[n].push(e)}}},{key:"AddChainSegmentContentFromBlockedIFrame",value:function(t,e){if(e){var n=this.GetMpKey(t);this.ChainSegmentContentFromBlockedIFrame[n]||(this.ChainSegmentContentFromBlockedIFrame[n]=new Array),this.ChainSegmentContentFromBlockedIFrame[n].push(e)}}},{key:"AddFrameWithInputs",value:function(t,e){var n=this.GetMpKey(t);this.FramesWithInputs[n]||(this.FramesWithInputs[n]=new Array),this.FramesWithInputs[n].push(e)}},{key:"AddFrameWithRedirects",value:function(t,e){var n=this.GetMpKey(t);this.FramesWithRedirects[n]||(this.FramesWithRedirects[n]=new Array),this.FramesWithRedirects[n].push(e)}},{key:"AddVideoHar",value:function(t,e){var n=this.GetMpKey(t);this.VideoHars[n]||(this.VideoHars[n]=new Array),this.VideoHars[n].push(e)}},{key:"AddUniqueContentIdPinterest",value:function(t,e){var n=this.GetMpKey(t);try{if(!this.CandidatesDataPinterest[n])return;e&&e.length&&!this.PinterestUniqueContentIdSent[n].includes(e)&&this.PinterestUniqueContentIdSent[n].push(e)}catch(t){}}},{key:"GetCandidatePlacementsHtml5",value:function(t){var e=this.GetMpKey(t);return this.Html5CandidatePlacements[e]?this.Html5CandidatePlacements[e]:0}},{key:"GetCandidatePlacementsTiktok",value:function(t){var e=this.GetMpKey(t);return this.TiktokCandidatePlacements[e]?this.TiktokCandidatePlacements[e]:0}},{key:"GetCandidatePlacementsInstagram",value:function(t){var e=this.GetMpKey(t);return this.InstagramCandidatePlacements[e]?this.InstagramCandidatePlacements[e]:0}},{key:"GetCandidatePlacementsFacebook",value:function(t){var e=this.GetMpKey(t);return this.FacebookCandidatePlacements[e]?this.FacebookCandidatePlacements[e]:0}},{key:"GetCandidatePlacementsTwitter",value:function(t){var e=this.GetMpKey(t);return this.TwitterCandidatePlacements[e]?this.TwitterCandidatePlacements[e]>this.maxAmountTwitterCandidates?this.maxAmountTwitterCandidates:this.TwitterCandidatePlacements[e]:0}},{key:"GetCandidatePlacementsReddit",value:function(t){var e=this.GetMpKey(t);return this.RedditCandidatePlacements[e]?this.RedditCandidatePlacements[e]:0}},{key:"GetCandidatePlacementsPinterest",value:function(t){var e=this.GetMpKey(t);return this.PinterestCandidatePlacements[e]?this.PinterestCandidatePlacements[e]:0}},{key:"GetVideoHars",value:function(t){var e=this.GetMpKey(t);return this.VideoHars[e]?this.VideoHars[e]:[]}},{key:"GetInvalidChainCompletedContent",value:function(t){var e=this.GetMpKey(t);return this.InvalidChainCompletedContent[e]?this.InvalidChainCompletedContent[e]:[]}},{key:"GetCandidatesDataBanners",value:function(t){var e=this.GetMpKey(t);return this.CandidatesDataBanners[e]?this.CandidatesDataBanners[e]:[]}},{key:"GetCandidatesDataFacebook",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesDataFacebook[n]&&(e=this.CandidatesDataFacebook[n])}catch(t){}return e}},{key:"GetCandidatesDataTwitter",value:function(t,e){var n=[];try{var i=this.GetMpKey(t);this.CandidatesDataTwitter[i]&&(n=this.CandidatesDataTwitter[i].length<=this.maxAmountTwitterCandidates||e?this.CandidatesDataTwitter[i]:this.CandidatesDataTwitter[i].slice(0,this.maxAmountTwitterCandidates))}catch(t){}return n}},{key:"GetCandidatesDataReddit",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesDataReddit[n]&&(e=this.CandidatesDataReddit[n])}catch(t){}return e}},{key:"GetCandidatesDataPinterest",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesDataPinterest[n]&&(e=this.CandidatesDataPinterest[n])}catch(t){}return e}},{key:"GetCandidatesDataInstagram",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesDataInstagram[n]&&(e=this.CandidatesDataInstagram[n])}catch(t){}return e}},{key:"GetCandidatesFacebookVideoData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesFacebookVideoData[n]&&(e=this.CandidatesFacebookVideoData[n])}catch(t){}return e}},{key:"GetCandidatesTwitterVideoData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesTwitterVideoData[n]&&(e=this.CandidatesTwitterVideoData[n])}catch(t){}return e}},{key:"GetCandidatesRedditVideoData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesRedditVideoData[n]&&(e=this.CandidatesRedditVideoData[n])}catch(t){}return e}},{key:"GetCandidatesPinterestVideoData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesPinterestVideoData[n]&&(e=this.CandidatesPinterestVideoData[n])}catch(t){}return e}},{key:"GetCandidatesInstagramVideoData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesInstagramVideoData[n]&&(e=this.CandidatesInstagramVideoData[n])}catch(t){}return e}},{key:"GetCandidatesInstagramCarouselSlidesData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesInstagramCarouselSlidesSources[n]&&(e=this.CandidatesInstagramCarouselSlidesSources[n])}catch(t){}return e}},{key:"GetCandidatesInstagramFullTextData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesInstagramFullTextData[n]&&(e=this.CandidatesInstagramFullTextData[n])}catch(t){}return e}},{key:"GetCandidatesInstagramStoryData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesInstagramStoryData[n]&&(e=this.CandidatesInstagramStoryData[n])}catch(t){}return e}},{key:"GetCandidatesInstagramStoryTargetUrlSent",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesInstagramStoryTargetUrlSent[n]&&(e=this.CandidatesInstagramStoryTargetUrlSent[n])}catch(t){}return e}},{key:"GetCandidatesRedditRightColumnData",value:function(t){var e=[];try{var n=this.GetMpKey(t);this.CandidatesRedditRightColumnData[n]&&(e=this.CandidatesRedditRightColumnData[n])}catch(t){}return e}},{key:"GetFacebookAboutSectionContent",value:function(t){var e=this.GetMpKey(t);return this.FacebookAboutSectionContent[e]?this.FacebookAboutSectionContent[e]:[]}},{key:"RemovePinterestSentVideoData",value:function(t,e){try{var n=this.GetMpKey(t);if(this.CandidatesPinterestVideoData[n]&&this.CandidatesPinterestVideoData[n].includes(e)){var i=this.CandidatesPinterestVideoData[n].indexOf(e);this.CandidatesPinterestVideoData[n].splice(i,1)}}catch(t){}}},{key:"RemoveInstagramSentVideoData",value:function(t,e){try{var n=this.GetMpKey(t);if(this.CandidatesInstagramVideoData[n]&&this.CandidatesInstagramVideoData[n].includes(e)){var i=this.CandidatesInstagramVideoData[n].indexOf(e);this.CandidatesInstagramVideoData[n].splice(i,1)}}catch(t){}}},{key:"RemoveInstagramSentFullTextData",value:function(t,e){try{var n=this.GetMpKey(t);if(this.CandidatesInstagramFullTextData[n]&&this.CandidatesInstagramFullTextData[n].includes(e)){var i=this.CandidatesInstagramFullTextData[n].indexOf(e);this.CandidatesInstagramFullTextData[n].splice(i,1)}}catch(t){}}},{key:"RemoveInstagramSentCarouselSlidesData",value:function(t,e){try{var n=this.GetMpKey(t);if(this.CandidatesInstagramCarouselSlidesSources[n]&&this.CandidatesInstagramCarouselSlidesSources[n].includes(e)){var i=this.CandidatesInstagramCarouselSlidesSources[n].indexOf(e);this.CandidatesInstagramCarouselSlidesSources[n].splice(i,1)}}catch(t){}}},{key:"RemoveInstagramSentStoryData",value:function(t,e,n){try{var i=this.GetMpKey(t);if(this.CandidatesInstagramStoryData[i]&&this.CandidatesInstagramStoryData[i].includes(e)){var a=this.CandidatesInstagramStoryData[i].indexOf(e);this.AddCandidatesInstagramStoryTargetUrlsSent(t,n),this.CandidatesInstagramStoryData[i].splice(a,1)}}catch(t){}}},{key:"GetCandidatesDataSkinAds",value:function(t){var e=this.GetMpKey(t);return this.CandidatesDataSkinAds[e]?this.CandidatesDataSkinAds[e]:[]}},{key:"IsChainFramesHaveInputs",value:function(t,e){var n=!1,i=this.GetMpKey(t);if(this.FramesWithInputs[i]&&this.FramesWithInputs[i].length&&e&&e.length)for(var a=0;a<e.length&&!n;a++)this.FramesWithInputs[i].includes(e[a])&&(n=!0);return n}},{key:"IsChainFramesHaveRedirects",value:function(t,e){var n=!1,i=this.GetMpKey(t);if(this.FramesWithRedirects[i]&&this.FramesWithRedirects[i].length&&e&&e.length)for(var a=0;a<e.length&&!n;a++)this.FramesWithRedirects[i].includes(e[a])&&(n=!0);return n}},{key:"GetChainBuildingInitInfo",value:function(t){var e=this.GetMpKey(t),n=[],i=0;if(this.ChainSegmentContent&&this.ChainSegmentContent[e]&&this.ChainSegmentContent[e].length)for(var a=0;a<this.ChainSegmentContent[e].length;a++){var r="chainId_".concat(this.ChainSegmentContent[e][a].headerInfo.chainId);"object"!==s(n[r])&&(i+=1,n[r]={chainId:this.ChainSegmentContent[e][a].headerInfo.chainId,validSegmentsAmount:0,validSegmentsId:[],invalidSegmentsAmount:0}),this.ChainSegmentContent[e][a].isValid?(n[r].validSegmentsAmount=n[r].validSegmentsAmount+1,n[r].validSegmentsId.push(this.ChainSegmentContent[e][a].browserFrameId)):n[r].invalidSegmentsAmount=n[r].invalidSegmentsAmount+1}return{buildingInit:n,chainsAmount:i}}},{key:"GetAllSegmentsForChain",value:function(t,e){var n=[];try{var i=this.GetMpKey(t);if(!this.ChainSegmentContent[i])return n;for(var a=0;a<this.ChainSegmentContent[i].length;a++)this.ChainSegmentContent[i][a].headerInfo.chainId===e&&n.push(this.ChainSegmentContent[i][a])}catch(t){}return n}},{key:"GetHeaderInfoByFrameId",value:(c=i().mark((function t(e,n){var r,o,s,u,c,d,l,h,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.GetMpKey(e),this.FramesHeaderInfoDataContent[r]){t.next=3;break}return t.abrupt("return",null);case 3:return t.prev=3,t.next=6,chrome.webNavigation.getFrame({tabId:e,frameId:n});case 6:o=t.sent,s=0,u=Object.entries(this.FramesHeaderInfoDataContent[r]);case 8:if(!(s<u.length)){t.next=18;break}if(c=a(u[s],2),d=c[0],l=c[1],h=l.frameId,f=l.headerInfo.src,h!==o.parentFrameId||f!==o.url){t.next=15;break}return this.FramesHeaderInfoDataContent[r].splice(d,1),t.abrupt("return",l);case 15:s++,t.next=8;break;case 18:return t.abrupt("return",null);case 21:t.prev=21,t.t0=t.catch(3);case 23:case"end":return t.stop()}}),t,this,[[3,21]])})),d=function(){var t=this,e=arguments;return new Promise((function(n,i){var a=c.apply(t,e);function r(t){o(a,n,i,r,s,"next",t)}function s(t){o(a,n,i,r,s,"throw",t)}r(void 0)}))},function(t,e){return d.apply(this,arguments)})},{key:"GetAllHeaderInfoFrames",value:function(t){var e=this.GetMpKey(t);return this.FramesHeaderInfoDataContent[e]?this.FramesHeaderInfoDataContent[e]:null}},{key:"HaveDataForTab",value:function(t){var e=this.GetMpKey(t);return!!(this.CandidatesDataSkinAds[e]&&this.CandidatesDataSkinAds[e].length||this.CandidatesDataBanners[e]&&this.CandidatesDataBanners[e].length||this.CandidatesDataFacebook[e]&&this.CandidatesDataFacebook[e].length||this.CandidatesDataTwitter[e]&&this.CandidatesDataTwitter[e].length||this.CandidatesDataReddit[e]&&this.CandidatesDataReddit[e].length||this.CandidatesDataPinterest[e]&&this.CandidatesDataPinterest[e].length||this.CandidatesDataInstagram[e]&&this.CandidatesDataInstagram[e].length||this.VideoHars[e]&&this.VideoHars[e].length||this.InvalidChainCompletedContent[e]&&this.InvalidChainCompletedContent[e].length||this.ChainSegmentContent[e]&&this.ChainSegmentContent[e].length||this.Html5CandidatePlacements[e]&&this.Html5CandidatePlacements[e]>0||this.FacebookCandidatePlacements[e]&&this.FacebookCandidatePlacements[e]>0||this.TwitterCandidatePlacements[e]&&this.TwitterCandidatePlacements[e]>0||this.RedditCandidatePlacements[e]&&this.RedditCandidatePlacements[e]>0||this.TiktokCandidatePlacements[e]&&this.TiktokCandidatePlacements[e]>0||this.PinterestCandidatePlacements[e]&&this.PinterestCandidatePlacements[e]>0||this.InstagramCandidatePlacements[e]&&this.InstagramCandidatePlacements[e]>0||this.CandidatesFacebookVideoData[e]&&this.CandidatesFacebookVideoData[e].length||this.CandidatesTwitterVideoData[e]&&this.CandidatesTwitterVideoData[e].length||this.CandidatesInstagramVideoData[e]&&this.CandidatesInstagramVideoData[e].length||this.CandidatesInstagramStoryData[e]&&this.CandidatesInstagramStoryData[e].length||this.CandidatesPinterestVideoData[e]&&this.CandidatesPinterestVideoData[e].length)}},{key:"RemoveOldFacebookVideoData",value:function(t,e){try{var n=this.GetMpKey(t);if(this.CandidatesFacebookVideoData[n]&&this.CandidatesFacebookVideoData[n].length){for(var i=Date.now()/1e3|0,a=[],r=0;r<this.CandidatesFacebookVideoData[n].length;r++)e.includes(this.CandidatesFacebookVideoData[n][r].videoId)||i-this.CandidatesFacebookVideoData[n][r].detectionTime>=300||a.push(this.CandidatesFacebookVideoData[n][r]);this.CandidatesFacebookVideoData[n]=a}}catch(t){}}},{key:"RemoveOldTwitterVideoData",value:function(t,e){try{var n=this.GetMpKey(t);if(this.CandidatesTwitterVideoData[n]&&this.CandidatesTwitterVideoData[n].length){for(var i=Date.now()/1e3|0,a=[],r=0;r<this.CandidatesTwitterVideoData[n].length;r++)e.includes(this.CandidatesTwitterVideoData[n][r].tweets.id)||i-this.CandidatesTwitterVideoData[n][r].detectionTime>=300||a.push(this.CandidatesTwitterVideoData[n][r]);this.CandidatesTwitterVideoData[n]=a}}catch(t){}}},{key:"RemoveIframeContentFromTabId",value:function(t,e){var n=this.GetMpKey(t);this.CandidatesDataSkinAds[n]&&(this.CandidatesDataSkinAds[n]=null),this.CandidatesDataBanners[n]&&(this.CandidatesDataBanners[n]=null),this.CandidatesDataFacebook[n]&&(this.CandidatesDataFacebook[n]=null),this.CandidatesDataTwitter[n]&&(this.CandidatesDataTwitter[n].length>this.maxAmountTwitterCandidates&&!e?this.CandidatesDataTwitter[n]=this.CandidatesDataTwitter[n].slice(this.maxAmountTwitterCandidates,this.CandidatesDataTwitter[n].length):this.CandidatesDataTwitter[n]=null),this.CandidatesDataReddit[n]&&(this.CandidatesDataReddit[n]=null),this.Html5CandidatePlacements[n]&&(this.Html5CandidatePlacements[n]=0),this.FacebookCandidatePlacements[n]&&(this.FacebookCandidatePlacements[n]=0),this.CandidatesDataPinterest[n]&&(this.CandidatesDataPinterest[n]=null),this.PinterestCandidatePlacements[n]&&(this.PinterestCandidatePlacements[n]=0),this.CandidatesDataInstagram[n]&&(this.CandidatesDataInstagram[n]=null,e&&(this.CandidatesInstagramCarouselSlidesSources[n]=null,this.CandidatesInstagramFullTextData[n]=null)),this.InstagramCandidatePlacements[n]&&(this.InstagramCandidatePlacements[n]=0),this.CandidatesInstagramStoryTargetUrlSent[n]&&(this.CandidatesInstagramStoryTargetUrlSent[n]=null),this.TwitterCandidatePlacements[n]&&(this.CandidatesDataTwitter[n]&&this.CandidatesDataTwitter[n].length>this.maxAmountTwitterCandidates?this.TwitterCandidatePlacements[n]=this.TwitterCandidatePlacements[n]-this.maxAmountTwitterCandidates:this.TwitterCandidatePlacements[n]=0),this.RedditCandidatePlacements[n]&&(this.RedditCandidatePlacements[n]=0),this.FacebookAboutSectionContent[n]&&(this.FacebookAboutSectionContent[n]=null),this.ChainSegmentContent[n]&&(this.ChainSegmentContent[n]=null),this.InvalidChainCompletedContent[n]&&(this.InvalidChainCompletedContent[n]=null),this.FramesWithInputs[n]&&(this.FramesWithInputs[n]=null),this.FramesWithRedirects[n]&&(this.FramesWithRedirects[n]=null),this.VideoHars[n]&&(this.VideoHars[n]=null),this.TiktokCandidatePlacements[n]&&(this.TiktokCandidatePlacements[n]=0),this.CandidatesFacebookVideoData[n]&&(e?this.CandidatesFacebookVideoData[n]=null:this.RemoveOldFacebookVideoData(t,[])),this.CandidatesTwitterVideoData[n]&&(e&&this.CandidatesTwitterVideoData[n].length>this.maxAmountTwitterVideoDatas||this.CandidatesTwitterVideoData[n].length>this.maxAmountTwitterVideoDatas)&&(this.CandidatesTwitterVideoData[n]=null),this.FramesHeaderInfoDataContent[n]&&(this.FramesHeaderInfoDataContent[n]=null)}},{key:"SetMaxAmountTwitterCandidates",value:function(t){this.maxAmountTwitterCandidates=t.MAX_CANDIDATES_TO_SEND}},{key:"SetMaxAmountTwitterVideoDatas",value:function(t){this.maxAmountTwitterVideoDatas=t.MAX_VIDEO_DATA_KEEP_IN_STORAGE}}],n&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=c},3002:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return b()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function f(){}function E(){}function _(){}var T={};c(T,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==e&&n.call(g,o)&&(T=g);var p=_.prototype=f.prototype=Object.create(T);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function a(r,o,s,u){var c=l(t[r],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==i(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){a("next",t,s,u)}),(function(t){a("throw",t,s,u)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return a("throw",t,s,u)}))}u(c.arg)}var r;this._invoke=function(t,n){function i(){return new e((function(e,i){a(t,n,e,i)}))}return r=r?r.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return E.prototype=_,c(p,"constructor",_),c(_,"constructor",E),E.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},A(v.prototype),c(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new v(d(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(p),c(p,u,"Generator"),c(p,o,(function(){return this})),c(p,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function r(t,e,n,i,a,r,o){try{var s=t[r](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=n(8962),c=n(1225),d=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.IsDisabled().then((function(t){!1===t&&u.CONFIG_DATA_COLLECTION_ENABLED?e.Enable():u.CONFIG_DATA_COLLECTION_ENABLED||e.Disable()}))}var e,n,i,r,d;return e=t,n=[{key:"Enable",value:function(){return chrome.storage.local.set({posdDataCollection:"on"}).then((function(){})),!0}},{key:"Disable",value:function(){return chrome.storage.local.set({posdDataCollection:"off"}).then((function(){})),!1}},{key:"IsEnabled",value:(d=o(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._get("posdDataCollection");case 2:return e=t.sent,t.abrupt("return","on"===e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"IsDisabled",value:(r=o(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._get("posdDataCollection");case 2:return e=t.sent,t.abrupt("return","off"===e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_has",value:function(t){return c.getDataFromStorageLocal(t).then((function(t){return!!t}))}},{key:"_get",value:function(t){return c.getDataFromStorageLocal(t).then((function(t){return t}))}}],n&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=d},8501:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=o(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},r.apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var l=n(1083),h=n(3124),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(c,t);var e,n,i,o=u(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,h.EXCLUDE_DOMAINS_LIST())}return e=c,(n=[{key:"AddItem",value:function(t){if(!/^https?:\/\/(?=.{1,254}(?::|$))(?:(?!\d|-)(?![a-z0-9\-]{1,62}-(?:\.|:|$))[a-z0-9\-]{1,63}\b(?!\.$)\.?)+(:\d+)?$/i.test(t))throw new Error("Domain is not valid");return r(d(c.prototype),"AddItem",this).call(this,t)}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),c}(l);t.exports=f},8950:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(8962),r=n(1850),o=n(3124),s=function(){function t(e,n,i,a,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.tabId=n,this.chainInfo=i,this.fullIdStr="tabId:".concat(n,"-chainId:").concat(i.chainId),this.init=!1,this.ContentStorage=a,this.onChainBuilt=u,this.html5Candidate={},this.targetUrls=[],this.buildingTimeoutId=null,this.status=o.IFRAMES_CHAIN_BUILDING_STATUS_NONE,this.extractionStatus=t.GetEmptyExtractionStatus(),this.chainInfo&&this.ContentStorage&&(this.init=!0,this.status=o.IFRAMES_CHAIN_BUILDING_STATUS_INITED,setTimeout(this.ActivateBuilding.bind(this),r),this.buildingTimeoutId=setTimeout(this.FinishBuilding.bind(this),s))}var e,n,s;return e=t,s=[{key:"GetEmptyExtractionStatus",value:function(){return{filteredOut:!1,fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1}}},{key:"GetSortedTargetUrls",value:function(t){var e=[];try{if(t&&t.length){t.sort((function(t,e){return e.square-t.square}));for(var n=0;n<t.length;n++)e.includes(t[n].href)||e.push(t[n].href)}}catch(t){}return e}},{key:"GetHtml5CandidateFromComletedInvalidChain",value:function(e){return{chainId:e.headerInfo.chainId,topFrameHeader:e.headerInfo.topHeaderContent,frames:[{contentFinal:e.contentFinal,depth:e.headerInfo.depth,bisId:e.headerInfo.bisId,childsBisId:[],parentBisId:"",id:e.headerInfo.frameId,src:e.headerInfo.src,size:e.headerInfo.size}],targetUrl:t.GetSortedTargetUrls(e.targetUrl)}}}],(n=[{key:"ActivateBuilding",value:function(){this.init&&this.BuildChain()}},{key:"BuildChain",value:function(){this.status=o.IFRAMES_CHAIN_BUILDING_STATUS_STARTED,this.html5Candidate={chainId:this.chainInfo.chainId,topFrameHeader:"",frames:[],targetUrl:[]};var t=this.ContentStorage.GetAllSegmentsForChain(this.tabId,this.chainInfo.chainId);if(t.length)for(var e=0;e<t.length;e++)0===t[e].headerInfo.depth&&t[e].headerInfo.topHeaderContent&&(this.html5Candidate.topFrameHeader=t[e].headerInfo.topHeaderContent),this.html5Candidate.frames.push({contentFinal:t[e].contentFinal,depth:t[e].headerInfo.depth,bisId:t[e].headerInfo.bisId,childsBisId:[],parentBisId:"",id:t[e].headerInfo.frameId,src:t[e].headerInfo.src,size:t[e].headerInfo.size}),this.targetUrls=this.targetUrls.concat(t[e].targetUrl),t[e].browserFrameId&&Number.isInteger(t[e].browserFrameId)&&!this.chainInfo.chainFramesList.includes(t[e].browserFrameId)&&this.chainInfo.chainFramesList.push(t[e].browserFrameId);if(this.ContentStorage.IsChainFramesHaveInputs(this.tabId,this.chainInfo.chainFramesList))this.extractionStatus.filteredOut=!0,this.FinishBuilding(!1);else if(this.targetUrls.length&&(this.extractionStatus.targetUrlExtracted=!0),t.length>=this.chainInfo.chainFramesList.length&&(this.extractionStatus.fullContentExtracted=!0),this.extractionStatus.targetUrlExtracted)this.FinishBuilding(!1);else{var n=!0;a.CONFIG_TARGET_URL_BY_CLICK_AVAILABLE&&this.html5Candidate.frames.length&&this.chainInfo.chainFramesList.length&&(this.ContentStorage.IsChainFramesHaveRedirects(this.tabId,this.chainInfo.chainFramesList)||(n=!1,this.ActivateTargetUrlByClickDetection())),n&&this.FinishBuilding(!1)}}},{key:"ActivateTargetUrlByClickDetection",value:function(){this.status=o.IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED;for(var t=[],e=0;e<this.html5Candidate.frames.length;e++)t.push(this.html5Candidate.frames[e].bisId);var n=r.EmptyMessage;n.type=o.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK,n.multiTo=t,n.content={chainId:this.html5Candidate.chainId},chrome.tabs.sendMessage(this.tabId,n).catch((function(t){}))}},{key:"AddDetectedTargetUrlByClick",value:function(t,e){this.status===o.IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED&&e&&e.length&&(this.targetUrls=this.targetUrls.concat(e),this.status=o.IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED,this.FinishBuilding(!1))}},{key:"FinishBuilding",value:function(e){this.status!==o.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED&&(this.status=o.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED,this.buildingTimeoutId&&(clearTimeout(this.buildingTimeoutId),this.buildingTimeoutId=null),this.html5Candidate.targetUrl=t.GetSortedTargetUrls(this.targetUrls),this.html5Candidate.targetUrl.length&&(this.extractionStatus.targetUrlExtracted=!0),!e&&this.onChainBuilt&&this.onChainBuilt(this.chainInfo.chainId))}},{key:"TerminateBuilding",value:function(){this.status!==o.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED&&this.FinishBuilding(!0)}},{key:"GetExtractionStatus",value:function(){return{chainId:this.chainInfo.chainId,extractionStatus:this.extractionStatus}}},{key:"GetChainId",value:function(){return this.chainInfo.chainId}},{key:"GetStatus",value:function(){return this.status}},{key:"GetHTML5Candidate",value:function(){return this.html5Candidate}},{key:"ClearChain",value:function(){this.initInfo=null,this.html5Candidate=null}}])&&i(e.prototype,n),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=s},4925:(t,e,n)=>{var i=n(7498);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return b()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function f(){}function E(){}function _(){}var T={};c(T,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==e&&n.call(g,o)&&(T=g);var p=_.prototype=f.prototype=Object.create(T);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function i(r,o,s,u){var c=l(t[r],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==a(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}var r;this._invoke=function(t,n){function a(){return new e((function(e,a){i(t,n,e,a)}))}return r=r?r.then(a,a):a()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return E.prototype=_,c(p,"constructor",_),c(_,"constructor",E),E.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},A(v.prototype),c(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new v(d(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(p),c(p,u,"Generator"),c(p,o,(function(){return this})),c(p,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,i,a,r,o){try{var s=t[r](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=n(3124),c=n(1850),d=n(8962),l=n(1225),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="bg_"+l.GenerateQuickId()}var e,n,a,h,f;return e=t,n=[{key:"InitListeners",value:function(){i&&i.hasOwnProperty("PopupListener")&&i.PopupListener.call(this),chrome.runtime.onMessage.addListener(this.messageListenerContent.bind(this))}},{key:"messageListenerContent",value:function(t,e,n){var i=t.type||"";c.IsValid(t)&&e.tab&&c.IsStrictValid(t)&&this.contentSideListener(i,t,e,n)}},{key:"contentSideListener",value:(h=r().mark((function t(e,n,i,a){var o,s,l,h,f,E,_,T,m,g=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===u.MESSAGE_TYPE_TAB_INITIALIZATION?3:t.t0===u.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION?8:t.t0===u.MESSAGE_TYPE_PANEL_REGULATOR_RESULT?12:t.t0===u.MESSAGE_TYPE_IFRAME_INITIALIZATION?15:t.t0===u.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET?22:"GET_ALL_HEADERS_INFO"===t.t0?25:t.t0===u.MESSAGE_TYPE_OUT_TICKET?28:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5?30:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK?33:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER?36:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT?39:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST?42:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TIKTOK?45:t.t0===u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM?48:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS?51:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS?54:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK?57:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER?60:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT?62:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM?65:t.t0===u.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST?68:t.t0===u.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA?72:t.t0===u.MESSAGE_TYPE_PINTEREST_VIDEO_DATA?75:t.t0===u.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA?78:t.t0===u.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES?81:t.t0===u.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA?84:t.t0===u.MESSAGE_TYPE_INSTAGRAM_STORY_DATA?87:t.t0===u.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA?90:t.t0===u.MESSAGE_TYPE_TWITTER_VIDEO_DATA?93:t.t0===u.MESSAGE_TYPE_REDDIT_VIDEO_DATA?96:t.t0===u.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA?99:t.t0===u.MESSAGE_TYPE_IFRAME_CONTENT?102:t.t0===u.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME?106:t.t0===u.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE?112:t.t0===u.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT?115:t.t0===u.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND?118:t.t0===u.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS?121:t.t0===u.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS?124:t.t0===u.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT?127:t.t0===u.MESSAGE_TYPE_VIDEO_HAR?130:t.t0===u.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT?137:t.t0===u.MESSAGE_TYPE_TEST?140:t.t0===u.MESSAGE_TYPE_INIT_REQUEST_LISTENER?142:145;break;case 3:return this.TabsManager.SetInitedTab(i.tab.id,n.content),d.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker.IsAdBlockerEnabled()&&this.AdBlocker.onTabUpdated(i.tab.id),o={status:"ok",config:{activeStatus:this.activeStatus,activeAdBlockInspectorAgent:this.AdBlockInspector.IsNeedActivateAgentForTab(i.tab.url),adBlockerStatus:this.AdBlocker.GetStatus(),panalyticsId:this.panalyticsId.ID,tabId:i.tab.id,excludeList:Object.keys(this.excludeList).reduce((function(t,e){return t[e]=g.excludeList[e].listData,t}),{domains:[],pages:[]}),configuration:this.ConfigManager.GetConfigEncoded()}},a(o),t.abrupt("break",147);case 8:return this.TabsManager.SetInitedTab(i.tab.id,n.content),d.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker.IsAdBlockerEnabled()&&this.AdBlocker.onTabUpdated(i.tab.id),a({status:"ok"}),t.abrupt("break",147);case 12:return this.UpdateSlaveTabs(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 15:return n.content.contentForSave.frameId=i.frameId,(s=c.EmptyMessage).type=u.MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE,s.from=this.id,s.content={isMaster:this.isTabMaster(i.tab.id),activeStatus:this.activeStatus,frameId:i.frameId,configuration:this.ConfigManager.GetConfigEncoded()},a({status:"ok",mes:s}),t.abrupt("break",147);case 22:return this.TicketBuilder.AddTicketToTabInfo(i.tab.id,this.TicketBuilder.PrebuildTicket(n.content)),a({status:"ok"}),t.abrupt("break",147);case 25:return l=this.ContentStorage.GetAllHeaderInfoFrames(i.tab.id),a({status:"ok",allHeadersInfo:l}),t.abrupt("break",147);case 28:return this.TicketBuilder.AddTicketForBuilding(i.tab.id,this.TicketBuilder.PrebuildTicket(n.content))?a({status:"ok"}):a({status:"error"}),t.abrupt("break",147);case 30:return this.ContentStorage.AddCandidatePlacementsHtml5(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 33:return this.ContentStorage.AddCandidatePlacementsFacebook(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 36:return this.ContentStorage.AddCandidatePlacementsTwitter(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 39:return this.ContentStorage.AddCandidatePlacementsReddit(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 42:return this.ContentStorage.AddCandidatePlacementsPinterest(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 45:return this.ContentStorage.AddCandidatePlacementsTiktok(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 48:return this.ContentStorage.AddCandidatePlacementsInstagram(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 51:return this.ContentStorage.AddCandidatesDataSkinAds(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 54:return this.ContentStorage.AddCandidatesDataBanners(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 57:if(n.content&&n.content.length)for(h=0;h<n.content.length;h++)n.content[h].designVersion===u.FACEBOOK_DESIGN_VERSION_NEW?this.ContentStorage.AddOneCandidateDataFacebook(i.tab.id,n.content[h]):this.FacebookLoader.IsLoadAboutPageActivated()&&n.content[h].aboutPageLink&&n.content[h].aboutPageLink.length?this.FacebookLoader.AddOneCandidateForLoading(i.tab.id,n.content[h],n.type):this.ContentStorage.AddOneCandidateDataFacebook(i.tab.id,n.content[h]);return a({status:"ok"}),t.abrupt("break",147);case 60:return this.TwitterLoader.IsLoadUserDataActivated()&&(n.content[0].hasOwnProperty("videoData")&&n.content[0].videoData||!n.content[0].hasOwnProperty("videoData"))?(this.TwitterLoader.AddCandidatesForLoading(i.tab.id,n.content),a({status:"ok"})):(n.content[0].hasOwnProperty("videoData")&&n.content[0].videoData||!n.content[0].hasOwnProperty("videoData"))&&(this.ContentStorage.AddCandidatesDataTwitter(i.tab.id,n.content),a({status:"ok"})),t.abrupt("break",147);case 62:return this.ContentStorage.AddCandidatesDataReddit(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 65:return n.content[0].aboutPageUrl?this.InstagramLoader.AddCandidatesForLoading(i.tab.id,n.content):this.ContentStorage.AddCandidatesDataInstagram(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 68:return f=n.content,this.PinterestLoader.AddCandidateForLoading(i.tab.id,f),a({status:"ok"}),t.abrupt("break",147);case 72:return n.content&&this.ContentStorage.AddCandidatesFacebookVideoData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 75:return n.content&&this.ContentStorage.AddCandidatesPinterestVideoData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 78:return n.content&&this.ContentStorage.AddCandidatesInstagramVideoData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 81:return n.content&&this.ContentStorage.AddCandidatesInstagramCarouselSlidesData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 84:return n.content&&this.ContentStorage.AddCandidatesInstagramFullTextData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 87:return n.content&&(E="enabled"===this.AdBlocker.GetStatus().INSTAGRAM,this.ContentStorage.AddCandidatesInstagramStoryData(i.tab.id,n.content,E)),a({status:"ok"}),t.abrupt("break",147);case 90:return n.content&&((_=n.content).requestId=this.VideoRequestNumber++,n.content.encodedText.bisLinks&&n.content.encodedText.bisLinks.aboutPageLink?this.FacebookLoader.AddOneCandidateForLoading(i.tab.id,n.content,n.type):this.ContentStorage.AddVideoHar(i.tab.id,_),a({status:"ok"})),a({status:"ok"}),t.abrupt("break",147);case 93:return n.content&&this.ContentStorage.AddCandidatesTwitterVideoData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 96:return n.content&&this.ContentStorage.AddCandidatesRedditVideoData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 99:return n.content&&this.ContentStorage.AddCandidatesRedditRightColumnData(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 102:return n.content.browserFrameId=i.frameId,this.ContentStorage.AddChainSegmentContent(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 106:return t.next=108,this.ContentStorage.GetHeaderInfoByFrameId(i.tab.id,i.frameId);case 108:return(T=t.sent)&&chrome.tabs.sendMessage(i.tab.id,{parentInfo:T,status:"ok",type:u.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE},{frameId:i.frameId}),a({status:"processing"}),t.abrupt("break",147);case 112:return this.ContentStorage.AddHeaderInfoFrame(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 115:return n.content.isChainCompleted?this.ContentStorage.AddInvalidChainCompletedContent(i.tab.id,n.content):this.ContentStorage.AddChainSegmentContent(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 118:return this.TicketBuilder.IsInit()&&this.TicketBuilder.onGotTicketClickTargetUrlInfo(i.tab.id,n.from,n.content),a({status:"ok"}),t.abrupt("break",147);case 121:return this.ContentStorage.AddFrameWithInputs(i.tab.id,i.frameId),a({status:"ok"}),t.abrupt("break",147);case 124:return this.ContentStorage.AddFrameWithRedirects(i.tab.id,i.frameId),a({status:"ok"}),t.abrupt("break",147);case 127:return d.CONFIG_ADBLOCKER_AVAILABLE&&this.AdBlocker.SetHiddenCandidatesAmount(i.tab.id,n.content),a({status:"ok"}),t.abrupt("break",147);case 130:return(m=n.content).requestId=this.VideoRequestNumber++,m.frameId=i.frameId,m.framesChain=[],this.ContentStorage.AddVideoHar(i.tab.id,m),a({status:"ok"}),t.abrupt("break",147);case 137:return this.AdBlockInspector&&this.AdBlockInspector.onGotMessageFromAdBlockInspectorAgent&&this.AdBlockInspector.onGotMessageFromAdBlockInspectorAgent(n.content),a({status:"ok"}),t.abrupt("break",147);case 140:return a({status:"ok"}),t.abrupt("break",147);case 142:return n.content&&this.listenerWithCallback(n.content),a({status:"ok"}),t.abrupt("break",147);case 145:return a({status:"error"}),t.abrupt("break",147);case 147:case"end":return t.stop()}}),t,this)})),f=function(){var t=this,e=arguments;return new Promise((function(n,i){var a=h.apply(t,e);function r(t){o(a,n,i,r,s,"next",t)}function s(t){o(a,n,i,r,s,"throw",t)}r(void 0)}))},function(t,e,n,i){return f.apply(this,arguments)})}],n&&s(e.prototype,n),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=h},6523:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=o(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},r.apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var l=n(1083),h=n(3124),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(c,t);var e,n,i,o=u(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,h.EXCLUDE_PAGES_LIST())}return e=c,(n=[{key:"AddItem",value:function(t){if(!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t))throw new Error("Url is not valid");return r(d(c.prototype),"AddItem",this).call(this,t)}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),c}(l);t.exports=f},5978:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(8962),r=n(6038).Z,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.panalyticsId="",this.onGotId=null,this.PanalyticsUtility=new r({host:a.CONFIG_UTILITY_HOST,logging:a.CONFIG_PANALYTICS_UTILITY_LOGGING})}var e,n,o;return e=t,(n=[{key:"ID",get:function(){return this.panalyticsId}},{key:"GetId",value:function(t){var e=this;this.onGotId=t,this.PanalyticsUtility.getKey((function(t){t.length&&(e.panalyticsId=t,e.onGotId&&e.onGotId(e.panalyticsId))}),!0)}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=o},1083:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(1225),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._key=e,this.statusHasList=!1,this.listData=[],this.HasList()}var e,n,r;return e=t,(n=[{key:"GetList",value:function(){var t=this;return chrome.storage.local.get([this._key]).then((function(e){return t.listData=Object.keys(e).length?JSON.parse(e[t._key]):[],t.listData}))}},{key:"RemoveList",value:function(){chrome.storage.local.remove([this._key])}},{key:"HasList",value:function(){var t=this;a.getDataFromStorageLocal(this._key).then((function(e){t.statusHasList=!!Object.keys(e).length,t.listData=Object.keys(e).length?JSON.parse(e):[]}))}},{key:"SetItems",value:function(t){var e={};e[this._key]=JSON.stringify(t),chrome.storage.local.set(e)}},{key:"AddItem",value:function(t){var e=this;if(""===t.trim())throw new Error("Item's name is empty");this.GetList().then((function(n){if(-1!==n.indexOf(t))throw new Error('Item "'.concat(t,'" is already exist'));n.push(t),e.SetItems(n)}))}},{key:"RemoveItem",value:function(t){var e=this;this.GetList().then((function(n){var i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.SetItems(n))}))}},{key:"HasItem",value:function(t){return this.GetList().then((function(e){return-1!==e.indexOf(t)}))}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=r},5734:(t,e,n)=>{function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(1225),s=n(3124),u=n(1850),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.initedTabs=[],this.onActivatedHandlers=[],this.onRemovedHandlers=[],this.onUpdatedHandlers=[],this.onUpdated(this.PageUrlChangeWatcher.bind(this)),this.onRemovedInstance=chrome.tabs.onRemoved,this.onActivatedInstance=chrome.tabs.onActivated,this.onUpdatedInstance=chrome.tabs.onUpdated,this.StartListeners()}var e,n,a;return e=t,(n=[{key:"StartListeners",value:function(){this.AddListenerOnActivated(),this.AddListenerOnRemoved(),this.AddListenerOnUpdated()}},{key:"AddListenerOnActivated",value:function(){var t=this,e=function(e){var n,a=i(t.onActivatedHandlers);try{for(a.s();!(n=a.n()).done;)(0,n.value)(e)}catch(t){a.e(t)}finally{a.f()}}.bind(this);this.onActivatedInstance.addListener(e)}},{key:"AddListenerOnRemoved",value:function(){var t=this,e=function(e,n){var a,r=i(t.onRemovedHandlers);try{for(r.s();!(a=r.n()).done;)(0,a.value)(e,n)}catch(t){r.e(t)}finally{r.f()}}.bind(this);this.onRemovedInstance.addListener(e)}},{key:"AddListenerOnUpdated",value:function(){var t=this,e=function(e,n,a){var r,o=i(t.onUpdatedHandlers);try{for(o.s();!(r=o.n()).done;)(0,r.value)(e,n,a)}catch(t){o.e(t)}finally{o.f()}}.bind(this);this.onUpdatedInstance.addListener(e)}},{key:"onActivated",value:function(t){this.onActivatedHandlers.push(t)}},{key:"onRemoved",value:function(t){this.onRemovedHandlers.push(t)}},{key:"onUpdated",value:function(t){this.doesExistAlready(this.onUpdatedHandlers,t)||this.onUpdatedHandlers.push(t)}},{key:"doesExistAlready",value:function(t,e){var n=t.map((function(t){return t.name})),i=e.name;return n.includes(i)}},{key:"SetInitedTab",value:function(t,e){e.tabId=t,this.initedTabs[o.GetTabIdKey(t)]=e}},{key:"PageUrlChangeWatcher",value:function(t,e,n){if(e&&e.url){var i=o.GetTabIdKey(t);if(void 0!==this.initedTabs[i]&&this.initedTabs[i].url&&this.initedTabs[i].url!==e.url){var a=u.EmptyMessage;a.type=s.MESSAGE_TYPE_TAB_URL_CHANGED,a.to=o.GetMainPageId(t),a.content={newUrl:e.url,initedTicketId:this.initedTabs[i].ticketId},chrome.tabs.sendMessage(t,a).catch((function(t){}))}}}},{key:"GetAllTabs",value:function(t){chrome.tabs.query({currentWindow:!0,discarded:!0}).then((function(e){t&&t(e)}))}}])&&r(e.prototype,n),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=c},1234:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,a,r=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),o=new S(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return b()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function f(){}function E(){}function _(){}var T={};c(T,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==e&&n.call(g,o)&&(T=g);var p=_.prototype=f.prototype=Object.create(T);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function a(r,o,s,u){var c=l(t[r],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==i(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){a("next",t,s,u)}),(function(t){a("throw",t,s,u)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return a("throw",t,s,u)}))}u(c.arg)}var r;this._invoke=function(t,n){function i(){return new e((function(e,i){a(t,n,e,i)}))}return r=r?r.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return E.prototype=_,c(p,"constructor",_),c(_,"constructor",E),E.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,u,"GeneratorFunction")),t.prototype=Object.create(p),t},t.awrap=function(t){return{__await:t}},A(v.prototype),c(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new v(d(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(p),c(p,u,"Generator"),c(p,o,(function(){return this})),c(p,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=D,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,i,a,r,o){try{var s=t[r](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){o(r,i,a,s,u,"next",t)}function u(t){o(r,i,a,s,u,"throw",t)}s(void 0)}))}}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function c(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){var e,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new f(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function f(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return f=function(t){this.s=t,this.n=t.next},f.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new f(t)}var E=n(1225),_=n(4019),T=n(8962),m=n(3124),g=n(1850),p=n(8950),A=n(7833),v=function(){function t(e,n,i,a,r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.panalyticsId=n,this.tabId=i,this.lastTicketDataSendTimestamp=r,this.ConfigManager=s,this.ContentStorage=o,this.rawTicket=JSON.parse(a),this.html5AdsPrebuildInfo=[],this.webNavigationIframes=[],this.webNavigationChainsList=[],this.fullIframesList=[],this.onTicketBuiltCallback=null,this.timeoutMaxBuilding=null,this.timeoutDeepTargetUrlDetection=null,this.status=m.TICKET_BUILDING_STATUS_INIT,this.chainBuildingInitInfo=[],this.chains=[],this.successfullyBuidChainIds=[],this.chainsWithoutTargetUrl=[],this.finalOutTicket={ticketId:"",data:""},this.GetHtml5AdsPrebuildInfo(),this.textStorage=[],this.isFacebookTicketReady=!1,this.isTwitterTicketReady=!1,this.isRedditTicketReady=!1,this.ContentStorage.SetMaxAmountTwitterVideoDatas(this.ConfigManager.TwitterConfig),this.ContentStorage.SetMaxAmountTwitterCandidates(this.ConfigManager.TwitterConfig)}var e,n,i,o,c,d,f;return e=t,n=[{key:"GetHtml5AdsPrebuildInfo",value:function(){if(this.rawTicket&&this.rawTicket.adCandidatesHtml5&&this.rawTicket.adCandidatesHtml5.length){for(var t=0;t<this.rawTicket.adCandidatesHtml5.length;t++)this.html5AdsPrebuildInfo.push(this.rawTicket.adCandidatesHtml5[t]);this.rawTicket.adCandidatesHtml5=[]}}},{key:"IsValid",value:function(){var t=!1;try{this.rawTicket&&this.rawTicket.ticketId&&this.rawTicket.ticketId.length&&this.rawTicket.url&&this.rawTicket.url.length&&(t=!0)}catch(t){}return t}},{key:"TabId",get:function(){return this.tabId}},{key:"ActivateBuilding",value:function(t){this.onTicketBuiltCallback=t,this.finalOutTicket.ticketId=this.rawTicket.ticketId,this.ActivateHTML5CandidatesBuilding()?(this.status=m.TICKET_BUILDING_STATUS_STARTED,this.timeoutMaxBuilding=setTimeout(this.onMaxBuildingTimeout.bind(this),7e3)):this.GetWebNavigationIframes(this.TicketBuildingFinished.bind(this,!1))}},{key:"ActivateHTML5CandidatesBuilding",value:function(){var t=this.ContentStorage.GetChainBuildingInitInfo(this.tabId);return this.chainBuildingInitInfo=t.buildingInit,!!t.chainsAmount&&(this.GetWebNavigationIframes(this.AcivateIframeChainsBuilding.bind(this)),!0)}},{key:"GetWebNavigationIframes",value:function(t){var e=this;this.status=m.TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES,chrome.webNavigation.getAllFrames({tabId:this.tabId}).then((function(n){n&&(e.webNavigationIframes=n,e.webNavigationChainsList=A.GetWebNavigationChainsList(e.webNavigationIframes),e.status=m.TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES),t&&t()}))}},{key:"AcivateIframeChainsBuilding",value:function(){for(var t in this.successfullyBuidChainIds=[],this.chainBuildingInitInfo){var e=this.chainBuildingInitInfo[t];e.chainFramesList=this.FindChainFramesListForSegment(e.validSegmentsId),this.chains.push(new p(this.id,this.tabId,e,this.ContentStorage,this.GetChainStartBuildingTimeout(e.chainId),6e3,this.onIframeChainBuilt.bind(this)))}}},{key:"GetChainStartBuildingTimeout",value:function(t){var e=E.GetRandomIntInRange(500,1e3),n=!1;if(this.html5AdsPrebuildInfo)for(var i=0;i<this.html5AdsPrebuildInfo.length&&!n;i++)this.html5AdsPrebuildInfo[i].chainId===t&&(this.html5AdsPrebuildInfo[i].timeAfterProcessingStart<3e3&&(e=3e3-this.html5AdsPrebuildInfo[i].timeAfterProcessingStart),n=!0);return e}},{key:"onIframeChainBuilt",value:function(t){this.successfullyBuidChainIds.includes(t)||(this.successfullyBuidChainIds.push(t),this.successfullyBuidChainIds.length===this.chains.length&&this.TicketBuildingFinished(!1))}},{key:"FindChainFramesListForSegment",value:function(t){var e=[];if(t&&t.length&&this.webNavigationChainsList&&this.webNavigationChainsList.length)for(var n=!1,i=0;i<this.webNavigationChainsList.length&&!n;i++)this.webNavigationChainsList[i].includes(t[0])&&(e=this.webNavigationChainsList[i],n=!0);return t&&0===e.length&&t.length>0&&(e=t),e}},{key:"GetVideoHars",value:function(t){var e=-1,n=!1,i=this.ContentStorage.GetVideoHars(this.tabId);if(i.length&&this.webNavigationIframes&&this.webNavigationIframes.length){for(var a=0;a<i.length;a++)i[a].frameId&&(i[a].framesChain=A.GetVideoHarFramesChainFullInfo(i[a].frameId,this.webNavigationIframes)),t&&(i[a].mediaType&&i[a].mediaType===m.VIDEO_TRAFFIC_MEDIA_TYPE_HTML&&(e=a),i[a].alias&&i[a].alias===m.VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE&&(n=!0));t&&n&&-1!==e&&i.splice(e,1)}return i}},{key:"onGotTicketClickTargetUrl",value:function(t,e,n){if(this.chains&&this.chains.length)for(var i=!1,a=0;a<this.chains.length&&!i;a++)this.chains[a].GetChainId()===e&&(i=!0,this.chains[a].AddDetectedTargetUrlByClick(t,n))}},{key:"onMaxBuildingTimeout",value:function(){if(this.chains.length)for(var t=0;t<this.chains.length;t++)this.chains[t].TerminateBuilding();this.TicketBuildingFinished(!1)}},{key:"GetVideoDataForTwitterVideoAd",value:function(t,e){var n=this,i={};try{!function(){var a=n.ConfigManager.TwitterConfig.MIN_AMOUNT_OF_WORDS_FOR_MATCHING,r=n.ConfigManager.TwitterConfig.MIN_MATCHING_WORD_LENGTH;if(t&&t.length&&e&&e.length)for(var o=!1,s=0;s<t.length&&!o;s++){var c=t[s].tweets.full_text;n.textStorage.includes(c)||n.textStorage.push(c);var d=c.replace(/[\n\r]/g," ").split(/\s/).filter((function(t){return t.length>=r&&!t.startsWith("http")&&!t.startsWith("#")&&!t.startsWith("@")&&!(/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/g.test(t)||/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/g.test(t))})),l=0,h=0;if(d.length){var f,E=u(d);try{for(E.s();!(f=E.n()).done;){var _=f.value;l++,e.includes(_)&&h++}}catch(t){E.e(t)}finally{E.f()}l>=a&&h==l&&(o=!0,i=t[s])}else!d.length&&n.textStorage.includes(c)}}()}catch(t){}return i}},{key:"GetVideoDataForRedditVideoAd",value:function(t,e){var n={};try{if(t&&t.length&&e&&e.length)for(var i=!1,a=0;a<t.length&&!i;a++){var r=t[a];e.includes(r.videoId)&&(i=!0,n=r)}}catch(t){}return n}},{key:"GetRightColumnDataForReddit",value:function(t,e){var n="";try{if(e&&e.length)for(var i=!1,a=0;a<t.length&&!i;a++){var r=t[a];if(r.length){var o,s=u(r);try{for(s.s();!(o=s.n()).done;){var c=o.value,d=c.elementId.replace(/&/g,"&amp;");if(e.includes(d))return n=c.targetUrl,i=!0,n}}catch(t){s.e(t)}finally{s.f()}}}}catch(t){}return n}},{key:"TicketBuildingFinished",value:(f=s(r().mark((function t(e){var n,i,a,o,s,u,c,d,l,h,f,_,A,v;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,0===this.rawTicket[m.TICKET_ALIAS_PANALYTICSID].length&&(this.rawTicket[m.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId),t.next=4,this.LookingForFacebookAds();case 4:if(this.LookingForTwitterAds(e),this.LookingForRedditAds(),this.LookingForSkinAds(),this.LookingForPinterestAds(),this.LookingForInstagramAds(),this.LookingForBannerAds(),i=[],(a=this.ContentStorage?this.ContentStorage.GetInvalidChainCompletedContent(this.tabId):[]).length)for(o=0;o<a.length;o++)s=p.GetHtml5CandidateFromComletedInvalidChain(a[o]),u={chainId:a[o].headerInfo.chainId,extractionStatus:p.GetEmptyExtractionStatus()},s.frames.length&&(u.extractionStatus.fullContentExtracted=!0),s.targetUrl.length&&(u.extractionStatus.targetUrlExtracted=!0),u.extractionStatus.fullContentExtracted&&u.extractionStatus.targetUrlExtracted&&(this.rawTicket.adCandidatesHtml5.push(s),u.extractionStatus.sentToBackend=!0),i.push(u);if(this.chains.length)for(c=0;c<this.chains.length;c++)this.chains[c].GetStatus()===m.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED&&(!(d=this.chains[c].GetExtractionStatus()).extractionStatus.filteredOut&&d.extractionStatus.targetUrlExtracted&&(this.rawTicket.adCandidatesHtml5.push(this.chains[c].GetHTML5Candidate()),d.extractionStatus.sentToBackend=!0),i.push(d));if(l=E.IsYouTubeUrl(this.rawTicket.url),this.rawTicket.videoTraffics=this.GetVideoHars(l),this.rawTicket.adCandidatePlacements.skinAd=this.rawTicket.adCandidatesSkinAd.length,this.rawTicket.adCandidatePlacements.banner=this.rawTicket.adCandidatesBanner.length,this.rawTicket.adCandidatePlacements.html5=this.ContentStorage.GetCandidatePlacementsHtml5(this.tabId),this.rawTicket.adCandidatePlacements.facebook=this.ContentStorage.GetCandidatePlacementsFacebook(this.tabId),this.rawTicket.adCandidatePlacements.twitter=this.ContentStorage.GetCandidatePlacementsTwitter(this.tabId),this.rawTicket.adCandidatePlacements.reddit=this.ContentStorage.GetCandidatePlacementsReddit(this.tabId),this.rawTicket.adCandidatePlacements.pinterest=this.ContentStorage.GetCandidatePlacementsPinterest(this.tabId),this.rawTicket.adCandidatePlacements.tiktok=this.ContentStorage.GetCandidatePlacementsTiktok(this.tabId),this.rawTicket.adCandidatePlacements.instagram=this.ContentStorage.GetCandidatePlacementsInstagram(this.tabId),(h=this.ConfigManager.GetLoadManagementSettings())&&(this.rawTicket.adCandidatesSkinAd.length&&!h.sendCandidatesSkinAd&&(this.rawTicket.adCandidatesSkinAd=[]),this.rawTicket.adCandidatesBanner.length&&!h.sendCandidatesBanner&&(this.rawTicket.adCandidatesBanner=[]),this.rawTicket.adCandidatesHtml5.length&&!h.sendCandidatesHtml5&&(this.rawTicket.adCandidatesHtml5=[]),this.rawTicket.videoTraffics.length&&(f=E.IsTiktokUrl(this.rawTicket.url),_=E.IsFacebookUrl(this.rawTicket.url),l&&!h.sendYoutubeVideoTraffics||f&&!h.sendTiktokVideoTraffics||_&&!h.sendFacebookVideoTraffics?this.rawTicket.videoTraffics=[]:_||f||l||h.sendNonYoutubeVideoTraffics||(this.rawTicket.videoTraffics=[])),this.rawTicket.adsFacebook.length&&!h.sendFacebookAds&&(this.rawTicket.adsFacebook=[]),this.rawTicket.adsTwitter.length&&!h.sendTwitterAds&&(this.rawTicket.adsTwitter=[]),this.rawTicket.adsReddit.length&&!h.sendRedditAds&&(this.rawTicket.adsReddit=[]),this.rawTicket.adsPinterest.length&&!h.sendPinterestAds&&(this.rawTicket.adsPinterest=[]),this.rawTicket.adsInstagram.length&&!h.sendInstagramAds&&(this.rawTicket.adsInstagram=[])),E.IsPublisherInBlacklist(this.rawTicket.url,this.ConfigManager.BlacklistPublishers)&&(this.rawTicket.adCandidatesSkinAd=[],this.rawTicket.adCandidatesBanner=[],this.rawTicket.adCandidatesHtml5=[],this.rawTicket.videoTraffics=[],this.rawTicket.adsFacebook=[],this.rawTicket.adsTwitter=[],this.rawTicket.adsReddit=[],this.rawTicket.adsPinterest=[],this.rawTicket.adsInstagram=[]),(this.rawTicket.adCandidatesSkinAd.length||this.rawTicket.adCandidatesBanner.length||this.rawTicket.adCandidatesHtml5.length||this.rawTicket.videoTraffics.length||this.rawTicket.adsFacebook.length||this.rawTicket.adsTwitter.length||this.rawTicket.adsReddit.length||this.rawTicket.adsPinterest.length||this.rawTicket.adsInstagram.length||this.rawTicket.firstVisit)&&(n=!0),this.rawTicket.timeOnPage=E.GetCurrentTimestamp()-this.lastTicketDataSendTimestamp,this.finalOutTicket.type=m.OUT_TICKET_TYPE_SINGLE,this.finalOutTicket.data=JSON.stringify(this.rawTicket),this.status=m.TICKET_BUILDING_STATUS_DONE,this.chains.length)for(A=0;A<this.chains.length;A++)this.chains[A].ClearChain();this.chains=[],this.timeoutMaxBuilding&&(clearTimeout(this.timeoutMaxBuilding),this.timeoutMaxBuilding=null),this.timeoutDeepTargetUrlDetection&&(clearTimeout(this.timeoutDeepTargetUrlDetection),this.timeoutDeepTargetUrlDetection=null),(n||e)&&this.ContentStorage.RemoveIframeContentFromTabId(this.tabId,e),e||(i.length&&T.CONFIG_MARK_AD_CANDIDATES&&T.CONFIG_MARK_PROCESSED_AD_CANDIDATES&&((v=g.EmptyMessage).type=m.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES,v.to="mp_"+this.tabId,v.content=i,chrome.tabs.sendMessage(this.tabId,v).catch((function(t){}))),this.onTicketBuiltCallback&&this.tabId&&this.onTicketBuiltCallback(this.tabId,this.finalOutTicket,n),this.ClearTicket());case 39:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"isReadyToClearTicket",get:function(){var t=!1;return this.isFacebookTicketReady&&this.isTwitterTicketReady&&this.isRedditTicketReady&&(t=!0),t}},{key:"LookingForInstagramAds",value:function(){if(this.ContentStorage){this.rawTicket.adsInstagram=this.ContentStorage.GetCandidatesDataInstagram(this.tabId);var t=this.ContentStorage.GetCandidatesInstagramVideoData(this.tabId),e=this.ContentStorage.GetCandidatesInstagramFullTextData(this.tabId),n=this.ContentStorage.GetCandidatesInstagramStoryData(this.tabId),i=this.ContentStorage.GetCandidatesInstagramCarouselSlidesData(this.tabId),a=this.ContentStorage.GetCandidatesInstagramStoryTargetUrlSent(this.tabId);if(this.rawTicket.adsInstagram&&this.rawTicket.adsInstagram.length){var r,o=u(this.rawTicket.adsInstagram);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=this.rawTicket.adsInstagram.indexOf(s);if(a.includes(s.targetUrl))delete this.rawTicket.adsInstagram[c];else{if(t&&t.length&&s.videoData&&"feed"===s.adPlacementType){var d=_.decode(s.content),l=this.GetVideoDataForInstagramVideoAd(t,d);l&&(delete l.carouselSlidesSources,s.videoData=l,s.fullText=l.fullText,this.ContentStorage.RemoveInstagramSentVideoData(this.tabId,l))}else"feed"===s.adPlacementType&&(this.AddFullTextField(s,e),this.AddCarouselSlideSources(s,i));if("story"===s.adPlacementType)if(s.isHolder);else{var h=_.decode(s.content),f=this.GetStorySlidesData(n,h);s.storySlidesData=null,f&&(s.storySlidesData=f,this.ContentStorage.RemoveInstagramSentStoryData(this.tabId,f,s.targetUrl))}}}}catch(t){o.e(t)}finally{o.f()}}}}},{key:"AddFullTextField",value:function(t,e){for(var n=0,i=e.length,a=!1;n<i&&!a;){var r=e[n];t.screenName===r.advertiserName&&(t.fullText=r.fullText,this.ContentStorage.RemoveInstagramSentFullTextData(this.tabId,r),a=!0),n++}}},{key:"AddCarouselSlideSources",value:function(t,e){var n,i=u(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.advertiserName===t.screenName)return t.carouselSlidesSources=a.carouselSlidesSources,t.fullText=a.fullText,void this.ContentStorage.RemoveInstagramSentCarouselSlidesData(this.tabId,a)}}catch(t){i.e(t)}finally{i.f()}}},{key:"GetStorySlidesData",value:function(t,e){var n,i=u(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=a[0].advertiserName;if(this.MatchVideDataByAdvertiserName(e,r))return a}}catch(t){i.e(t)}finally{i.f()}}},{key:"GetVideoDataForInstagramVideoAd",value:function(t,e){var n,i=u(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=a.fullText,o=a.advertiserName;if(r&&e.indexOf(r)>=0)return a;if(r){if(this.MatchVideoDataByContentInstagram(e,r))return a;if(this.MatchVideDataByAdvertiserName(e,o))return a}}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"MatchVideoDataByContentInstagram",value:function(t,e){var n=e.split(/\n\n|\n/)[0].replace(/[\n\r]/g," ").split(/\s/).filter((function(t){return t.length>=3&&!t.startsWith("http")&&!t.startsWith("#")&&!t.startsWith("@")&&!(/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/g.test(t)||/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/g.test(t))})),i=n.length,a=0;if(n.length){var r,o=u(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;t.includes(s)&&a++}}catch(t){o.e(t)}finally{o.f()}if(a===i)return!0}return!1}},{key:"MatchVideDataByAdvertiserName",value:function(t,e){return t.indexOf(e)>=0}},{key:"LookingForBannerAds",value:function(){var t=this;if(this.ContentStorage&&(this.rawTicket.adCandidatesBanner=this.ContentStorage.GetCandidatesDataBanners(this.tabId),this.rawTicket.adCandidatesBanner.length&&T.CONFIG_MARK_AD_CANDIDATES&&T.CONFIG_MARK_PROCESSED_AD_CANDIDATES)){for(var e=[],n=0;n<this.rawTicket.adCandidatesBanner.length;n++)e.push({bannerId:this.rawTicket.adCandidatesBanner[n].bisId,extractionStatus:{sentToBackend:!0,fullContentExtracted:!0,targetUrlExtracted:!0}});var i=g.EmptyMessage;i.type=m.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES,i.to="mp_"+this.tabId,i.content=e,chrome.tabs.get(this.tabId).then((function(e){chrome.tabs.sendMessage(t.tabId,i)})).catch((function(t){}))}}},{key:"LookingForSkinAds",value:function(){if(this.ContentStorage&&(this.rawTicket.adCandidatesSkinAd=this.ContentStorage.GetCandidatesDataSkinAds(this.tabId),this.rawTicket.adCandidatesSkinAd.length&&T.CONFIG_MARK_AD_CANDIDATES&&T.CONFIG_MARK_PROCESSED_AD_CANDIDATES)){for(var t=[],e=0;e<this.rawTicket.adCandidatesSkinAd.length;e++)t.push({query:'*[bis_skin_element="1"]',extractionStatus:{sentToBackend:!0,fullContentExtracted:!0,targetUrlExtracted:!0}});var n=g.EmptyMessage;n.type=m.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES,n.to="mp_"+this.tabId,n.content=t,chrome.tabs.sendMessage(this.tabId,n).catch((function(t){}))}}},{key:"LookingForTwitterAds",value:function(t){if(this.ContentStorage){this.rawTicket.adsTwitter=this.ContentStorage.GetCandidatesDataTwitter(this.tabId,t);var e=this.ContentStorage.GetCandidatesTwitterVideoData(this.tabId),n=[];if(e&&e.length&&this.rawTicket.adsTwitter&&this.rawTicket.adsTwitter.length){var i,a=u(this.rawTicket.adsTwitter);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(r.adPlacementType===m.TWITTER_AD_PLACEMENT_TYPE_FEED&&r.hasOwnProperty("videoData")){var o=this.GetVideoDataForTwitterVideoAd(e,_.decode(r.content));o&&o.tweets&&o.tweets.id&&(r.videoData=o,n.push(o.tweets.id))}}}catch(t){a.e(t)}finally{a.f()}this.isTwitterTicketReady=!0}}}},{key:"LookingForRedditAds",value:function(){if(this.ContentStorage){this.rawTicket.adsReddit=this.ContentStorage.GetCandidatesDataReddit(this.tabId);var t=this.ContentStorage.GetCandidatesRedditVideoData(this.tabId),e=this.ContentStorage.GetCandidatesRedditRightColumnData(this.tabId);if(this.rawTicket.adsReddit&&this.rawTicket.adsReddit.length){var n,i=u(this.rawTicket.adsReddit);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(t&&t.length&&a.adPlacementType===m.REDDIT_AD_PLACEMENT_TYPE_FEED&&a.hasOwnProperty("videoData")){var r=this.GetVideoDataForRedditVideoAd(t,_.decode(a.content));!a.videoData.videoId&&r&&r.videoId&&(a.videoData=r)}if(e&&e.length&&a.adPlacementType===m.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN){var o=this.GetRightColumnDataForReddit(e,_.decode(a.content));o&&o.length&&(a.targetUrl=o)}}}catch(t){i.e(t)}finally{i.f()}}this.isRedditTicketReady=!0}}},{key:"LookingForFacebookAds",value:(d=s(r().mark((function t(){var e,n,i,a,o,s,u,c,d,l,f,E,T,g;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rawTicket.adsFacebook=this.ContentStorage.GetCandidatesDataFacebook(this.tabId),!this.rawTicket.adsFacebook.length){t.next=45;break}e=this.ContentStorage.GetCandidatesFacebookVideoData(this.tabId),n=0,i=[],a=!1,o=!1,t.prev=7,u=h(this.rawTicket.adsFacebook);case 9:return t.next=11,u.next();case 11:if(!(a=!(c=t.sent).done)){t.next=27;break}if((d=c.value).designVersion&&d.designVersion===m.FACEBOOK_DESIGN_VERSION_NEW&&(n+=1),!d.videoData){t.next=24;break}if(!e||!e.length){t.next=24;break}for(l=!1,f=_.decode(d.content),E=0;E<e.length&&!l;E++)T=e[E],this.isVideoDataMatch(f,T)&&(g=this.ConfigManager.FacebookConfig.VIDEO_URL_BY_PATTERN,l=!0,d.videoData.videoId=T.videoId,d.videoData.videoUrl=this.decodeURL(T.videoUrl,g),d.videoData.audioUrl=T.audioUrl,i.push(T.videoId));if(l){t.next=24;break}if(!d.aboutPageLink){t.next=24;break}return t.next=23,this.buildFBVideoUrl(d,f);case 23:l=t.sent;case 24:a=!1,t.next=9;break;case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(7),o=!0,s=t.t0;case 33:if(t.prev=33,t.prev=34,!a||null==u.return){t.next=38;break}return t.next=38,u.return();case 38:if(t.prev=38,!o){t.next=41;break}throw s;case 41:return t.finish(38);case 42:return t.finish(33);case 43:n>0&&this.rawTicket&&n===this.rawTicket.adsFacebook.length&&(this.rawTicket.facebookDesignVersion=m.FACEBOOK_DESIGN_VERSION_NEW),this.ContentStorage&&e&&e.length&&this.ContentStorage.RemoveOldFacebookVideoData(this.tabId,i);case 45:this.isFacebookTicketReady=!0;case 46:case"end":return t.stop()}}),t,this,[[7,29,33,43],[34,,38,42]])}))),function(){return d.apply(this,arguments)})},{key:"LookingForPinterestAds",value:function(){if(this.ContentStorage){this.rawTicket.adsPinterest=this.ContentStorage.GetCandidatesDataPinterest(this.tabId);var t=this.ContentStorage.GetCandidatesPinterestVideoData(this.tabId);if(this.rawTicket.adsPinterest&&this.rawTicket.adsPinterest.length){var e,n=u(this.rawTicket.adsPinterest);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t&&t.length&&i.videoData){var a=this.GetVideoDataForPinterestVideoAd(t,_.decode(i.content));a&&a.videoId&&(i.videoData=a)}i.hasOwnProperty("uniqueContentId")&&delete i.uniqueContentId}}catch(t){n.e(t)}finally{n.f()}}}}},{key:"GetVideoDataForPinterestVideoAd",value:function(t,e){var n,i=u(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=a.title,o=a.promoter;if(r&&e.indexOf(r)>=0||o&&e.indexOf(o)>=0)return delete a.title,delete a.detectionTime,delete a.promoter,this.ContentStorage.RemovePinterestSentVideoData(this.tabId,a),a}}catch(t){i.e(t)}finally{i.f()}}},{key:"isVideoDataMatch",value:function(t,e){var n=!1,i=e.previewImageUrl,a=!!i&&new RegExp(i.substring(i.length-8),"i"),r=new RegExp(e.videoId,"i"),o=!(!e.linkDisplay||!e.linkDisplay.length)&&new RegExp(e.linkDisplay,"i"),s=!(!e.userName||!e.userName.length)&&new RegExp(e.userName,"i"),u=!(!e.adName||!e.adName.length)&&new RegExp(e.adName,"i"),c=!(!e.adLogo||!e.adLogo.length)&&new RegExp(e.adLogo,"i");return(a&&a.test(t)||r.test(t)||o&&o.test(t)||s&&s.test(t)||u&&u.test(t)||c&&c.test(t))&&(n=!0),n}},{key:"buildFBVideoUrl",value:(c=s(r().mark((function t(e,n){var i,a,o,s,u,c,d,l,h,f=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.ConfigManager.FacebookConfig.VIDEO_URL_BY_PATTERN,a=new RegExp(i.REGEX_ADVERTISER_NAME),o=new RegExp(i.REGEX_VIDEO_ID),s=new RegExp(i.REGEX_VIDEO_SRC),u=i.PATTERN,c=e.aboutPageLink.match(a)?e.aboutPageLink.match(a)[1]:null,d=this.getVideoId(n,o),l=!1,d&&c){t.next=10;break}return t.abrupt("return",l);case 10:return u=u.replace(m.FACEBOOK_AD_VIDEO_URL_REPLACE_NAME,c).replace(m.FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID,d),t.next=13,fetch(u).then((function(t){return t.ok?t.text():l})).then((function(t){if(!t)return l;var e=t.match(s);if(e&&e.length){var n=e.filter((function(t){return t&&-1!==t.search(/^https?/)}))[0];return n=f.decodeURL(n,i)}return l}));case 13:if(h=t.sent){t.next=16;break}return t.abrupt("return",l);case 16:return l=!0,e.videoData.videoUrl=h,e.videoData.videoId=d,t.abrupt("return",l);case 20:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"decodeURL",value:function(t,e){var n=e.MAP_REPLACE_UNICODE;-1!==t.search(/https:\\\/\\\//)&&(t=t.replace(/\\/g,""));var i,r=u(n);try{for(r.s();!(i=r.n()).done;){var o=a(i.value,2),s=o[0],c=o[1],d=new RegExp(s,"g");t=t.replace(d,c)}}catch(t){r.e(t)}finally{r.f()}return t}},{key:"getVideoId",value:function(t,e){var n=null,i=t.match(e);return i&&i.length>0&&(n=i[1]),n}},{key:"GetForcedBuildTicket",value:(o=s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IsValid()){t.next=4;break}return t.next=3,this.TicketBuildingFinished(!0);case 3:return t.abrupt("return",this.finalOutTicket.data?this.finalOutTicket.data:"{}");case 4:return t.abrupt("return","{}");case 5:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"ClearTicket",value:function(){this.isReadyToClearTicket&&(this.ConfigManager=null,this.ContentStorage=null,this.rawTicket=null,this.webNavigationIframes=[],this.webNavigationChainsList=[],this.fullIframesList=[],this.onTicketBuiltCallback=null,this.timeoutMaxBuilding=null,this.timeoutDeepTargetUrlDetection=null,this.chainBuildingInitInfo=[],this.chains=[],this.successfullyBuidChainIds=[],this.chainsWithoutTargetUrl=[],this.finalOutTicket={},this.html5AdsPrebuildInfo=[],this.isFacebookTicketReady=!1,this.isTwitterTicketReady=!1,this.isRedditTicketReady=!1)}}],i=[{key:"GetForcedOutTicketFromTabTicketInfo",value:function(t){return t.rawOutTicket.adCandidatesHtml5=[],t.rawOutTicket.timeOnPage=E.GetCurrentTimestamp()-t.lastTicketDataSendTimestamp,t.rawOutTicket}}],n&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=v},8235:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(1234),r=n(3124),o=n(1225),s=n(8962),u=n(630).default,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.init=!1,this.ConfigManager=null,this.ContentStorage=null,this.TicketSender=null,this.TabsManager=null,this.SensitiveDataFilter=null,this.SensitiveDataFilterInited=!1,this.tickets=[],this.tabsInBuilding=[],this.tabTicketInfo=[],this.tabTicketInfoCheckerTimeout=null,this.panalyticsId=""}var e,n,c;return e=t,(n=[{key:"IsInit",value:function(){return this.init}},{key:"SetPanalyticsId",value:function(t){this.panalyticsId=t}},{key:"Init",value:function(t,e,n,i,a){var r=this;!this.init&&t&&e&&i&&(this.init=!0,this.ConfigManager=a,this.ContentStorage=t,this.TicketSender=e,this.AdBlockInspector=n,this.TabsManager=i,this.TabsManager.onRemoved(this.onTabClosed.bind(this)),this.ConfigManager&&this.ConfigManager.IsUseSensitiveDataFilter()&&(this.SensitiveDataFilter=new u({host:s.CONFIG_UTILITY_HOST,logging:!0}),this.SensitiveDataFilter.init().then((function(){r.SensitiveDataFilterInited=!0}),(function(){}))))}},{key:"PrebuildTicket",value:function(t){var e=JSON.parse(t);return this.AdBlockInspector&&this.AdBlockInspector.IsInit()?e.activeAdBlocker=this.AdBlockInspector.HasActiveAdblock:e.activeAdBlocker=!1,this.SensitiveDataFilter&&this.SensitiveDataFilterInited&&(e.url=this.SensitiveDataFilter.transformUrl(e.url)),0===e[r.TICKET_ALIAS_PANALYTICSID].length&&(e[r.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId),JSON.stringify(e)}},{key:"AddTicketForBuilding",value:function(t,e){if(this.init){var n=this.AddTicketToTabInfo(t,e);if(!this.tabsInBuilding.includes(t)){n.addTicketToBuildingTimestamp=o.GetCurrentTimestamp();var i=new a(this.id,this.panalyticsId,t,e,n.lastTicketDataSendTimestamp,this.ContentStorage,this.ConfigManager);if(i.IsValid())return this.tickets.push(i),this.tabsInBuilding.push(t),i.ActivateBuilding(this.onTicketBuilt.bind(this)),!0}}return!1}},{key:"onGotTicketClickTargetUrlInfo",value:function(t,e,n){if(this.init)for(var i=!1,a=0;a<this.tickets.length&&!i;a++)this.tickets[a].TabId===t&&(i=!0,this.tickets[a].onGotTicketClickTargetUrl(e,n.chainId,n.clickTargetUrl))}},{key:"onTicketBuilt",value:function(t,e,n){if(this.tabsInBuilding.includes(t)){if(n){this.TicketSender.PushTicket(e);var i="tab_".concat(t);this.tabTicketInfo[i]&&(this.tabTicketInfo[i].lastTicketDataSendTimestamp=this.tabTicketInfo[i].addTicketToBuildingTimestamp)}var a=this.tabsInBuilding.indexOf(t);a>-1&&this.tabsInBuilding.splice(a,1);for(var r=!1,o=0;o<this.tickets.length&&!r;o++)this.tickets[o].TabId===t&&(r=!0,this.tickets.splice(o,1))}}},{key:"AddTicketToTabInfo",value:function(t,e){var n=this,i="tab_".concat(t),s=JSON.parse(e),u=!1;if(this.tabTicketInfo[i])if(s.ticketId===this.tabTicketInfo[i].rawOutTicket.ticketId)this.tabTicketInfo[i].rawOutTicket=s;else{if(this.tabTicketInfo[i].rawOutTicket.finalTicket=!0,this.ContentStorage.HaveDataForTab(t)){var c=new a(this.id,this.panalyticsId,t,JSON.stringify(this.tabTicketInfo[i].rawOutTicket),this.tabTicketInfo[i].lastTicketDataSendTimestamp,this.ContentStorage,this.ConfigManager);c.GetForcedBuildTicket().then((function(t){n.TicketSender.PushTicket({type:r.OUT_TICKET_TYPE_SINGLE,ticketId:n.tabTicketInfo[i].rawOutTicket.ticketId,data:t}),c.ClearTicket()}))}else{var d=JSON.stringify(a.GetForcedOutTicketFromTabTicketInfo(this.tabTicketInfo[i]));this.TicketSender.PushTicket({type:r.OUT_TICKET_TYPE_SINGLE,ticketId:this.tabTicketInfo[i].rawOutTicket.ticketId,data:d})}u=!0}else u=!0;return u&&(this.tabTicketInfo[i]={tabId:t,addTicketToBuildingTimestamp:o.GetCurrentTimestamp(),lastTicketDataSendTimestamp:o.GetCurrentTimestamp(),rawOutTicket:s}),this.tabTicketInfo[i]}},{key:"onTabClosed",value:function(t,e){var n="tab_".concat(t);this.tabTicketInfo[n]&&(this.tabTicketInfo[n].rawOutTicket.finalTicket=!0,this.tabTicketInfoCheckerTimeout||(this.tabTicketInfoCheckerTimeout=setTimeout(this.CheckForFinalTickets.bind(this,t),1e3)))}},{key:"CheckForFinalTickets",value:function(t){var e=this;this.tabTicketInfoCheckerTimeout=null;var n=[];for(var i in this.tabTicketInfo)this.tabTicketInfo[i]&&this.tabTicketInfo[i].rawOutTicket.finalTicket&&(this.tabsInBuilding.includes(t)&&this.onTicketBuilt(t,"",!1),this.ContentStorage.HaveDataForTab(t)?function(){var o=new a(e.id,e.panalyticsId,t,JSON.stringify(e.tabTicketInfo[i].rawOutTicket),e.tabTicketInfo[i].lastTicketDataSendTimestamp,e.ContentStorage,e.ConfigManager);o.GetForcedBuildTicket().then((function(t){n.push(JSON.parse(t)),o.ClearTicket(),n.length&&e.TicketSender.PushTicket({type:r.OUT_TICKET_TYPE_MULTI,data:JSON.stringify(n)})})).catch((function(t){}))}():n.push(a.GetForcedOutTicketFromTabTicketInfo(this.tabTicketInfo[i])),this.tabTicketInfo[i]=null,delete this.tabTicketInfo[i]);n.length&&this.TicketSender.PushTicket({type:r.OUT_TICKET_TYPE_MULTI,data:JSON.stringify(n)})}}])&&i(e.prototype,n),c&&i(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=c},597:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(3124),r=n(8962),o=n(2420),s=n(1510),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.BackgendIOManager=new s,this.OutTicketQueue=[],this.ticketToOut={},this.panalyticsId=""}var e,n,u;return e=t,(n=[{key:"Init",value:function(){setInterval(this.SendTicket.bind(this),500)}},{key:"SetPanalyticsId",value:function(t){this.panalyticsId=t}},{key:"isTicketDataEmpty",value:function(t){var e=JSON.parse(t);if(!e)return!0;if(e.length&&1===e.length){var n=e[0];if(!Object.keys(n).length)return!0}return!e.finalTicket&&!Object.keys(e).length}},{key:"PushTicket",value:function(t){return this.OutTicketQueue.length<a.MAX_OUT_TICKETS_QUEUE_LENGTH&&(this.OutTicketQueue.push(t),!0)}},{key:"SendTicket",value:function(){if(this.panalyticsId.length&&this.OutTicketQueue.length){if(this.ticketToOut=this.OutTicketQueue.shift(),this.isTicketDataEmpty(this.ticketToOut.data))return;this.ticketToOut.data&&this.ticketToOut.data.length,JSON.parse(this.ticketToOut.data),r.CONFIG_USE_COMPRESSION&&(this.ticketToOut.data=o.compressToUTF16(this.ticketToOut.data),this.ticketToOut.data.length),this.ticketToOut.type===a.OUT_TICKET_TYPE_SINGLE?this.BackgendIOManager.SendSingleOutTicketToBackend(this.panalyticsId,this.ticketToOut,this.onTicketSend.bind(this),this.onTicketSendError.bind(this)):this.ticketToOut.type===a.OUT_TICKET_TYPE_MULTI&&this.BackgendIOManager.SendMultiOutTicketToBackend(this.panalyticsId,this.ticketToOut,this.onTicketSend.bind(this),this.onTicketSendError.bind(this))}}},{key:"onTicketSend",value:function(){this.ticketToOut.ticketId="",this.ticketToOut.data=""}},{key:"onTicketSendError",value:function(){this.ticketToOut.ticketId="",this.ticketToOut.data=""}}])&&i(e.prototype,n),u&&i(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=u},7833:t=>{function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,a;return n=t,a=[{key:"GetWebNavigationChainsList",value:function(t){for(var e=[],n=[],i=0;i<t.length;i++)0===t[i].parentFrameId?n.push([t[i].frameId]):t[i].parentFrameId>0&&e.push({frameId:t[i].frameId,parentFrameId:t[i].parentFrameId,processed:!1});for(var a=0,r=0;r<100&&e.length>a;){r+=1,a=0;for(var o=0;o<e.length;o++)if(e[o].processed)a+=1;else for(var s=!1,u=0;u<n.length&&!s;u++)n[u].includes(e[o].parentFrameId)&&(n[u].push(e[o].frameId),e[o].processed=!0,s=!0)}return n}},{key:"GetVideoHarFramesChainFullInfo",value:function(t,e){for(var n=[],i=0,a=t;i<100&&a>=0;){i+=1;for(var r=!1,o=0;o<e.length&&!r;o++)e[o].frameId===a&&(n.push({frameId:e[o].frameId,parentFrameId:e[o].parentFrameId,url:e[o].url}),a=e[o].parentFrameId,r=!0)}return n}}],(i=null)&&e(n.prototype,i),a&&e(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}();t.exports=n},6023:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(4019),r=n(1225),o=n(3124),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.ContentStorage=null,this.ConfigManager=null,this.aboutSectionConfig=null,this.clenupTimer=null,this.candidates=[]}var e,n,s;return e=t,(n=[{key:"Init",value:function(t,e){this.ConfigManager=t,this.ContentStorage=e,this.clenupTimer=setInterval(this.CleanupCandidates.bind(this),6e4)}},{key:"IsLoadAboutPageActivated",value:function(){var t=this.facebookConfig;return!(!t||!t.ABOUT_SECTION_CONFIG)&&t.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE}},{key:"facebookConfig",get:function(){return this.ConfigManager?this.ConfigManager.FacebookConfig:null}},{key:"AddOneCandidateForLoading",value:function(t,e,n){this.mesType=n,this.candidates.push({tabId:t,active:!0,addTimestamp:r.GetCurrentTimestamp(),content:e}),this.mesType===o.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK?this.AddToLoading(e.aboutPageLink):this.mesType===o.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA&&this.AddToLoading(e.encodedText.bisLinks.aboutPageLink)}},{key:"AddToLoading",value:function(t){if(this.ConfigManager){var e=this.ConfigManager.FacebookConfig;e&&e.ABOUT_SECTION_CONFIG&&e.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(this.aboutSectionConfig=e.ABOUT_SECTION_CONFIG,this.mesType===o.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK?this.LoadFBAboutContent(e,t,this.onAboutPageLoaded.bind(this)):this.mesType===o.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA&&this.LoadFBAboutContent(e,t,this.onInstreamAboutPageLoaded.bind(this)))}}},{key:"LoadFBAboutContent",value:function(t,e,n){var i=this;if(e){var a=null;return fetch(e,{headers:t.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then((function(t){if(200===t.status)return a=t.url,t.text();n(!1,e,"")})).then((function(r){i.workWithDataFromLoadPage(t,e,n,r,a)})).catch((function(t){n(!1,e,"")})),!0}return!1}},{key:"workWithDataFromLoadPage",value:function(t,e,n,i,a){this.mesType===o.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK&&this.getAboutPageContent(e,n,i),this.mesType===o.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA&&this.getAdvertiserUrlFromAboutPage(t,e,n,i,a)}},{key:"getAdvertiserUrlFromAboutPage",value:function(t,e,n,i,a){if(i){for(var r="".concat(i),o={pageLink:a.replace(/about/,""),advertiserLink:null},s=!1,u=0;u<t.ABOUT_SECTION_CONFIG.ADVERTISER_LINK_INSTREAM_QUERIES.length&&!s;u++){var c=t.ABOUT_SECTION_CONFIG.ADVERTISER_LINK_INSTREAM_QUERIES[u],d=new RegExp(c),l=r.match(d);l&&l.length&&l[0].search(/http/)>-1&&(o.advertiserLink=JSON.parse('"'.concat(l[0].match(/https?:((\/\/)|(\\\/\\\/)).[^"]+/)[0],'"')),s=!0)}n(s,e,o)}else n(!1,e,null)}},{key:"getAboutPageContent",value:function(t,e,n){var i=n.body,o="";if(r.IsChrome()){var s=i.indexOf(this.aboutSectionConfig.CHROME_SECTIONS.SECTION_ZONE_DETECTOR);if(s>0){var u=i.substring(0,s),c=u.lastIndexOf(this.aboutSectionConfig.CHROME_SECTIONS.SECTION_START),d=u.lastIndexOf(this.aboutSectionConfig.CHROME_SECTIONS.SECTION_END);c>0&&d>0&&c<d&&(o=a.encode(u.substring(c+this.aboutSectionConfig.CHROME_SECTIONS.SECTION_START.length,d)))}}else if(r.IsFirefox()){var l=i.indexOf(this.aboutSectionConfig.FIREFOX_SECTIONS.SECTION_START);if(l>0){var h=i.substring(l,i.length-1),f=h.indexOf(this.aboutSectionConfig.FIREFOX_SECTIONS.SECTION_END);f>0&&(o=a.encode(h.substring(0,f)))}}e(!0,t,o)}},{key:"onAboutPageLoaded",value:function(t,e,n){for(var i=!1,a=0;a<this.candidates.length;a++)this.candidates[a].content.aboutPageLink===e&&(this.candidates[a].content.aboutSectionContent=n,this.candidates[a].active=!1,this.ContentStorage.AddCandidatesDataFacebook(this.candidates[a].tabId,[this.candidates[a].content]),i=!0);i&&this.CleanupCandidates()}},{key:"onInstreamAboutPageLoaded",value:function(t,e,n){for(var i=!1,r=0;r<this.candidates.length;r++){var o=this.candidates[r];if(o.content.encodedText.bisLinks.aboutPageLink===e){var s=Object.assign({},o.content);s.encodedText.bisLinks.advertiserLink=n.advertiserLink,s.encodedText.bisLinks.pageLink=n.pageLink,delete s.encodedText.bisLinks.aboutPageLink,s.encodedText=a.encode(JSON.stringify(s.encodedText)),this.ContentStorage.AddVideoHar(o.tabId,s),i=!0}}i&&this.CleanupCandidates()}},{key:"CleanupCandidates",value:function(){var t=[],e=r.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(var n=0;n<this.candidates.length;n++)this.candidates[n].active&&e-this.candidates[n].addTimestamp<60&&t.push(this.candidates[n]);this.candidates=t}}}])&&i(e.prototype,n),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=s},8078:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,a,r=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n(4019);var s=n(1225),u=(n(3124),function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.ContentStorage=null,this.instagramConfig=null,this.clenupTimer=null,this.candidates=[],this.guestToken=null,this.loaderCache=[],this.guestTokenLastUpdateTime=s.GetCurrentTimestamp()-300}var e,n,r;return e=t,(n=[{key:"Init",value:function(t,e){this.instagramConfig=t.InstagramConfig,this.ContentStorage=e,this.ContentStorage&&this.instagramConfig&&(this.clenupTimer=setInterval(this.Cleanup.bind(this),6e3))}},{key:"AddOneCandidateForLoading",value:function(t,e){this.IsLoadUserDataActivated()&&(this.candidates.push({tabId:t,active:!0,addTimestamp:s.GetCurrentTimestamp(),content:e}),this.LoadInstAboutContent(e,e.aboutPageUrl,this.onUserDataLoaded.bind(this)))}},{key:"AddCandidatesForLoading",value:function(t,e){for(var n=0;n<e.length;n++)this.AddOneCandidateForLoading(t,e[n])}},{key:"IsLoadUserDataActivated",value:function(){return!!this.instagramConfig&&this.instagramConfig.LOAD_USER_DATA.ENABLED}},{key:"LoadInstAboutContent",value:function(t,e,n){var i=this,a=t.screenName,r=t.headers;a&&(this.IsInCache(a)?n(!0,a,this.GetDataFromCache(a)):e?fetch("https://www.instagram.com/api/v1/users/web_profile_info/?username="+a,{method:"GET",headers:r}).then((function(t){if(200===t.status)return t.text();n(!1,a,"")})).then((function(t){var e=i.getAdvertiserUrlByPath(t);i.AddToCache(a,e),n(!0,a,e)})).catch((function(){n(!1,a,""),i.guestToken=""})):n(!1,a,""))}},{key:"onUserDataLoaded",value:function(t,e,n){for(var i=!1,a=0;a<this.candidates.length;a++)this.candidates[a].content.screenName===e&&(this.candidates[a].content.advertiserUrl=n,this.candidates[a].active=!1,this.ContentStorage.AddCandidatesDataInstagram(this.candidates[a].tabId,[this.candidates[a].content]),i=!0),delete this.candidates[a].content.headers;i&&this.CleanupCandidates()}},{key:"getAdvertiserUrlByPath",value:function(t){for(var e=JSON.parse(t),n=this.instagramConfig.LOAD_USER_DATA.PATH_TO_ADERTISER_URL,i=n.length,r=0,o=Object.entries(n);r<o.length;r++){var s=a(o[r],2),u=s[0],c=s[1];if(!e[c])return null;if(e=e[c],u==i-1&&"string"==typeof e)return e}}},{key:"CleanupCandidates",value:function(){var t=[],e=s.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(var n=0;n<this.candidates.length;n++)this.candidates[n].active&&e-this.candidates[n].addTimestamp<60&&t.push(this.candidates[n]);this.candidates=t}}},{key:"Cleanup",value:function(){this.CleanupCandidates(),this.CleanupCache()}},{key:"AddToCache",value:function(t,e){if(t&&e){this.cacheUsed=!0;var n=s.GetCurrentTimestamp();this.IsInCache(t)?this.loaderCache[t].addTimestamp=n:this.loaderCache[t]={addTimestamp:n,data:e}}}},{key:"IsInCache",value:function(t){return t&&"object"===i(this.loaderCache[t])}},{key:"GetDataFromCache",value:function(t){return this.IsInCache(t)?this.loaderCache[t].data:""}},{key:"CleanupCache",value:function(){if(Object.keys(this.loaderCache).length){var t=s.GetCurrentTimestamp();for(var e in this.loaderCache)t-this.loaderCache[e].addTimestamp>600&&delete this.loaderCache[e]}}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());t.exports=u},4063:(t,e,n)=>{function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(1225),s=n(3124),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.ContentStorage=null,this.ConfigManager=null,this.replacePatternId="[PIN_ID]",this.replacePatternUsername="[USERNAME]",this.candidates=[],this.clenupTimer=null}var e,n,a;return e=t,(n=[{key:"Init",value:function(t,e){this.ConfigManager=t,this.ContentStorage=e,this.clenupTimer=setInterval(this.CleanupCandidates.bind(this),6e4)}},{key:"pinterestConfig",get:function(){return this.ConfigManager.PinterestConfig}},{key:"pinterestAdditionalConfig",get:function(){return this.pinterestConfig.ADDITIONAL_LOADER_CONFIG}},{key:"isAdTextValid",value:function(t){var e=t.length?t[0]:t;return!(!e.adText||!e.adText.length)}},{key:"isAdvertiserUrlValid",value:function(t){var e=t.length?t[0]:t;return!(!e.advertiserUrl||!e.advertiserUrl.length||this.isAdvertiserUrlLowPriority(e.advertiserUrl))}},{key:"isAdvertiserUrlLowPriority",value:function(t){return t.search(this.pinterestAdditionalConfig.CHECK_ON_PRIORITY_ADV_URL)>=0}},{key:"AddCandidateForLoading",value:function(t,e){var n=e[0],i=!this.isAdvertiserUrlValid(n),a=!this.isAdTextValid(n);this.candidates.push({tabId:t,active:!0,isTextLoaderProccessed:a,isUrlLoaderProccessed:i,addTimestamp:o.GetCurrentTimestamp(),content:n}),this.LoadPage(n,s.PINTEREST_LOADER_TYPE_PIN_PAGE,this.onLoadPinPageCallback.bind(this))}},{key:"LoadPage",value:function(t,e,n){var i=this;return new Promise((function(a,r){var o=t.uniqueContentId,s=null;try{if(!(s=i.getRequestToFetch(t,e)))return void a(!1)}catch(t){return void r(t)}fetch(s).then((function(t){return t.text()})).then((function(t){t&&i.workWithDataFromLoadedData(a,n,o,t,e)})).catch((function(t){a(!1)}))}))}},{key:"getRequestToFetch",value:function(t,e){var n=t.uniqueContentId,i=this.getOptionsToFetch(),a=this.pinterestAdditionalConfig.PIN_PAGE_URL_PATTERN.replace(this.replacePatternId,n);return new Request(a,i)}},{key:"getOptionsToFetch",value:function(){return{method:"GET"}}},{key:"onLoadPinPageCallback",value:function(t,e,n,a,r,o){var s,u=!1,c=i(this.candidates);try{for(c.s();!(s=c.n()).done;){var d=s.value;e===d.content.uniqueContentId&&(d.content.adText=n,d.content.description=a,d.content.advertiserUrl=r||d.content.advertiserUrl,d.content.advertiserId=o,u=!0,d.active=!1,this.ContentStorage.AddCandidatesDataPinterest(d.tabId,[d.content]))}}catch(t){c.e(t)}finally{c.f()}t(u)}},{key:"workWithDataFromLoadedData",value:function(t,e,n,i,a){this.getNeccessaryData(t,e,n,i)}},{key:"getNeccessaryData",value:function(t,e,n,i){var a=this.getDescription(i);e(t,n,this.getAdTitle(i),a,this.getAdvertiserUrl(i),this.getAdvertiserId(i))}},{key:"getDescription",value:function(t){var e=new RegExp(this.pinterestAdditionalConfig.DESCRIPTION_QUERY),n=t.match(e);return n&&n.length>1?n[1]:""}},{key:"getAdTitle",value:function(t){var e=new RegExp(this.pinterestAdditionalConfig.TITLE_QUERY),n=t.match(e);return n&&n.length>1?n[1]:""}},{key:"getAdvertiserUrl",value:function(t){var e,n="",i=this.getTextJs(t);return i?((e=this.parseTextToJs(i))&&(n=this.findValueByPath(e,this.pinterestAdditionalConfig.PATH_TO_ADVERTISER_URL)),n&&"string"==typeof n?n:""):n}},{key:"getTextJs",value:function(t){var e=new RegExp(this.pinterestAdditionalConfig.GET_SCRIPT_WITH_DATA_QUERY),n=t.match(e);return n&&n.length>1?n[1]:""}},{key:"findValueByPath",value:function(t,e){var n,a=null,r=i(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;a=t;var s,u=i(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;a&&a[c]&&(a=a[c]),c===this.replacePatternId&&(a=a[Object.keys(a)])}}catch(t){u.e(t)}finally{u.f()}if(a&&"string"==typeof a)return a}}catch(t){r.e(t)}finally{r.f()}return""}},{key:"parseTextToJs",value:function(t){var e=null;try{e=JSON.parse(t)}catch(t){}return e}},{key:"getAdvertiserId",value:function(t){var e,n="",i=this.getTextJs(t);return i?((e=this.parseTextToJs(i))&&(n=this.findValueByPath(e,this.pinterestAdditionalConfig.PATH_TO_ADVERTISER_ID)),n&&"string"==typeof n?n:""):n}},{key:"CleanupCandidates",value:function(){var t=[],e=o.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(var n=0;n<this.candidates.length;n++){var i=this.candidates[n];i.active&&e-i.addTimestamp<60&&t.push(i)}this.candidates=t}}}])&&r(e.prototype,n),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=u},6162:(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(4019),o=n(1225),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.ContentStorage=null,this.twitterConfig=null,this.clenupTimer=null,this.candidates=[],this.guestToken=null,this.loaderCache=[],this.guestTokenLastUpdateTime=o.GetCurrentTimestamp()-300}var e,n,s;return e=t,(n=[{key:"Init",value:function(t,e){this.twitterConfig=t.TwitterConfig,this.ContentStorage=e,this.ContentStorage&&this.twitterConfig&&(this.clenupTimer=setInterval(this.Cleanup.bind(this),6e3))}},{key:"UpdateGuestToken",value:function(t){var e=this,n=o.GetCurrentTimestamp();(null===this.guestToken||n-this.guestTokenLastUpdateTime>60)&&(this.guestTokenLastUpdateTime=n,fetch(this.twitterConfig.LOAD_USER_DATA.API_CALL_GUEST,{method:"POST",headers:{authorization:this.twitterConfig.LOAD_USER_DATA.AUTH_BEARER},credentials:"omit"}).then((function(t){return t.json()})).then((function(t){return t.guest_token})).then((function(n){e.guestToken=n,t&&t()})))}},{key:"AddOneCandidateForLoading",value:function(t,e){this.IsLoadUserDataActivated()&&(this.candidates.push({tabId:t,active:!0,addTimestamp:o.GetCurrentTimestamp(),content:e}),this.LoadTwAboutContent(e.screenName,e.token,this.onUserDataLoaded.bind(this)))}},{key:"AddCandidatesForLoading",value:function(t,e){for(var n=0;n<e.length;n++)this.AddOneCandidateForLoading(t,e[n])}},{key:"IsLoadUserDataActivated",value:function(){return!!this.twitterConfig&&this.twitterConfig.LOAD_USER_DATA.ENABLED}},{key:"LoadTwAboutContent",value:function(t,e,n){var i=this;t&&(this.IsInCache(t)?n(!0,t,this.GetDataFromCache(t)):this.twitterConfig.LOAD_USER_DATA.AUTH_BEARER&&e?fetch(this.twitterConfig.LOAD_USER_DATA.API_CALL_SCREEN_NAME.replace("${%1}",t),{method:"GET",headers:{authorization:this.twitterConfig.LOAD_USER_DATA.AUTH_BEARER,"X-Csrf-Token":e},credentials:"same-origin"}).then((function(e){if(200===e.status)return e.text();n(!1,t,"")})).then((function(e){i.AddToCache(t,r.encode(e)),n(!0,t,r.encode(e))})).catch((function(){n(!1,t,""),i.guestToken=""})):n(!1,t,""))}},{key:"onUserDataLoaded",value:function(t,e,n){for(var i=!1,a=0;a<this.candidates.length;a++)this.candidates[a].content.screenName===e&&(this.candidates[a].content.userDataByScreenName=n,this.candidates[a].active=!1,this.ContentStorage.AddCandidatesDataTwitter(this.candidates[a].tabId,[this.candidates[a].content]),i=!0,delete this.candidates[a].content.token);i&&this.CleanupCandidates()}},{key:"CleanupCandidates",value:function(){var t=[],e=o.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(var n=0;n<this.candidates.length;n++)this.candidates[n].active&&e-this.candidates[n].addTimestamp<60&&t.push(this.candidates[n]);this.candidates=t}}},{key:"Cleanup",value:function(){this.CleanupCandidates(),this.CleanupCache()}},{key:"AddToCache",value:function(t,e){if(t&&e){this.cacheUsed=!0;var n=o.GetCurrentTimestamp();this.IsInCache(t)?this.loaderCache[t].addTimestamp=n:this.loaderCache[t]={addTimestamp:n,data:e}}}},{key:"IsInCache",value:function(t){return t&&"object"===i(this.loaderCache[t])}},{key:"GetDataFromCache",value:function(t){return this.IsInCache(t)?this.loaderCache[t].data:""}},{key:"CleanupCache",value:function(){if(Object.keys(this.loaderCache).length){var t=o.GetCurrentTimestamp();for(var e in this.loaderCache)t-this.loaderCache[e].addTimestamp>600&&delete this.loaderCache[e]}}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=s},8962:t=>{function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,a;return n=t,a=[{key:"CONFIG_PANELOS_VERSION",get:function(){return"2.0.14"}},{key:"CONFIG_PINSTANCE_ID",get:function(){return 1}},{key:"CONFIG_PARTNER_ID",get:function(){return 5}},{key:"CONFIG_DISTRIBUTOR_ID",get:function(){return 5}},{key:"CONFIG_UTILITY_HOST",get:function(){return"https://authentication.urban-vpn.com"}},{key:"CONFIG_PANELBACKEND_ENDPOINT",get:function(){return"https://analytics-toolbar.urban-vpn.com"}},{key:"CONFIG_PANELBACKEND_ENDPOINT_ULR_OUTTICKET",get:function(){return"/tickets"}},{key:"CONFIG_PANELBACKEND_ENDPOINT_ULR_INSTALL_EVENT",get:function(){return"/install"}},{key:"CONFIG_PANELBACKEND_ENDPOINT_ULR_CONFIGURATION",get:function(){return"/configuration?pv=".concat(this.CONFIG_PANELOS_VERSION)}},{key:"CONFIG_GLOBAL_ACTIVE_STATUS",get:function(){return!1}},{key:"CONFIG_USE_COMPRESSION",get:function(){return!0}},{key:"CONFIG_MARK_AD_CANDIDATES",get:function(){return!1}},{key:"CONFIG_MARK_PROCESSED_AD_CANDIDATES",get:function(){return!1}},{key:"CONFIG_ADBLOCKER_AVAILABLE",get:function(){return!0}},{key:"CONFIG_TARGET_URL_BY_CLICK_AVAILABLE",get:function(){return!0}},{key:"CONFIG_ANALYTIC_INSTALL_EVENTS_TRACING_AVAILABLE",get:function(){return!0}},{key:"CONFIG_ADBLOCK_INSPECTOR_AVAILABLE",get:function(){return!0}},{key:"CONFIG_DATA_COLLECTION_ENABLED",get:function(){return!1}},{key:"CONFIG_PANALYTICS_UTILITY_LOGGING",get:function(){return!1}}],(i=null)&&e(n.prototype,i),a&&e(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}();t.exports=n},1225:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(3124),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"QuerySelectorAll",value:function(t,e){return document.__proto__.querySelectorAll.call(t,e)}},{key:"QuerySelector",value:function(t,e){return document.__proto__.querySelector.call(t,e)}},{key:"Escape",value:function(t){return t.replace(/\"/g,"&quot;")}},{key:"ToJSON",value:function(t){return"function"==typeof t.toJSON?t.toJSON():JSON.stringify(t)}},{key:"GetBaseHref",value:function(){var e=t.QuerySelector(document,"base");return e&&e.href?e.href:""}},{key:"GetTabIdKey",value:function(t){return"tb_"+t}},{key:"GetMainPageId",value:function(t){return"mp_"+t}},{key:"IsOnChromeRuntime",value:function(){var t=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch(e){t=!1}if(t)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}},{key:"GetElementSize",value:function(t){var e={x:0,y:0,w:0,h:0};if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect();e={x:~~(n.left+window.pageXOffset),y:~~(n.top+window.pageYOffset),w:~~n.width,h:~~n.height}}return e}},{key:"IsCoordinatesValid",value:function(t){return!!(t&&t.hasOwnProperty("x")&&"number"==typeof t.x&&t.hasOwnProperty("y")&&"number"==typeof t.y)}},{key:"GetFullElementSize",value:function(e,n,i){var a=t.GetElementSize(e);return t.IsCoordinatesValid(i)&&(a.x=a.x+i.x,a.y=a.y+i.y),t.IsCoordinatesValid(n)?(a.abs_x=a.x+n.x,a.abs_y=a.y+n.y):(a.abs_x=a.x,a.abs_y=a.y),a}},{key:"SetFullSizeToElement",value:function(e,n,i){var a={x:0,y:0,w:0,h:0};return t.IsCoordinatesValid(i)&&(a.x=a.x+i.x,a.y=a.y+i.y),e&&e.setAttribute&&(a=t.GetFullElementSize(e,n,i),e.setAttribute("bis_size",t.ToJSON(a))),a}},{key:"GenerateAndSetBisId",value:function(e,n){var i=n+t.GenerateQuickId();return e&&e.setAttribute&&e.setAttribute(a.ATTRIBUTE_BIS_ID,i),i}},{key:"GenerateAndSetBisIdToFrame",value:function(e){return t.GenerateAndSetBisId(e,"fr_")}},{key:"GenerateAndSetBisIdToBanner",value:function(e){return t.GenerateAndSetBisId(e,"bn_")}},{key:"GenerateAndSetBisIdToPinterestAds",value:function(e){return t.GenerateAndSetBisId(e,"pt_")}},{key:"GenerateAndSetBisIdToInstagramAds",value:function(e){return t.GenerateAndSetBisId(e,"ig_")}},{key:"GenerateAndSetBisIdToFBAds",value:function(e){return t.GenerateAndSetBisId(e,"fb_")}},{key:"GenerateAndSetBisIdToTwitterAds",value:function(e){return t.GenerateAndSetBisId(e,"tw_")}},{key:"GenerateAndSetBisIdToRedditAds",value:function(e){return t.GenerateAndSetBisId(e,"rd_")}},{key:"SetBisDepth",value:function(t,e){t&&t.setAttribute&&t.setAttribute("bis_depth",e)}},{key:"SetBisChainId",value:function(t,e){t&&t.setAttribute&&t.setAttribute("bis_chainid",e)}},{key:"SetBannerId",value:function(t,e){t&&t.setAttribute&&t.setAttribute("bis_bannerid",e)}},{key:"UpdateCandidateStatusBorderColor",value:function(t,e){if(t&&t.style&&t.style.cssText&&e){var n="";e.filteredOut?n=a.STYLES_BORDER_BANNER_FILTERED:e.sentToBackend?n=a.STYLES_BORDER_BANNER_SENT:e.targetUrlExtracted?n=a.STYLES_BORDER_BANNER_URL_EXTRACTED:e.fullContentExtracted&&(n=a.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);var i=t.style.cssText;i.includes(n)||(i=i.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,n),t.style.cssText=i)}}},{key:"GetMainDomainFromHost",value:function(t){if(t&&t.split){var e=t.split(".");if(e.length>=2)return e[e.length-2]+"."+e[e.length-1]}return null}},{key:"GetMainDomainFromUrl",value:function(e){return t.GetMainDomainFromHost(t.GetHostNameFromUrl(e))}},{key:"GetHostNameFromUrl",value:function(t){var e=t.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=e&&e.length>2&&"string"==typeof e[2]&&e[2].length>0?e[2]:null}},{key:"IsUrlFromHost",value:function(e,n){return-1!==e.indexOf(t.GetMainDomainFromUrl(n))}},{key:"IsPublisherInBlacklist",value:function(e,n){var i=!1,a=t.GetHostNameFromUrl(e);return n&&n.length&&a&&n.includes(a)&&(i=!0),i}},{key:"GetUrlFromStyleStr",value:function(t){var e=t.replace(/"/g,"'"),n=e.indexOf("http");-1==n&&(n=e.indexOf("//"));var i=e.indexOf("'",n),a="";return n>0&&i>0&&n<i&&(a=e.substr(n,i-n)),a}},{key:"GetCurrentDataTimeStr",value:function(){function t(t){return t<10?"0"+t:""+t}var e=new Date;return"".concat(e.getFullYear(),"-").concat(t(e.getMonth()+1),"-").concat(t(e.getDate())," ").concat(t(e.getHours()),":").concat(t(e.getMinutes()),":").concat(t(e.getSeconds()))}},{key:"GetWindowSize",value:function(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}},{key:"IsIframeHasContentScript",value:function(e){try{if(e&&!t.IsIframeSecure(e)&&"ok"!==e.contentDocument.body.getAttribute("bis_status"))return!1}catch(t){}return!0}},{key:"IsIframeSecure",value:function(t){return!t||0!==t.src.length&&"about:blank"!==t.src&&"about:srcdoc"!==t.src&&0!==t.src.indexOf("javascript:")}},{key:"isValidUrl",value:function(t){return"string"==typeof t&&t.length>0&&(-1!==t.indexOf("http")||-1!==t.indexOf("//"))}},{key:"IsValidBisId",value:function(t){return!!(t.startsWith("mp_")||t.startsWith("bg_")||t.startsWith("fr_"))}},{key:"IsYouTubeUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.indexOf("youtube.com")}},{key:"IsFacebookUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.indexOf("facebook.com")}},{key:"IsTwitterUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.indexOf("twitter.com")}},{key:"IsRedditUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.indexOf("reddit.com")}},{key:"IsPinterestUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}},{key:"IsInstagramUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.indexOf("instagram.com")}},{key:"IsTiktokUrl",value:function(e){var n=t.GetHostNameFromUrl(e);return!!n&&-1!==n.indexOf("tiktok.com")}},{key:"GetFullIdStr",value:function(t,e,n){return"ext:".concat(chrome.runtime.id,"-chainId:").concat(t,"-frameId:").concat(e,"-bisId:").concat(n)}},{key:"GetRandomIntInRange",value:function(t,e){return parseInt((Math.random()*(e-t)+t).toFixed(0))}},{key:"GetCurrentTimestamp",value:function(){return Date.now()/1e3|0}},{key:"GetCurrentTimestampMs",value:function(){return Date.now()}},{key:"GenerateQuickId",value:function(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}},{key:"GenerateTicketId",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}},{key:"IsInFilterList",value:function(t,e){var n=!1;if(t)for(var i=0;i<t.length&&!n;i++)-1!=e.indexOf(t[i])&&(n=!0);return n}},{key:"IsChrome",value:function(){return-1!==navigator.userAgent.indexOf("Chrome")}},{key:"IsFirefox",value:function(){return-1!==navigator.userAgent.indexOf("Firefox")}},{key:"IsFBVideoDataValid",value:function(t){var e=!1;if(t)try{"number"==typeof t.detectionTime&&"string"==typeof t.videoId&&"string"==typeof t.videoUrl&&t.videoId.length&&t.videoUrl.length&&(e=!0)}catch(t){}return e}},{key:"GetDefaultAdblockerStatus",value:function(){var t={};return t[a.ADBLOCKER_FOR_DISPLAY]=a.ADBLOCKER_STATUS_DISABLED,t[a.ADBLOCKER_FOR_FACEBOOK]=a.ADBLOCKER_STATUS_DISABLED,t[a.ADBLOCKER_FOR_TWITTER]=a.ADBLOCKER_STATUS_DISABLED,t[a.ADBLOCKER_FOR_REDDIT]=a.ADBLOCKER_STATUS_DISABLED,t[a.ADBLOCKER_FOR_PINTEREST]=a.ADBLOCKER_STATUS_DISABLED,t[a.ADBLOCKER_FOR_INSTAGRAM]=a.ADBLOCKER_STATUS_DISABLED,t[a.USE_LOCAL_CONFIG]=a.ADBLOCKER_STATUS_DISABLED,t}},{key:"GetImagesSpacePercentage",value:function(e,n,i){var a=0;if(n){var r=Array.from(n.querySelectorAll("*")).map((function(t){return t.shadowRoot?t.shadowRoot.querySelectorAll(e):"IMG"===t.nodeName?t:t.querySelectorAll(e)})).filter((function(t){return t})).reduce((function(t,e){return e&&e.length&&e.forEach((function(e){t.includes(e)||t.push(e)})),"IMG"===e.nodeName&&t.push(e),t}),[]);if(r&&r.length>=1&&i.w*i.h>0){var o=0;r.forEach((function(n){var i=n;i&&i.shadowRoot&&(i=i.shadowRoot.firstElementChild.querySelector(e));var a=t.GetElementSize(n);o+=a.w*a.h})),o&&(a=o/(i.w*i.h)*100)}}return a}},{key:"CheckDocumentReadyState",value:function(t){return document.readyState===t}},{key:"getCurrentTab",value:function(){var t={type:a.MESSAGE_TYPE_GET_CURRENT_TAB_ID};return new Promise((function(e,n){try{chrome.runtime.sendMessage(t).then((function(t){e(t)})).catch((function(t){}))}catch(t){n(t)}}))}},{key:"getURL",value:function(t){return chrome.runtime.getURL(t)}},{key:"getDataFromStorageLocal",value:function(t){return chrome.storage.local.get([t]).then((function(e){return e[t]?e[t]:e}))}},{key:"getDataFromStorageSync",value:function(t){return new Promise((function(e,n){try{chrome.storage.sync.get([t]).then((function(n){n[t]?e(n[t]):e(n)}))}catch(t){n(t)}}))}},{key:"GetCookie",value:function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}},{key:"GetOriginFromHref",value:function(t){t&&t.search(/^http/)}},{key:"GetLocaleDateString",value:function(){try{return(new Date).toJSON().replace("T",", ")}catch(t){return(new Date).toTimeString()}}}],(n=null)&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=r},3124:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(4019),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"DOCUMENT_READYSTATE_LOADING",get:function(){return"loading"}},{key:"DOCUMENT_READYSTATE_INTERACTIVE",get:function(){return"interactive"}},{key:"DOCUMENT_READYSTATE_COMPLETE",get:function(){return"complete"}},{key:"ATTRIBUTE_BIS_ID",get:function(){return"bis_id"}},{key:"ATTRIBUTE_BIS_SIZE",get:function(){return"bis_size"}},{key:"ATTRIBUTE_BIS_STYLE",get:function(){return"bis_style"}},{key:"ATTRIBUTE_BIS_STATUS",get:function(){return"bis_status"}},{key:"ATTRIBUTE_BIS_LABEL",get:function(){return"bis_label"}},{key:"ATTRIBUTE_BIS_ELEMENT_ID",get:function(){return"bis_element_id"}},{key:"ATTRIBUTE_BIS_HIDE_HEIGHT",get:function(){return"bis_hide_height"}},{key:"ATTRIBUTE_BIS_HIDE_WIDTH",get:function(){return"bis_hide_width"}},{key:"ATTRIBUTE_BIS_HIDE_STATUS",get:function(){return"bis_hide_status"}},{key:"ATTRIBUTE_BIS_HIDE_LEFT_OFFSET",get:function(){return"bis_hide_left_offset"}},{key:"ACTIVATION_BY_ADS_MANAGER",get:function(){return"ACTIVATION_BY_ADS_MANAGER"}},{key:"ACTIVATION_BY_ADS_SELF",get:function(){return"ACTIVATION_BY_ADS_SELF"}},{key:"MESSAGE_ID",get:function(){return"PANELOS_MESSAGE"}},{key:"MESSAGE_TYPE_TEST",get:function(){return"TEST"}},{key:"MESSAGE_TYPE_IFRAME_CONTENT",get:function(){return"IFRAME_CONTENT"}},{key:"MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME",get:function(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}},{key:"MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE",get:function(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}},{key:"MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT",get:function(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}},{key:"MESSAGE_TYPE_TAB_INITIALIZATION",get:function(){return"TAB_INITIALIZATION"}},{key:"MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION",get:function(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}},{key:"MESSAGE_TYPE_TAB_URL_CHANGED",get:function(){return"TAB_URL_CHANGED"}},{key:"MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED",get:function(){return"TAB_ADBLOCKER_STATUS_CHANGED"}},{key:"MESSAGE_TYPE_IFRAME_INITIALIZATION",get:function(){return"IFRAME_INITIALIZATION"}},{key:"MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE",get:function(){return"IFRAME_INITIALIZATION_RESPONSE"}},{key:"MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS",get:function(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}},{key:"MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS",get:function(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}},{key:"MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT",get:function(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}},{key:"MESSAGE_TYPE_GET_WINDOW_TARGET_URL",get:function(){return"GET_WINDOW_TARGET_URL"}},{key:"MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND",get:function(){return"GET_WINDOW_TARGET_URL_RESPOND"}},{key:"MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL",get:function(){return"GET_WINDOW_CLICK_TARGET_URL"}},{key:"MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND",get:function(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}},{key:"MESSAGE_TYPE_GET_FRAME_CONTENT",get:function(){return"GET_FRAME_CONTENT"}},{key:"MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK",get:function(){return"TARGET_URL_DETECTION_BY_CLICK"}},{key:"MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET",get:function(){return"NEW_PAGE_CREATED_TICKET"}},{key:"MESSAGE_TYPE_PANEL_REGULATOR_RESULT",get:function(){return"PANEL_REGULATOR_RESULT"}},{key:"MESSAGE_TYPE_OUT_TICKET",get:function(){return"OUT_TICKET"}},{key:"MESSAGE_TYPE_CHAIN_ACTIVATION",get:function(){return"CHAIN_ACTIVATION"}},{key:"MESSAGE_TYPE_HEADER_INFO_TO_STORAGE",get:function(){return"HEADER_INFO_TO_STORAGE"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_SKINADS",get:function(){return"CANDIDATES_DATA_SKINADS"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_BANNERS",get:function(){return"CANDIDATES_DATA_BANNERS"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK",get:function(){return"CANDIDATES_DATA_FACEBOOK"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_TWITTER",get:function(){return"CANDIDATES_DATA_TWITTER"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_REDDIT",get:function(){return"CANDIDATES_DATA_REDDIT"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST",get:function(){return"CANDIDATES_DATA_PINTEREST"}},{key:"MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM",get:function(){return"CANDIDATES_DATA_INSTAGRAM"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK",get:function(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER",get:function(){return"CANDIDATE_PLACEMENTS_TWITTER"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT",get:function(){return"CANDIDATE_PLACEMENTS_REDDIT"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST",get:function(){return"CANDIDATE_PLACEMENTS_PINTEREST"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5",get:function(){return"CANDIDATE_PLACEMENTS_HTML5"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TIKTOK",get:function(){return"CANDIDATE_PLACEMENTS_TIKTOK"}},{key:"MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM",get:function(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}},{key:"MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES",get:function(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}},{key:"MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES",get:function(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}},{key:"MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES",get:function(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}},{key:"MESSAGE_TYPE_VIDEO_XHR_CANDIDATE",get:function(){return"VIDEO_XHR_CANDIDATE"}},{key:"MESSAGE_TYPE_VIDEO_HAR",get:function(){return"VIDEO_HAR"}},{key:"MESSAGE_TYPE_FACEBOOK_VIDEO_DATA",get:function(){return"FACEBOOK_VIDEO_DATA"}},{key:"MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA",get:function(){return"FACEBOOK_INSTREAM_DATA"}},{key:"MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA",get:function(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}},{key:"MESSAGE_TYPE_PINTEREST_VIDEO_DATA",get:function(){return"PINTEREST_VIDEO_DATA"}},{key:"MESSAGE_TYPE_TWITTER_VIDEO_DATA",get:function(){return"TWITTER_VIDEO_DATA"}},{key:"MESSAGE_TYPE_REDDIT_VIDEO_DATA",get:function(){return"REDDIT_VIDEO_DATA"}},{key:"MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA",get:function(){return"REDDIT_RIGHT_COLUMN_DATA"}},{key:"MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA",get:function(){return"INSTAGRAM_VIDEO_DATA"}},{key:"MESSAGE_TYPE_INSTAGRAM_STORY_DATA",get:function(){return"INSTAGRAM_STORY_DATA"}},{key:"MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA",get:function(){return"INSTAGRAM_FULL_TEXT_DATA"}},{key:"MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES",get:function(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID",get:function(){return"GET_PANALYTICS_ID"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION",get:function(){return"GET_PANELOS_VERSION"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS",get:function(){return"GET_ADBLOCKER_STATUS"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS",get:function(){return"GET_ADBLOCKER_COUNTERS"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER",get:function(){return"ENABLE_ADBLOCKER"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER",get:function(){return"DISABLE_ADBLOCKER"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS",get:function(){return"GET_DATA_COLLECTION_STATUS"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION",get:function(){return"ENABLE_DATA_COLLECTION"}},{key:"MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION",get:function(){return"DISABLE_DATA_COLLECTION"}},{key:"MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT",get:function(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}},{key:"MESSAGE_TYPE_GET_EXCLUDE_LIST",get:function(){return"GET_EXCLUDE_LIST"}},{key:"MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST",get:function(){return"ADD_INTO_EXCLUDE_LIST"}},{key:"MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST",get:function(){return"REMOVE_FROM_EXCLUDE_LIST"}},{key:"MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST",get:function(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}},{key:"MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST",get:function(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}},{key:"MESSAGE_TYPE_GET_CURRENT_DOMAIN",get:function(){return"GET_CURRENT_DOMAIN"}},{key:"MESSAGE_TYPE_GET_CURRENT_PAGE_URL",get:function(){return"GET_CURRENT_PAGE_URL"}},{key:"MESSAGE_TYPE_USE_LOCAL_CONFIG",get:function(){return"USE_LOCAL_CONFIG"}},{key:"MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS",get:function(){return"GET_LOCAL_CONFIG_STATUS"}},{key:"ADBLOCKER_STATUS_ENABLED",get:function(){return"enabled"}},{key:"ADBLOCKER_STATUS_DISABLED",get:function(){return"disabled"}},{key:"VIDEO_TRAFFIC_SOURCE_HTML",get:function(){return"HTML"}},{key:"VIDEO_TRAFFIC_SOURCE_JS",get:function(){return"JS"}},{key:"VIDEO_TRAFFIC_SOURCE_XHR",get:function(){return"XHR"}},{key:"VIDEO_TRAFFIC_MEDIA_TYPE_HTML",get:function(){return"HTML"}},{key:"VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON",get:function(){return"JSON"}},{key:"VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON",get:function(){return"JSON_FB"}},{key:"VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE",get:function(){return"YT_JSON_NEXTPAGE"}},{key:"VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE",get:function(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}},{key:"VIDEO_TRAFFIC_FILENAME_TO_INJECT",get:function(){return"vi-tr.js"}},{key:"FACEBOOK_AD_PLACEMENT_TYPE_FEED",get:function(){return"feed"}},{key:"FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH",get:function(){return"feedWatch"}},{key:"FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE",get:function(){return"marketplace"}},{key:"FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN",get:function(){return"rightColumn"}},{key:"FACEBOOK_AD_PLACEMENT_TYPE_STORIES",get:function(){return"stories"}},{key:"FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE",get:function(){return"videoPage"}},{key:"FACEBOOK_AD_VIDEO_URL_REPLACE_NAME",get:function(){return"[ADVERTISER_NAME]"}},{key:"FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID",get:function(){return"[VIDEO_ID]"}},{key:"FACEBOOK_FILENAME_TO_INJECT",get:function(){return"vi-oo-tr.js"}},{key:"TWITTER_AD_PLACEMENT_TYPE_FEED",get:function(){return"feedPost"}},{key:"TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW",get:function(){return"feedWhoToFollow"}},{key:"TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW",get:function(){return"rightColumnWhoToFollow"}},{key:"TWITTER_FILENAME_TO_INJECT",get:function(){return"vi-tt-tr.js"}},{key:"REDDIT_AD_PLACEMENT_TYPE_FEED",get:function(){return"feed"}},{key:"REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE",get:function(){return"commentPage"}},{key:"REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN",get:function(){return"rightColumn"}},{key:"REDDIT_FILENAME_TO_INJECT",get:function(){return"vi-rd-tr.js"}},{key:"PINTEREST_AD_PLACEMENT_TYPE_FEED",get:function(){return"feed"}},{key:"PINTEREST_AD_PLACEMENT_TYPE_SEARCH",get:function(){return"searchPage"}},{key:"PINTEREST_AD_PLACEMENT_TYPE_PIN",get:function(){return"pinPage"}},{key:"PINTEREST_FILENAME_TO_INJECT",get:function(){return"vi-pn-tr.js"}},{key:"INSTAGRAM_FILENAME_TO_INJECT",get:function(){return"vi-ig-tr.js"}},{key:"PINTEREST_LOADER_TYPE_PIN_PAGE",get:function(){return"pinPage"}},{key:"PINTEREST_LOADER_TYPE_USER_INFO",get:function(){return"userInfo"}},{key:"INSTAGRAM_AD_PLACEMENT_TYPE_FEED",get:function(){return"feed"}},{key:"INSTAGRAM_AD_PLACEMENT_TYPE_STORY",get:function(){return"story"}},{key:"KNOWN_CSS_NAMES",get:function(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}},{key:"FACEBOOK_DESIGN_VERSION_OLD",get:function(){return 1}},{key:"FACEBOOK_DESIGN_VERSION_NEW",get:function(){return 2}},{key:"OUT_TICKET_TYPE_SINGLE",get:function(){return"SINGLE"}},{key:"OUT_TICKET_TYPE_MULTI",get:function(){return"MULTI"}},{key:"ADBLOCKER_FOR_DISPLAY",get:function(){return"DISPLAY"}},{key:"ADBLOCKER_FOR_FACEBOOK",get:function(){return"FACEBOOK"}},{key:"ADBLOCKER_FOR_TWITTER",get:function(){return"TWITTER"}},{key:"ADBLOCKER_FOR_REDDIT",get:function(){return"REDDIT"}},{key:"ADBLOCKER_FOR_PINTEREST",get:function(){return"PINTEREST"}},{key:"ADBLOCKER_FOR_INSTAGRAM",get:function(){return"INSTAGRAM"}},{key:"USE_LOCAL_CONFIG",get:function(){return"CONFIG"}},{key:"AD_DETECTOR_INITIATOR_TIMER",get:function(){return"timer"}},{key:"AD_DETECTOR_INITIATOR_MUTATION",get:function(){return"mutation"}},{key:"AD_DETECTOR_INITIATOR_PAGECHANGE",get:function(){return"pagechange"}},{key:"AD_DETECTOR_INITIATOR_ACTIVATION",get:function(){return"activation"}},{key:"AD_DETECTOR_INITIATOR_URL",get:function(){return"url"}},{key:"IFRAMES_CHAIN_BUILDING_STATUS_NONE",get:function(){return 0}},{key:"IFRAMES_CHAIN_BUILDING_STATUS_INITED",get:function(){return 1}},{key:"IFRAMES_CHAIN_BUILDING_STATUS_STARTED",get:function(){return 2}},{key:"IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED",get:function(){return 3}},{key:"IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED",get:function(){return 4}},{key:"IFRAMES_CHAIN_BUILDING_STATUS_FINISHED",get:function(){return 5}},{key:"IFRAMES_TRAFFIC_FILENAME_TO_INJECT",get:function(){return"fr-co.js"}},{key:"CANDIDATE_PROCESS_STATUS_DETECED",get:function(){return 1}},{key:"CANDIDATE_PROCESS_STATUS_START_PROCESSING",get:function(){return 2}},{key:"CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED",get:function(){return 3}},{key:"CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT",get:function(){return 4}},{key:"TICKET_BUILDING_STATUS_INIT",get:function(){return 0}},{key:"TICKET_BUILDING_STATUS_STARTED",get:function(){return 1}},{key:"TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES",get:function(){return 2}},{key:"TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES",get:function(){return 3}},{key:"TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE",get:function(){return 4}},{key:"TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE",get:function(){return 5}},{key:"TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE",get:function(){return 6}},{key:"TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE",get:function(){return 7}},{key:"TICKET_BUILDING_STATUS_DONE",get:function(){return 8}},{key:"TICKET_ALIAS_PANALYTICSID",get:function(){return a.decode("cGFuZWxpc3RJZA==")}},{key:"TICKET_ALIAS_PINSTANCEID",get:function(){return a.decode("cGFuZWxJZA==")}},{key:"MAX_OUT_TICKETS_QUEUE_LENGTH",get:function(){return 20}},{key:"EXCLUDE_DOMAINS_LIST",value:function(){return"EXCLUDE_DOMAINS_LIST"}},{key:"EXCLUDE_PAGES_LIST",value:function(){return"EXCLUDE_PAGES_LIST"}},{key:"STYLES_BORDER_BANNER_CONTENT_EXTRACTED",get:function(){return"border: 6px solid blue !important;"}},{key:"STYLES_BORDER_BANNER_URL_EXTRACTED",get:function(){return"border: 6px solid blueviolet !important;"}},{key:"STYLES_BORDER_BANNER_FILTERED",get:function(){return"border: 6px solid orange !important;"}},{key:"STYLES_BORDER_BANNER_SENT",get:function(){return"border: 6px solid green !important;"}},{key:"STYLES_OUTLINE_SUCCESS_DETECT",get:function(){return"outline: green solid 6px !important;"}},{key:"STYLES_OUTLINE_VIDEO_AD",get:function(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}},{key:"STYLES_OUTLINE_TEXT_AD",get:function(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}},{key:"STYLES_CONSOLE_LOGS_INFO",get:function(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}},{key:"STYLES_CONSOLE_LOGS_ERROR",get:function(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=r},1850:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(3124),r=n(1225),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"EmptyMessage",get:function(){return{posdMessageId:a.MESSAGE_ID,posdHash:r.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:""}}},{key:"IsValid",value:function(t){try{if(void 0!==t&&void 0!==t.posdMessageId&&void 0!==t.type&&void 0!==t.content)return t.posdMessageId===a.MESSAGE_ID}catch(t){throw t}return!1}},{key:"IsStrictValid",value:function(t){try{if(void 0!==t&&void 0!==t.posdMessageId&&void 0!==t.from&&void 0!==t.to&&void 0!==t.type&&void 0!==t.content)return t.posdMessageId===a.MESSAGE_ID}catch(t){throw t}return!1}}],(n=null)&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=o},4019:t=>{var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var n,i,a,r,o,s,u,c="",d=0;for(t=e._utf8_encode(t);d<t.length;)r=(n=t.charCodeAt(d++))>>2,o=(3&n)<<4|(i=t.charCodeAt(d++))>>4,s=(15&i)<<2|(a=t.charCodeAt(d++))>>6,u=63&a,isNaN(i)?s=u=64:isNaN(a)&&(u=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(u);return c},decode:function(t){if("{"===t[0])return t;var n,i,a,r,o,s,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)n=this._keyStr.indexOf(t.charAt(c++))<<2|(r=this._keyStr.indexOf(t.charAt(c++)))>>4,i=(15&r)<<4|(o=this._keyStr.indexOf(t.charAt(c++)))>>2,a=(3&o)<<6|(s=this._keyStr.indexOf(t.charAt(c++))),u+=String.fromCharCode(n),64!=o&&(u+=String.fromCharCode(i)),64!=s&&(u+=String.fromCharCode(a));return u=e._utf8_decode(u)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",n=0,i=0,a=0,r=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(a=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&a),n+=2):(a=t.charCodeAt(n+1),r=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&r),n+=3);return e}};t.exports=e},7401:t=>{t.exports='{"configInfo":{"panelVersion":"2.0.14","version":"2.88"},"loadManagement":{"sendCandidatesSkinAd":true,"sendCandidatesBanner":true,"sendCandidatesHtml5":true,"sendYoutubeVideoTraffics":true,"sendNonYoutubeVideoTraffics":true,"sendFacebookAds":true,"sendTwitterAds":true,"sendRedditAds":true,"sendPinterestAds":true,"sendTiktokVideoTraffics":true,"sendInstagramAds":true,"sendFacebookVideoTraffics":true},"filterLists":{"blacklistPublishers":["mail.google.com","mail.yahoo.com","mail.aol.com","outlook.live.com","outlook.office365.com","google.com","docs.google.com","drive.google.com","calendar.google.com","translate.google.com","classroom.google.com","accounts.google.com","meet.google.com","photos.google.com","myaccount.google.com","contacts.google.com","duo.google.com","hangouts.google.com","keep.google.com","jamboard.google.com","classroom.google.com","earth.google.com","artsandculture.google.com","podcasts.google.com","one.google.com","developers.google.com","fi.google.com","files.google.com","groups.google.com","health.google","pay.google.com","workspace.google.com","shopping.google.com","store.google.com","sites.google.com","stadia.google.com","translate.google.com","voice.google.com","steamcommunity.com","store.steampowered.com","fredericksburg-inn.com","truspaceaspire.com","picturecreator9.in","iek-akmi.edu.gr","sbie.edu.gr","mitropolitiko.edu.gr","servergarden.hu","shoemart.gr","biscience.atlassian.net","amazonaws.com","adviewer.adcint.net","github.com","chat.google.com","f95zone.to","pl.xhamster.com","outlook.office.com","developer.mozilla.org","linkedin.com","china-tube.site"],"blacklistBannerImgSrc":[".files.wordpress.com/",".outlook.office.net/",".wikimedia.org/",".azureedge.net",".yimg.com/","image.winudf.com/"],"blacklistBannerHref":["//play.google.com/store/apps/","//itunes.apple.com/app/","//www.youtube.com/watch","//zoom.us/","rozetka."],"blacklistIframeSrc":["facebook.com/","twitter.com/","youtube-nocookie.com/embed/","//vk.com/","//www.vk.com/","//linkedin.com/","//www.linkedin.com/","//instagram.com/","//www.instagram.com/","//www.google.com/recaptcha/api2/","//hangouts.google.com/webchat/","//www.google.com/calendar/","//www.google.com/maps/embed","spotify.com/","soundcloud.com/","//player.vimeo.com/","//disqus.com/","//tgwidget.com/","//js.driftt.com/","friends2follow.com","/widget","login","//video.bigmir.net/","blogger.com","//smartlock.google.com/","//keep.google.com/","/web.tolstoycomments.com/","moz-extension://","chrome-extension://","/auth/","//analytics.google.com/","adclarity.com","paddle.com/checkout","hcaptcha.com","recaptcha.net","2captcha.com","accounts.google.com","www.google.com/shopping/customerreviews","buy.tinypass.com","gstatic.com","secureir.ebaystatic.com","docs.google.com","contacts.google.com","github.com","mail.google.com","chat.google.com","audio.xpleer.com","keepa.com","static.xx.fbcdn.net","sas.selleramp.com","1plus1.video","console.googletagservices.com"],"blacklistIframeId":["twitter-widget-","cello__trello-board__"],"blacklistTargetUrl":["adssettings.google.com/whythisad","mediamath.com/privacy-policy","info.yahoo.com/privacy","boostbox.com.br","http://alberoonlus.it","http://app.netjobsall.com","http://bagstories.gr","http://caetanostarmercedes.pt","http://caribul.com","http://et.nz","http://fasciaclinics.com","http://fasciaguide.com","http://incoaching.it","http://kiddomstore.gr","http://macon.gr","http://parousiasi.gr","http://pausit.no","http://qavpodcast.com.au","http://starantzis.com","http://survival.gr","http://tecnorulli.com","http://visaprostudy.com.au","http://youbarber.com","privacy.us.criteo.com"],"whitelistCandidatesUrlKeyWords":["/lynad/","banner","/ad","/webads/","ad-sys.","/?gfe_rd=cr","/a.asp","/about/privacy","/aclk?sa=","/ag/","/clicktracker","/connect","/econda","/go","/javascripts/blogger.js","/js/plusone.js","/linkout","/offers","/pagead/","/plugins","/privacy-policy","/scripts/l.php","/servlet/click/zone?zid=","/simpleads/","/site/catsearch","/tncms/tracking","/tsn","/www/delivery/","/xgde.html","/xiti.asp?s=","/webtracking","javascript:window.parent"],"whitelistRedirectionCode":[".location.replace(\\"javascript:window.goog_content\\")"]},"videoValidatorsForHTML":[{"name":"HTML","alias":"YT_HTML_DESKTOP_MASTHEAD_AD","mimePattern":"/html/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/?$/","contentPattern":"/videoMastheadAdV3Renderer/m","reduceSizeFilter":{"reducePattern":"/(\\\\<script.{0,200}\\\\>\\\\s*var\\\\s*ytInitialData\\\\s*=.*\\\\s*\\\\<\\\\/\\\\s*script\\\\>)/m","active":true,"regResIndexes":[0]}},{"name":"HTML","alias":"YT_HTML_DESKTOP_IFRAME_MASTHEAD_AD","mimePattern":"/html/i","domainPattern":"/^https:\\\\/\\\\/pubads\\\\.g\\\\.doubleclick\\\\.net\\\\/gampad\\\\/ads\\\\?.*?com\\\\.ythome.*?kmyd\\\\%3Dvideo-masthead/","contentPattern":"/yt.method/m"},{"name":"HTML","alias":"YT_HTML_MOBILE_AD_PLACEMENTS","mimePattern":"/html/i","domainPattern":"/https?:\\\\/\\\\/m\\\\.youtube\\\\.com/","contentPattern":"/adPlacements/"},{"name":"HTML","alias":"YT_HTML_MOBILE_INSCRIPT_AD_PLACEMENTS","mimePattern":"/html/i","domainPattern":"/https?:\\\\/\\\\/m\\\\.youtube\\\\.com/watch\\\\?.+$/","contentPattern":"/\\\\<script.*?\\\\>\\\\s*var\\\\s*ytInitialPlayerResponse\\\\s*=\\\\s*(.*(adPlacements|adSlots).*).*[;]\\\\<\\\\/script\\\\>/m"},{"name":"HTML","alias":"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE","mimePattern":"/html/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com/watch\\\\?.+$/","contentPattern":"/\\\\<script.{0,200}\\\\>\\\\s*var\\\\s*ytInitialPlayerResponse\\\\s*=\\\\W*\\\\\\"responseContext\\\\\\".*(adPlacements|adSlots).*var\\\\s*meta\\\\s*=\\\\s*document\\\\.createElement\\\\(\'meta\'\\\\)/m","reduceSizeFilter":{"reducePattern":"/({window\\\\.ytplayer\\\\s*=\\\\s*{\\\\s*}\\\\s*;\\\\s*ytcfg\\\\.set\\\\(.*}\\\\);)(?:[\\\\s\\\\S]*)(\\\\<script.{0,200}\\\\>\\\\s*var\\\\s*ytInitialPlayerResponse\\\\s*=.*\\\\s*\\\\<\\\\/\\\\s*script\\\\>)/mg","active":true,"regResIndexes":[1,2]}},{"name":"HTML","alias":"HTML_NHL","mimePattern":"/html/i","contentPattern":"/(\\\\&quot\\\\;ad\\\\&quot\\\\;)\\\\W*?(\\\\&quot\\\\;adTagUrl\\\\&quot\\\\;)/m"},{"name":"HTML","alias":"IAB_HTML","mimePattern":"/html/i","contentPattern":"/VAST|VMAP/m"}],"videoValidatorsForJS":[{"name":"JAVASCRIPT","alias":"JS_DAILYMOTION","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/.{0,30}?(dailymotion\\\\.com).*?callback=.*/i","contentPattern":"/VAST|VMAP/m"},{"name":"JAVASCRIPT","alias":"JS_FREEWHEEL","mimePattern":"/javascript/i","contentPattern":"/^tv\\\\.freewheel\\\\.SDK\\\\.\\\\_instanceQueue.{0,100}requestComplete\\\\(\\\\{/"},{"name":"JAVASCRIPT","alias":"JS_INNOVID","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*innovid\\\\.com/","contentPattern":"/SCOPE.baseData.app_data/"},{"name":"JAVASCRIPT","alias":"JS_VIDIBLE","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*vidible\\\\.tv/","contentPattern":"/vpaidAd.initAd = function/"},{"name":"JSON","alias":"JSON_TIKTOK_FEED","mimePattern":"/javascript/i","contentPattern":"/ItemModule.*[^adLabelVersion]adLabelVersion/"}],"videoValidatorsForXHR":[{"name":"XML_URLENCODED","alias":"YT_XML_EMBED","mimePattern":"/urlencoded/i","domainPattern":"/https:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/get_video_info/","contentPattern":"/vast|vmap/m","transform":"content => window.atob(content)"},{"name":"XML","alias":"XML_FREEWHEEL","mimePattern":"/xml/i","contentPattern":"/adResponse/m"},{"name":"XML","alias":"IAB_XML","mimePattern":"/xml/i","contentPattern":"/VAST|VMAP/m"},{"name":"XML","alias":"XML_INNOVID","mimePattern":"/xml/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*innovid\\\\.com/","contentPattern":"/extension-config-url|placement-config/"},{"name":"JSON","alias":"JSON_UPLYNK","mimePattern":"/json/i","contentPattern":"/(\\"is_ad\\"\\\\W*?1)((.|\\\\n|\\\\t|\\\\r)*?)(\\"ad_data\\")/m","domainPattern":"/https?://.{0,30}?(uplynk\\\\.com)\\\\/.*/i"},{"name":"JSON","alias":"YT_JSON_NEXTPAGE","mimePattern":"/json/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/watch\\\\?v=.+$/"},{"name":"JSON","alias":"YT_JSON_NEXTPAGE_PLAYER","mimePattern":"/json/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/youtubei\\\\/v1\\\\/player\\\\?(key=|)/","contentPattern":"/(adPlacements|adSlots)/"},{"name":"JSON","alias":"YT_MIDROLL_INFO","mimePattern":"/xml|json/i","domainPattern":"/(https?:\\\\/\\\\/((www|m)\\\\.){0,1}(youtube|youtube-nocookie)\\\\.com\\\\/get_midroll_info)|(https?:\\\\/\\\\/((www|m)\\\\.){0,1}youtube\\\\.com\\\\/youtubei\\\\/v1\\\\/player\\\\/ad_break([?]key=|))/"},{"name":"JSON","alias":"JSON_NHL","mimePattern":"/json/i","contentPattern":"/flashAdTag|html5AdTag/m"},{"name":"JSON","alias":"JSON_TIKTOK_FEED","mimePattern":"/application\\\\/json/i","domainPattern":"/(tiktok\\\\.com\\\\/api\\\\/recommend\\\\/)|(tiktok\\\\.com\\\\/api\\\\/topic\\\\/)item_list\\\\/\\\\?/","contentPattern":"/itemList/i"},{"name":"JSON","alias":"IAB_JSON","mimePattern":"/json/i","domainPattern":"/^((?!tiktok).)*$/","contentPattern":"/VAST|VMAP/m"}],"facebookConfig":{"FB_CONTENT":"div[id^=\\"mount_\\"]","VIDEO_URL_BY_PATTERN":{"PATTERN":"https://www.facebook.com/plugins/video.php?href=https://www.facebook.com/[ADVERTISER_NAME]/videos/[VIDEO_ID]/&show_text=false&t=0","REGEX_ADVERTISER_NAME":"pg/([^&/]+)","REGEX_VIDEO_ID":"[?&]v=([^&]+).*$","REGEX_VIDEO_SRC":"(?:(\\"hd\\\\_src\\\\_no\\\\_ratelimit\\"\\\\:( |)\\"|\\"hd\\\\_src\\"\\\\:( |)\\"|\\"sd\\\\_src\\\\_no\\\\_ratelimit\\"\\\\:( |)\\"))(.[^,\\"]+)","MAP_REPLACE_UNICODE":[["u0025","%"]]},"TAGS_FOR_LOADING_CHECK":"img, video, svg","FEED_PAGE":{"MIN_IMGS_SPACE_PERCENTAGE":6,"INVALID_URL_PATHS":["/marketplace","/watch"],"FEED_QUERIES":["div[role=\\"feed\\"] > div:not([class])","div[role=\\"main\\"] div>span>span>span>span","div[role=\\"main\\"] span[id=\\"ssrb_feed_start\\"]","div[role=\\"main\\"] h3 ~ div:not([class]):not([aria-hidden])"],"POSTS_QUERY":"div[role=\\"feed\\"] > div, div[role=\\"feed\\"] > span > div","MIN_HEIGHT":1400,"COVER_IMAGE_QUERY":"div[data-instancekey] img"},"FEED_WATCH_PAGE":{"MIN_IMGS_SPACE_PERCENTAGE":6,"FEED_WATCH_QUERIES":["div[role=\\"main\\"] div[class] > div[class] > div:not([class]) > div:not([class]) > div[class] > div[class] > div:not([class])"],"COVER_IMAGE_QUERY":"div > img[referrerpolicy]"},"SPONSORED_TEXTS":["Sponsored","","","","Sponzorovno","May Sponsor","Sponsoris","Gesponsert","","Bersponsor","Patrocinado","Publicidad","","Sponsorlu","c ti tr","","La maalgeliyey","Geborg","Sponsor dstkli","Ditaja","Disponsori","Sponzorirano","Paeroniet","Patrocinat","Spunsurizatu","Noddwyd","Sponsoreret","Sponsitud","posuodS","Reklamo","Babestua","Commandit","Sponsore","Yoanaama","Stula","Urraithe","Oepatrosinapyre","Daukar Nauyi","Plaeni oglas","Icyamamaza ndasukirwaho","Sponsorizzato","Imedhaminiwa","Peye","Sponsorkir","Apmaksta reklma","Remiama","Hirdets","Misy Mpiantoka","Sponsorjat","Gesponsord","Sponset","Sponsa","Reklama","Sponsorowane","Sponsorizat","Patronadu de:","Zvabhadharirwa","Sponsorizuar","Sponzorovan","Sponzorirano","Sponsoroitu","Sponsrad","Sponsord","Kosta","Szpnzorowane","","","",""," ","",""," ","","","","  "," ",""," "," ",""," ","","",""," ",""," ","","","","",""," ","","","","Paid for by","Paid Partnership","Sponsorise"],"POSSIBLE_SPONSORED_TEXT_QUERIES":["svg>use[*|href]:not([href])","a[role=\\"link\\"]","a[href^=\\"/ads/about\\"]","div[role=\\"button\\"]:not([aria-haspopup=\\"menu\\"])","span:not([class]) span[aria-labelledby] > canvas"],"PATH_TO_CANVAS_TEXT":["return","memoizedProps","text"],"XLING_HREF_ATTRIBUTE_FOR_SVG":"xlink:href","VISIBLE_SPANS_TEXT":"span,div","ABOUT_SECTION_CONFIG":{"LOAD_ABOUT_PAGE":true,"QUERY_ABOUT_PAGE_HREF":"object[type=\'nested/pressable\'] a[href], h4 a[href]","HREF_PREFIX":"https://www.facebook.com/","HREF_PREFIX_WATCH":"a[href^=\\"/watch/\\"]","HREF_TEMPLATE_WATCH":"https://www.facebook.com/watch/","QUERY_GET_USER_ID_FROM_HREF":"\\\\?id=(.[^&]*)","ABOUT_PAGE_TEMPLATE":"https://www.facebook.com/pg/%1/about/","ABOUT_PAGE_BAD_WORDS_MATCHES":["facebook.com/stories/","//l.facebook.com/l.php?"],"CONTENT_CHECK_STRING":"((page_about_fields)|(about_app_sections))","HEADERS":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},"ADVERTISER_LINK_INSTREAM_QUERIES":["\\"website\\":\\".[^\\"]*\\"","\\"text\\":\\".[^}]*\\\\}\\\\,\\"field\\\\_type\\"\\\\:\\"website\\"",",\\"text\\":\\"Website\\".[^\\"]*\\"link_url\\":\\".[^\\"]*"],"CHROME_SECTIONS":{"SECTION_ZONE_DETECTOR":"</body></html>","CONTENT_CHECK_STRING":">About</div>","SECTION_START":"bigPipe.beforePageletArrive(\\"PagesProfileAboutInfoPagelet_","SECTION_END":"function(bigPipe){bigPipe.beforePageletArrive"},"FIREFOX_SECTIONS":{"CONTENT_CHECK_STRING":">About</div>","SECTION_START sectionStart":"bigPipe.beforePageletArrive(\\"PagesProfileAboutInfoPagelet_","SECTION_END sectionEnd":"function(bigPipe){bigPipe.beforePageletArrive"}},"MARKETPLACE_ADS_CONFIG":{"CONTAINER":"div[role=\\"main\\"]","CARDS":"div[class] > span:not([class]):not([id]):not([aria-hidden])","SPONSOR_BLOCKS":"a[href^=\\"/ads/about\\"]","SATELITE_SPONSORED_STRING":"a[role=link][href*=\\"ads/about\\"]","MIN_IMGS_SPACE_PERCENTAGE":15,"PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH":["parentElement","parentElement","previousElementSibling","querySelector,a[href^=\\"/ads/about\\"]"],"COVER_IMAGE_QUERY":"div[data-instancekey] img[alt=\'\']"},"RIGHT_COLUMN_ADS_CONFIG":{"CONTAINER":"div[role=\\"complementary\\"]","CARDS":"*[role=\\"complementary\\"] div[class] > div:not([class]) > div:not([class])","SATELITE_SPONSORED_STRING":"h3[dir=\\"auto\\"] > div","IF_AD":"a","MIN_IMGS_SPACE_PERCENTAGE":15,"IMPOSSIBLE_HREF_REG_FOR_AD":"friends/requests"},"optionsForDetectorRightColumn":{"detectorName":"FacebookAds:RightColumn","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":300,"maxActualizeDetectorWaitTimeMs":60000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500},"optionsForDetectorFeed":{"detectorName":"FacebookAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":300,"maxActualizeDetectorWaitTimeMs":60000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"attributeWithSponsorAlly":"aria-label"},"optionsForDetectorWatch":{"detectionIntervalMs":1000,"detectorName":"FacebookAds:FeedWatch","extractAdRandomPartTimeoutMs":500,"extractAdStaticPartTimeoutMs":1500,"firstDetectionAfterActivationTimeoutMs":300,"maxActualizeDetectorWaitTimeMs":60000,"minTimeAfterLastDetectionMs":500,"observerNodesCheckIntervalMs":300,"observerNodesChecksMaxAmount":20,"secondDetectionAfterActivationTimeoutMs":900,"useObserver":true,"attributeWithSponsorAlly":"aria-label"},"optionsForDetectorMarketplace":{"detectorName":"FacebookAds:Marketplace","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":300,"maxActualizeDetectorWaitTimeMs":60000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":300,"urlValidationByKeyWord":"/marketplace"},"videoDetectorConfigNew":{"PARSERS":[{"TYPE":"XML_HTTP_REQUEST","VIDEO_ID":"\\"videoId\\":(\\\\s|)\\"(.[^\\"]*)","VIDEO_HD_URL":"\\"(browser_native_sd_url|playable_url)\\":(\\\\s|)\\"(.[^\\"]*)","VIDEO_SD_URL":null,"VIDEO_AUDIO_URL":"\\"audio\\":(\\\\s|)\\\\[\\\\{\\"url\\":(\\\\s|)\\"(.[^\\"]*)","THUMBNAIL":"\\"thumbnailImage\\":(\\\\s|){\\"uri\\":(\\\\s|)\\"(.[^\\"]*)","LINK_DISPLAY":"\\"link_display\\":(\\\\s|)\\"(.[^\\"]*)","CHECKER":[]},{"TYPE":"INSTREAM_CONFIG","PATH_NODES":["data","viewer","instream_video_ads","edges"],"PATH_ALL_VIDEO":["extensions","all_video_dash_prefetch_representations",["video_dash_prefetch_representations","representations"]],"PATH_VIDEO_ID":["node","attachments",0,"target","id"],"PATH_TARGET_URL":["node","attachments",0,"action_links"],"PATH_USER_ID":["node","actors",0,"id"],"ALIAS":"JSON_FB","CHECKER":["browser_native_sd_url"]},{"TYPE":"SCRIPT","VIDEO_ID":"\\"videoId\\":(\\\\s|)\\"(.[^\\"]*)","VIDEO_HD_URL":"\\"(browser_native_sd_url|playable_url)\\":(\\\\s|)\\"(.[^\\"]*)","VIDEO_SD_URL":null,"VIDEO_AUDIO_URL":"\\"audio\\":(\\\\s|)\\\\[\\\\{\\"url\\":(\\\\s|)\\"(.[^\\"]*)","THUMBNAIL":"\\"preferred_thumbnail\\":(\\\\s|)\\\\{\\"image\\":(\\\\s|)\\\\{\\"uri\\":(\\\\s|)\\"(.[^\\"]*)","LINK_DISPLAY":"\\"link_display\\":(\\\\s|)\\"(.[^\\"]*)","CHECKER":[]},{"TYPE":"MARKETPLACE_VIDEO_AD","PATH_AUDIO_URL":[["extensions","prefetch_dash_segments",0,"audio",0,"url"],["extensions","prefetch_dash_segments",0,"audio",0,"url"]],"PATH_VIDEO_URL":[["data","node","story","attachments",0,"media","browser_native_sd_url"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","browser_native_sd_url"]],"PATH_VIDEO_ID":[["data","node","story","attachments",0,"media","id"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","id"]],"PATH_THUMBNAIL":[["data","node","story","actors",0,"logo","uri"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","thumbnailImage","uri"]],"PATH_LOGO":[["data","marketplace_home_feed","edges",0,"node","story","actors",0,"logo","uri"]],"PATH_NAME":[["data","marketplace_home_feed","edges",0,"node","story","actors",0,"name"]],"CHECKER":["browser_native_sd_url","MarketplaceFeedAdStory"]},{"TYPE":"FEED_VIDEO_AD","PATH_VIDEO_URL":[["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","browser_native_sd_url"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","browser_native_sd_url"],["data","node","feed_unit","attachments",0,"media","browser_native_sd_url"],["data","node","section_components","edges",0,"node","feed_unit","attachments",0,"media","browser_native_sd_url"]],"PATH_VIDEO_ID":[["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoId"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoId"],["data","node","feed_unit","attachments",0,"media","videoId"],["data","node","section_components","edges",0,"node","feed_unit","attachments",0,"media","videoId"]],"PATH_THUMBNAIL":[["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","preferred_thumbnail","image","uri"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","preferred_thumbnail","image","uri"],["data","node","feed_unit","attachments",0,"media","preferred_thumbnail","image","uri"],["data","node","section_components","edges",0,"node","feed_unit","attachments",0,"media","preferred_thumbnail","image","uri"]],"PATH_USER_NAME":[["data","node","comet_sections","content","story","actors",0,"name"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","actors",0,"name"],["data","node","feed_unit","actors",0,"name"],["data","node","section_components","edges",0,"node","feed_unit","actors",0,"name"]],"CHECKER":["browser_native_sd_url"]}],"PARSER_CONFIG":{"LISTEN_HTTP_REQUESTS":true,"SCRIPT":{"USE":true,"SEPARATOR":"\\"category\\"","INTERVAL_MS":5000},"XML_HTTP_REQUEST":{"USE":true,"SEPARATOR":"\\"category\\"","MATCH_URLS":["/api/graphql/"]},"FEED_VIDEO_AD":{"USE":true,"SEPARATOR":null,"HEADERS":{"x-fb-friendly-name":["CometVideoHomeFeedSectionPaginationQuery","CometNewsFeedPaginationQuery"]}},"INSTREAM_CONFIG":{"USE":true,"SEPARATOR":null,"HEADERS":{"x-fb-friendly-name":["useInstreamAdsFetcherQuery"]},"FILTER_DATA":false},"MARKETPLACE_VIDEO_AD":{"USE":true,"SEPARATOR":null,"HEADERS":{"x-fb-friendly-name":["MarketplaceCometBrowseFeedLightPaginationQuery","MarketplaceCometBrowseFeedLightContainerQuery"]}}},"MATCH_URLS":["/api/graphql/"],"MATCH_HEADERS":{"x-fb-friendly-name":["useInstreamAdsFetcherQuery","MarketplaceCometBrowseFeedLightPaginationQuery","MarketplaceCometBrowseFeedLightContainerQuery","CometNewsFeedPaginationQuery","CometVideoHomeFeedSectionPaginationQuery"]}},"statistic":{"sendNotFullFeedVideoAds":false,"sendFakeAdFromNewDesign":false}},"twitterConfig":{"PROMOTED_ALIASES":["","Promoted","","","","Sustatua","","c qung b","Patrocinat","Promoveret","Uitgelicht","Mainostettu","Sponsoris","Patrocinado","Gesponsert",""," ","","Ajnlott","Dipromosikan","Urraithe","Sponsorizzato","",""," ","Dipromosikan","","Promotert","","Promowane","Promovido","Promovat","","","Sponzorovan","Promocionado","Sponsrad","","","Sponsorlu"," ","c qung b","Ad"],"PROMOTED_SELECTOR":"div > svg ~ div > span, div:not([data-testid=\\"User-Name\\"]):not([data-testid=\\"tweetText\\"]) > div > div[dir] > span","PROGRESS_SELECTOR":"div[role=\\"progressbar\\"]","FEED_CONTAINER":"section[role=\\"region\\"]","RIGHT_COLUMN_CONTAINER":"aside[role=\\"complementary\\"]","FEED_TWEETS_SELECTOR":"*[data-testid=\\"tweet\\"]:not([bis_size])","RIGHT_COLUMN_WHO_TO_FOLLOW_SELECTOR":"*[data-testid=\\"sidebarColumn\\"]:not([bis_size]) *[role=\\"complementary\\"]:not([bis_size]) *[data-testid=\\"UserCell\\"]:not([bis_size])","FEED_WHO_TO_FOLLOW_SELECTOR":"*[data-testid=\\"primaryColumn\\"]:not([bis_size]) *[data-testid=\\"UserCell\\"]:not([bis_size])","LOAD_USER_DATA":{"AUTH_BEARER":"Bearer AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA","API_CALL_SCREEN_NAME":"https://api.twitter.com/graphql/E4iSsd6gypGFWx2eUhSC1g/UserByScreenName?variables=%7B%22screen_name%22%3A%22${%1}%22%2C%22withHighlightedLabel%22%3Atrue%7D","API_CALL_GUEST":"https://api.twitter.com/1.1/guest/activate.json","ENABLED":true},"FEED_MIN_IMGS_SPACE_PERCENTAGE":7,"FEED_WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE":1,"RIGHT_COLUMN_MIN_IMGS_SPACE_PERCENTAGE":5,"TAGS_FOR_LOADING_CHECK":"img, video","TAGS_FOR_VIDEO_TWEET_CHECK":"div[role=\\"button\\"][aria-label=\\"Play\\"]>div>svg, video[aria-label]","CHECK_IF_CAROUSEL_QUERY":"ul[role=\\"list\\"] > li[role=\\"listitem\\"]","MIN_AMOUNT_OF_WORDS_FOR_MATCHING":3,"MIN_MATCHING_WORD_LENGTH":3,"MAX_CANDIDATES_TO_SEND":3,"MAX_VIDEO_DATA_KEEP_IN_STORAGE":200,"VIDEO_TRAFFIC_DETECTOR":{"parsers":[{"watch":"https://(api\\\\.|)twitter.com/(i/api/|)2/timeline/home.json","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"query":"globalObjects.tweets[* #select(id_str as id, full_text)].card.binding_values.unified_card.string_value","queries":["globalObjects.tweets[* #select(id_str as id, full_text)].card.binding_values.unified_card.string_value","globalObjects.tweets[* #select(id_str as id, full_text)].extended_entities.media"],"prop":"string_value"}},{"name":"arrToVal","arguments":{"prop":"string_value"}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":null},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://twitter\\\\.com/i/api/graphql/.[^/]*/HomeLatestTimeline","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.tweet.rest_id as id, content.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].content.itemContent.tweet_results.result.tweet.legacy.extended_entities.media"],"prop":"binding_values","props":[["binding_values",["unified_card"]],["media",["video_info","type"]]]}},{"name":"arrToVal","arguments":{"prop":"string_value","total_prop":"string_value","props":[["binding_values",["string_value"]],["entries",["full_text","id"]],["media",["video_info","type"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"],"props":["string_value","video_info"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":{"props":["full_text","id"]}},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://twitter\\\\.com/i/api/graphql/.[^/]*/(HomeTimeline|UserTweets)","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.tweet.rest_id as id, content.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].content.itemContent.tweet_results.result.tweet.legacy.extended_entities.media","data.user.result.timeline_v2.timeline.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.user.result.timeline_v2.timeline.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media"],"prop":"binding_values","props":[["binding_values",["unified_card"]],["media",["video_info","type"]]]}},{"name":"arrToVal","arguments":{"prop":"string_value","props":[["binding_values",["string_value"]],["entries",["full_text","id"]],["media",["video_info","type"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"],"props":["string_value","video_info"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":{"props":["full_text","id"]}},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://api\\\\.twitter\\\\.com/graphql/.[^/]*/HomeTimeline","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values"],"props":[["media",["type","video_info"]],["binding_values",["unified_card"]]]}},{"name":"arrToVal","arguments":{"props":[["media",["type","video_info"]],["entries",["full_text","id"]],["binding_values",["string_value"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"],"props":["string_value","video_info"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":{"props":["full_text","id"]}},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]}]}},"redditConfig":{"PROMOTED_ALIASES":["anuncio","advertisement","werbung","publicit","pubblicit","anncio","publicidade","patrocinado","promoted","gesponsort","promocionado","promue","promozione","sponsoris","gesponsert"],"FEED":{"IMG_SPACE_PERCENTAGE":7,"PROMOTED_SELECTOR":"span:not([class]):not([id]), faceplate-hovercard[data-id=\\"user-hover-card\\"] ~ span ~ span, faceplate-hovercard[data-id=\\"user-hover-card\\"] ~ span ~ span ~ span, div[slot] shreddit-dynamic-ad-link > span","QUERIES":["#AppRouter-main-content div:not([class]) div[tabindex]:not([class]) ~ div[class] ~ div","main > div","div.main > div:not([class])","main shreddit-feed"],"SECONDARY_CHECK_QUERY":"faceplate-batch","QUERY_TO_EXCLUDE":"input[name=\\"createPost\\"],button[role=\\"menuitem\\"]","QUERY_POSTS":"main > div shreddit-ad-post","MAX_CHILD_HEIGHT":1000,"INVALID_URL_PATHS":["/comments"],"DETECTOR_OPTIONS":{"detectorName":"RedditAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":300,"maxActualizeDetectorWaitTimeMs":60000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"COMMENT_PAGE":{"IMG_SPACE_PERCENTAGE":0.17,"MIN_HEIGHT":500,"PROMOTED_SELECTOR":"span:not([class]):not([id]), a > span ~ span ~ div, shreddit-dynamic-ad-link > span ~ span ~ div","QUERIES":["div[tabindex=\\"-1\\"] > div[class] > span:not([class]) ~ div ~ div[tabindex] ~ div","div[class*=main]","div[id=\\"overlayScrollContainer\\"] div[class]:not([id]):not([data-testid=\\"frontpage-sidebar\\"]):not([data-testid=\\"subreddit-sidebar\\"])","div[class]:not([id]):not([data-testid=\\"frontpage-sidebar\\"]):not([data-testid=\\"subreddit-sidebar\\"]):not([role=\\"menu\\"]) > div[tabindex] ~ div[class]","main#main-content"],"TOP_DISTANCE":55,"TEXT_FROM_HREF":"/comments/","QUERY_IS_POPUP":"div[id=\\"overlayScrollContainer\\"]","DETECTOR_OPTIONS":{"detectorName":"RedditAds:CommentPage","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":300,"maxActualizeDetectorWaitTimeMs":60000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlValidationByKeyWord":"/comments"}},"RIGHT_COLUMN":{"MIN_HEIGHT":500,"IMG_SPACE_PERCENTAGE":7,"PATH_WITH_AD_URL":"^https?\\\\://gateway\\\\.reddit\\\\.com/desktopapi/v1/sidebar_insertion","PROMOTED_SELECTOR":"div[data-before-content], span:not([class]):not([id]), shreddit-sidebar-ad > div[slot=\\"promoted-label\\"] > span","QUERIES":["div[data-testid=\\"frontpage-sidebar\\"], div[data-testid=\\"subreddit-sidebar\\"], div[class*=main] ~ div > pdp-right-rail > faceplate-tabpanel faceplate-tracker > ul","div#right-sidebar-container > div"],"DETECTOR_OPTIONS":{"detectorName":"RedditAds:RightColumn","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":300,"maxActualizeDetectorWaitTimeMs":60000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"NECESSARY_STYLES":{"BY_DATA_ATTRIBUTE":[{"KEY":"href","ALL_STYLES_FROM":["chunkCSS/reddit-components-LargePost.","chunkCSS/Reddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-components-LargePost~reddi~","chunkCSS/Reddit~StandalonePostPage~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-compone~","chunkCSS/ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~","chunkCSS/CollectionCommentsPage~CommentsPage~ModerationPages~ProfileComments~ProfileOverview~ProfilePrivate~","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~FramedGild~GildModal~GovernanceReleaseNotesModal~","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~FramedGild~GildModal~GovernanceReleaseNotesModal~","chunkCSS/CollectionCommentsPage~CommentsPage~ProfileComments~ProfileOverview~ProfilePrivate~StandalonePostPag~"],"FEED_PAGE":["chunkCSS/Governance~Reddit~Subreddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-compo~","chunkCSS/CollectionCommentsPage~CommentsPage~ModerationPages~PostCreation~ProfileComments~ProfileOverview~","chunkCSS/CollectionCommentsPage~CommentsPage~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~Frontpage~GovernanceReleaseNotesModal~ModListing~","chunkCSS/CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~PostCreation~ProfileComments~Profi~","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~GovernanceReleaseNotesModal~ModerationPages~","chunkCSS/CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~PostCreation~~","chunkCSS/Governance~ModListing~Reddit"],"COMMENT_PAGE":["chunkCSS/Governance~Reddit~Subreddit","chunkCSS/CommentsPage"]}],"BY_QUERIES_RULES":["\\\\@font-face( |)\\\\{.[^\\\\}]*\\\\}","\\\\.icon\\\\-(upvote|downvote|comment|award|share|save)\\\\:before( |)\\\\{.[^}]*\\\\}","\\\\.icon\\\\:before( |)\\\\{.[^}]*\\\\}","\\\\.icon\\\\..[^{]*( |)\\\\{.[^}]*\\\\}"],"BY_CLASS_NAME":[{"CLASS_NAME_CHILD":".icon-save","STYLES":"{-ms-flex-align: center;align-items: center;display: -ms-flexbox;display: flex;-ms-flex-direction: row;flex-direction: row;text-align: left;width: 100%}","DEEP_LEVEL":"2","INDEX_OF_CLASS":0},{"CLASS_NAME_CHILD":".icon-save","STYLES":"{margin-right: 6px;}","DEEP_LEVEL":"1","INDEX_OF_CLASS":0}],"BY_TAG_NAME":[{"TAG_NAME":"link","ATTRIBUTE_NAME":"href","ATTRIBUTE_REGEX_VALUE":"^https?\\\\://.*\\\\.css$"}]},"IS_ACTIVE_GET_SLIDES_SRC":true,"CAROUSEL_BUTTON_NEXT":"a[title=\\"Next\\"]","CAROUSEL_BUTTON_PREVIUOS":"a:not([title=\\"Next\\"])","PROGRESS_SELECTOR":"img[src=\\"https://www.redditstatic.com/desktop2x/img/loading.gif\\"]","QUERY_CHECK_READY_AD_CELLS":"a[data-testid=\\"post_author_link\\"], div[data-before-content], div[data-adclicklocation=\\"top_bar\\"] img, faceplate-img","TAGS_FOR_LOADING_CHECK":"img, video, img[alt=\\"User avatar\\"], div[data-testid=\\"comments-page-ad-thumbnail\\"] a[data-testid] > div[data-adclicklocation=\\"media\\"][role=\\"img\\"], shreddit-img","TAGS_FOR_TEXT_AD_CHECK":"div[data-click-id=\\"text\\"]","TAGS_FOR_VIDEO_CHECK":"video","VIDEO_TRAFFIC_DETECTOR":{"VIDEO_ID_REGEX":"(?<=v\\\\.redd\\\\.it/)(.*)(?=/(DASHPlaylist|HLSPlaylist).*)","VIDEO_MPD_URL_CHECK":"^https?\\\\://v\\\\.redd\\\\.it/.*/(DASHPlaylist\\\\.mpd|HLSPlaylist\\\\.m3u8)\\\\?","QUERY_VIDEO_DATA_FROM_CONTENT":"shreddit-player[src]"}},"pinterestConfig":{"MAIN_CONTAINER_QUERY":"div.appContent > div > div.mainContainer, div[data-test-id$=\\"feed\\"] div[role=\\"list\\"]","PROMOTED_ALIASES":["","Bevorder deur","Dipromosikan oleh","Inzerent","Annonce fra","Anzeige von","Promoted by","Promocionado por","Sponsorise par","Promovira","Sponsorizzato da","Reklmoz","Gesponsord door","Promotert av","Promowane przez","Patrocinado por","Publicidade de","Promovat de","Propaguje","Mainostaja","Annons frn","Na-promote ni","Qung co bi","Sponsor"," "," ",""," -","  ","  ","  ","   ","","","","",""],"FEED_PAGE":{"CONTAINER_QUERY":"div[data-test-id=\\"homefeed-feed\\"] > div[id=\\"homefeedGridFadeInTransitionContainer\\"] div[role=\\"list\\"]","PROMOTED_PINS_QUERY":"div[data-test-id] a[href] span:not([class]), div[data-test-id=\'pointer-events-wrapper\'] a[href] div[title], div[data-test-id=\'pointer-events-wrapper\'] a[href] div > style, div[data-test-id=\'pointer-events-wrapper\'] a[href] > div > div:nth-child(2) div:not([style]) div[style] > div","PROMOTED_PINS_QUERY_BY_REGEXP":[["match","\\"([\\\\sa-zA-Z]{1,20}| )\\""],["join",","],["replace","\\"|,|/"]],"IMG_SPACE_PERCENTAGE":7,"TAGS_FOR_LOADING_CHECK":"a img, a video, a:not([aria-label]) img[alt=\\"\\"]","TAGS_FOR_VIDEO_CHECK":"a[href] div[data-test-id=\\"pinrep-video\\"], a[href] video","ADVERTISER_NAME_QUERY":"a > div > div > div ~ span","ADVERTISER_PINTEREST_URL_QUERY":"a[class]","TARGET_URL_QUERY":"a[href][aria-label]","TITLE_TEXT_QUERY":"div[data-test-id=\\"pointer-events-wrapper\\"] div[data-test-id=\\"otpp\\"] > div[data-test-id] > a[href][aria-label]","UNIQUE_ATTRIBUTE":"data-test-pin-id","STYLE_FIXES":[{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"svg[role=\\"img\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"] > div[aria-hidden] > div","NEW_RULES":"height: ${__HEIGHT__}px;"}]},"SEARCH_PAGE":{"CONTAINER_QUERY":"div[data-test-id=\\"search-feed\\"] > div[data-test-id=\\"masonry\\"] > div:not([class]) > div:not([class]) > div[class]","PROMOTED_PINS_QUERY":"div[data-test-id] a[href] span:not([class]), div[data-test-id=\'pointer-events-wrapper\'] a[href] div[title], div[data-test-id=\'pointer-events-wrapper\'] a[href] div > style, div[data-test-id=\'pointer-events-wrapper\'] a[href] > div > div:nth-child(2) div:not([style]) div[style] > div","PROMOTED_PINS_QUERY_BY_REGEXP":[["match","\\"([\\\\sa-zA-Z]{1,20}| )\\""],["join",","],["replace","\\"|,|/"]],"IMG_SPACE_PERCENTAGE":7,"TAGS_FOR_LOADING_CHECK":"a img, a video, a:not([aria-label]) img[alt=\\"\\"]","TAGS_FOR_VIDEO_CHECK":"a[href] div[data-test-id=\\"pinrep-video\\"], a[href] video","ADVERTISER_NAME_QUERY":"a > div > div > div ~ span","ADVERTISER_PINTEREST_URL_QUERY":"a[class]","TARGET_URL_QUERY":"a[href][aria-label]","TITLE_TEXT_QUERY":"div[data-test-id=\\"pointer-events-wrapper\\"] div[data-test-id=\\"otpp\\"] > div[data-test-id] > a[href][aria-label]","UNIQUE_ATTRIBUTE":"data-test-pin-id","STYLE_FIXES":[{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"svg[role=\\"img\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"] > div[aria-hidden] > div","NEW_RULES":"height: ${__HEIGHT__}px;"}]},"PIN_PAGE":{"CONTAINER_QUERY":"div[data-test-id=\\"closeup-container\\"] div[data-test-id=\\"relatedPins\\"] div:not([class]) > div > div[role=\\"list\\"]","PROMOTED_PINS_QUERY":"div[data-test-id] a[href] span:not([class]), div[data-test-id=\'pointer-events-wrapper\'] a[href] div[title], div[data-test-id=\'pointer-events-wrapper\'] a[href] div > style, div[data-test-id=\'pointer-events-wrapper\'] a[href] > div > div:nth-child(2) div:not([style]) div[style] > div","PROMOTED_PINS_QUERY_BY_REGEXP":[["match","\\"([\\\\sa-zA-Z]{1,20}| )\\""],["join",","],["replace","\\"|,|/"]],"IMG_SPACE_PERCENTAGE":7,"TAGS_FOR_LOADING_CHECK":"a img, a video, a:not([aria-label]) img[alt=\\"\\"]","TAGS_FOR_VIDEO_CHECK":"a[href] div[data-test-id=\\"pinrep-video\\"], a[href] video","ADVERTISER_NAME_QUERY":"a > div > div > div ~ span","ADVERTISER_PINTEREST_URL_QUERY":"a[class]","TARGET_URL_QUERY":"a[href][aria-label]","TITLE_TEXT_QUERY":"div[data-test-id=\\"pointer-events-wrapper\\"] div[data-test-id=\\"otpp\\"] > div[data-test-id] > a[href][aria-label]","UNIQUE_ATTRIBUTE":"data-test-pin-id","STYLE_FIXES":[{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"svg[role=\\"img\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"] > div[aria-hidden] > div","NEW_RULES":"height: ${__HEIGHT__}px;"}]},"ADDITIONAL_LOADER_CONFIG":{"PIN_PAGE_URL_PATTERN":"https://www.pinterest.com/pin/[PIN_ID]/","TITLE_QUERY":"<h1.[^>]*>(.[^<]*)</h1>","DESCRIPTION_QUERY":"<span>(.[^<]*)</span>","GET_SCRIPT_WITH_DATA_QUERY":"<script.[^id]*id=\\"__PWS_DATA__\\".[^>]*>(.[^<]*)","CHECK_ON_PRIORITY_ADV_URL":"https?:\\\\/\\\\/(www\\\\.|)pinterest\\\\.","GET_USERNAME_QUERY":"https?:\\\\/\\\\/(www\\\\.|)pinterest\\\\.(com|ca|at|ch|cl|co\\\\.kr|com\\\\.au|com\\\\.mx|co\\\\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/(.[^/]*)","PATH_TO_ADVERTISER_URL":[["props","initialReduxState","pins","[PIN_ID]","pinner","domain_url"],["props","initialReduxState","pins","[PIN_ID]","domain"]],"PATH_TO_ADVERTISER_ID":[["props","initialReduxState","pins","[PIN_ID]","pinner","id"]]},"VIDEO_TRAFFIC_CONFIG":{"PROPERTIES_FOR_VIDEO_DATA":[{"NAME":"detectionTime","PATH_NAME:":null},{"NAME":"videoUrl","PATH_NAME":"PATH_TO_VIDEO_URL"},{"NAME":"videoId","PATH_NAME":"VIDEO_ID_REGEXP"},{"NAME":"previewImageUrl","PATH_NAME":"PATH_TO_THUMBNAIL"},{"NAME":"title","PATH_NAME":"PATH_TO_TITLE"},{"NAME":"promoter","PATH_NAME":"PATH_TO_ADVERTISER_NAME"}],"PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"www\\\\.pinterest\\\\.(com|ca|at|ch|cl|co\\\\.kr|com\\\\.au|com\\\\.mx|co\\\\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)\\\\/resource\\\\/((UserHomefeedResource)|(RelatedModulesResource))\\\\/get\\\\/\\\\?source_url=","PATH_TO_PINS":["resource_response","data"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_URL":["videos","video_list","V_HLSV4","url"],"PATH_TO_THUMBNAIL":["videos","video_list","V_HLSV4","thumbnail"],"PATH_TO_TITLE":["title"],"PATH_TO_ADVERTISER_NAME":["promoter","full_name"],"VIDEO_ID_REGEXP":"\\\\/(.[^/.]*)\\\\..{2,5}$"},"CHECK_PROPERTIES":["is_promoted","videos"]},{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"www\\\\.pinterest\\\\.(com|ca|at|ch|cl|co\\\\.kr|com\\\\.au|com\\\\.mx|co\\\\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)\\\\/resource\\\\/BaseSearchResource\\\\/get\\\\/(\\\\?source_url=)?","PATH_TO_PINS":["resource_response","data","results"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_URL":["videos","video_list","V_HLSV4","url"],"PATH_TO_THUMBNAIL":["videos","video_list","V_HLSV4","thumbnail"],"PATH_TO_TITLE":["title"],"PATH_TO_ADVERTISER_NAME":["promoter","full_name"],"VIDEO_ID_REGEXP":"\\\\/(.[^/.]*)\\\\..{2,5}$"},"CHECK_PROPERTIES":["is_promoted","videos"]},{"TYPE":"script","USE":true,"QUERY":"script#__PWS_DATA__","PATH_TO_PINS":["props","initialReduxState","pins"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_URL":["videos","video_list","V_HLSV4","url"],"PATH_TO_THUMBNAIL":["videos","video_list","V_HLSV4","thumbnail"],"PATH_TO_TITLE":["title"],"PATH_TO_ADVERTISER_NAME":["promoter","full_name"],"VIDEO_ID_REGEXP":"\\\\/(.[^/.]*)\\\\..{2,5}$"},"CHECK_PROPERTIES":["is_promoted","videos"]}]}},"instagramConfig":{"PROMOTED_ALIASES":["Sponsored","Geborg","Sponzorovno","Sponsoreret","Anzeige","","Publicidad","Sponsoroitu","Sponsoris","Bersponsor","Sponsorizzato","","","Ditaja","Sponset","Gesponsord","Sponsorowane","Patrocinado","","Sponsrad","","May Sponsor","Sponsorlu","","","","","","Sponzorirano","Hirdets",""," ","","","","    ","Sponzorovan",""," ","c ti tr","","Commandit","Sponsorizat","","Sponsorizat"],"FEED":{"CONTAINER_QUERIES":["main div:not([class]):not([style]) > div[style]:not([class]):not([role])"],"POSTS_QUERY":"article","CONTAINER_MIN_HEIGHT":1000,"IMG_SPACE_PERCENTAGE":7,"PROMOTED_QUERY":"span > div > span, svg > use","ABOUT_PAGE_URL_QUERY":"canvas ~ a, span > span div > a","ADVERTISER_NAME_QUERY":"span a[href] div > span, div > div:not([class]) > span[dir=\\"auto\\"]","TARGET_URL_QUERY":"div:not([class]) div[class] ~ a[target=\\"_blank\\"]","TIMEOUT_OPTIONS":{"MAX_TIME_FOR_DETECT_TRIES":40000,"MIN_TIME_BETWEEN_DETECTS_START":500,"STANDART_INTERVAL_DETECTS":700,"INSTERVAL_MUTATION_CALLBACK":300}},"STORIES":{"STORY_QUERY":"div:not([class])[style*=\\"height: 100vh\\"] > section > div:nth-child(1) > div > div[style*=\\"scale(1)\\"] > section","IMG_SPACE_PERCENTAGE":7,"PROMOTED_QUERY":"header a ~ div > span, header div > span, svg > use","ADVERTISER_NAME_QUERY":"a ~ div a, header div:not(class) ~ div[class] > div[class] > div:not(class) > a","TARGET_URL_QUERY":"div:not([class]) > div > a[target=\\"_blank\\"]","ABOUT_PAGE_URL_QUERY":"a ~ div a, header div:not(class) > a","TIMEOUT_OPTIONS":{"MAX_TIME_FOR_DETECT_TRIES":40000,"MIN_TIME_BETWEEN_DETECTS_START":500,"STANDART_INTERVAL_DETECTS":700,"INSTERVAL_MUTATION_CALLBACK":300}},"TAGS_FOR_LOADING_CHECK":"img, video","TAGS_FOR_VIDEO_CHECK":"video","TRAFFIC_LISTENER_CONFIG":{"PROPERTIES_FOR_VIDEO_DATA":[{"NAME":"detectionTime","PATH_NAME:":null,"IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"videoSrc","PATH_NAME":"PATH_TO_VIDEO_SRC","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"itemCode","PATH_NAME":"PATH_TO_CODE","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"previewImageUrl","PATH_NAME":"PATH_TO_THUMBNAIL","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"advertiserName","PATH_NAME":"PATH_TO_ADVERTISER_NAME","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"fullText","PATH_NAME":"PATH_TO_FULL_TEXT","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"targetUrl","PATH_NAME":"PATH_TO_TARGET_URL","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"carouselSlidesSources","PATH_NAME":"PATH_TO_SLIDES","IS_NECESSARY":false,"DEFAULT_VALUE":[]}],"PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"www\\\\.instagram\\\\.com\\\\/api\\\\/(QUERY_AD_TYPE_0)|(QUERY_AD_TYPE_1)","MATCH_HEADERS":{"x-fb-friendly-name":["PolarisFeedTimelineRootQuery","PolarisFeedRootPaginationQuery_subscribe","PolarisFeedRootPaginationCachedQuery_subscribe","PolarisFeedTimelineRootV2Query"]},"AD_TYPES_WAYS_TO_PROPERTIES":[{"AD_TYPE":"feed","QUERY_URL_PATH":"graphql","PATH_TO_POSTS":["data","xdt_api__v1__feed__timeline__connection","edges"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["node","ad","items",0,"video_versions",0,"url"],"PATH_TO_THUMBNAIL":["node","ad","items",0,"image_versions2","candidates",0,"url"],"PATH_TO_CODE":["node","ad","items",0,"code"],"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"],"PATH_TO_SLIDES":["node","ad","items","*","image_versions2","candidates",0,"url"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"video_versions"],["node","ad","items","*"]],"RULES_TO_GET_FULL_TEXT":{"PATHS_GET_PROPERTIES":{"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"caption"]]}},{"AD_TYPE":"story","QUERY_URL_PATH":"v1/injected_story_units","PATH_TO_POSTS":["ad_media_items","*","items"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["video_versions",0,"url"],"PATH_TO_THUMBNAIL":["image_versions2","candidates",0,"url"],"PATH_TO_CODE":["code"],"PATH_TO_ADVERTISER_NAME":["user","username"],"PATH_TO_FULL_TEXT":["caption","text"],"PATH_TO_TARGET_URL":["link"]},"PATH_CHECK_PROPERTIES":[["image_versions2"]]}]},{"TYPE":"script","USE":true,"REGEXP_FILTER":"xdt_api__v1__feed__timeline__connection","AD_TYPE":"feed","PATH_TO_POSTS":["require",0,3,0,"__bbox","require",0,3,1,"__bbox","result","data","xdt_api__v1__feed__timeline__connection","edges"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["node","ad","items",0,"video_versions",0,"url"],"PATH_TO_THUMBNAIL":["node","ad","items",0,"image_versions2","candidates",0,"url"],"PATH_TO_CODE":["node","ad","items",0,"code"],"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"],"PATH_TO_SLIDES":["node","ad","items","*","image_versions2","candidates",0,"url"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"video_versions"],["node","ad","items","*"]],"RULES_TO_GET_FULL_TEXT":{"PATHS_GET_PROPERTIES":{"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"caption"]]}}]},"LOAD_USER_DATA":{"ENABLED":true,"HEADERS_VALUES_QUERIES":[["X-Ig-App-Id","X-IG-App-ID\\":\\"(.[^\\"]*)\\""]],"PATH_TO_ADERTISER_URL":["data","user","external_url"]}},"bannerAdsConfig":{"QUERIES":{"FULL_IMG_COLLECTION":"A[href]:not([bis_size]) > img[src]:not([bis_size])","ON_EVENT_IMG_COLLECTION":"img[onclick][onload][src]:not([bis_size])"}},"HTML5AdsConfig":{"QUERIES":{"IFRAMES_COLLECTION":"iframe[src]:not([bis_size]):not([allowfullscreen]), iframe[srcdoc]:not([bis_size]):not([allowfullscreen]), iframe[aria-label=\\"Advertisement\\"]:not([bis_size]):not([allowfullscreen]), frame[src]:not([bis_size]):not([allowfullscreen]), frame[srcdoc]:not([bis_size]):not([allowfullscreen]), iframe[data-kiosked-adframe]:not([bis_size]):not([allowfullscreen])","ACCEPTABLE_NODES_IN_IFRAME":"a[href], iframe, frame","UNACCEPTABLE_NODES_IN_IFRAME":"textarea, input[type=\\"email\\"]"}},"skinAdsConfig":{"QUERIES":{"FULL_HREF_COLLECTION":"A[href]:not([bis_skin_checked]):not([href=\\"#\\"]):not([href=\\"\\"]):not([href=\\"/\\"])","FULL_DIV_COLLECTION":"div:not([bis_skin_checked])"}},"adBlockInspectorConfig":{"active":true,"needsActiveAgentIntervalSec":50,"agentActivationTimeoutSec":5,"adRemovingTimeoutSec":2,"detectionClassName":"adsbox ads ad adsbox doubleclick ad-placement carbon-ads"},"useSensitiveDataFilter":true,"html5TargetUrlDetectionConfig":{"WINDOW_TARGET_URL_PROPERTY_KEY_WORDS":["targeturl","clickurl","clicktag","destinationurl","trackingurl","finalurl","redirecturl"],"WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL":10,"TARGET_URL_CLICK_ELEMENTS_SELECTOR":"*[onclick]:not(a), div, button, gwd-taparea, iframe#x2_ad","WINDOW_PROPERTY_NAMES":["clickTag","clickTAG","PARAMS_B64","adData","_bannerflow"]}}'},2420:t=>{var e=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(t,e){if(!i[t]){i[t]={};for(var n=0;n<t.length;n++)i[t][t.charAt(n)]=n}return i[t][e]}var r={compressToBase64:function(t){if(null==t)return"";var n=r._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:r._decompress(t.length,32,(function(n){return a(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":r._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:r._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=r.compress(t),n=new Uint8Array(2*e.length),i=0,a=e.length;i<a;i++){var o=e.charCodeAt(i);n[2*i]=o>>>8,n[2*i+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return r.decompress(e);for(var n=new Array(e.length/2),i=0,a=n.length;i<a;i++)n[i]=256*e[2*i]+e[2*i+1];var o=[];return n.forEach((function(e){o.push(t(e))})),r.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":r._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),r._decompress(t.length,32,(function(e){return a(n,t.charAt(e))})))},compress:function(e){return r._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var i,a,r,o={},s={},u="",c="",d="",l=2,h=3,f=2,E=[],_=0,T=0;for(r=0;r<t.length;r+=1)if(u=t.charAt(r),Object.prototype.hasOwnProperty.call(o,u)||(o[u]=h++,s[u]=!0),c=d+u,Object.prototype.hasOwnProperty.call(o,c))d=c;else{if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(i=0;i<f;i++)_<<=1,T==e-1?(T=0,E.push(n(_)),_=0):T++;for(a=d.charCodeAt(0),i=0;i<8;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1}else{for(a=1,i=0;i<f;i++)_=_<<1|a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a=0;for(a=d.charCodeAt(0),i=0;i<16;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1}0==--l&&(l=Math.pow(2,f),f++),delete s[d]}else for(a=o[d],i=0;i<f;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1;0==--l&&(l=Math.pow(2,f),f++),o[c]=h++,d=String(u)}if(""!==d){if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(i=0;i<f;i++)_<<=1,T==e-1?(T=0,E.push(n(_)),_=0):T++;for(a=d.charCodeAt(0),i=0;i<8;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1}else{for(a=1,i=0;i<f;i++)_=_<<1|a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a=0;for(a=d.charCodeAt(0),i=0;i<16;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1}0==--l&&(l=Math.pow(2,f),f++),delete s[d]}else for(a=o[d],i=0;i<f;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1;0==--l&&(l=Math.pow(2,f),f++)}for(a=2,i=0;i<f;i++)_=_<<1|1&a,T==e-1?(T=0,E.push(n(_)),_=0):T++,a>>=1;for(;;){if(_<<=1,T==e-1){E.push(n(_));break}T++}return E.join("")},decompress:function(t){return null==t?"":""==t?null:r._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,i){var a,r,o,s,u,c,d,l=[],h=4,f=4,E=3,_="",T=[],m={val:i(0),position:n,index:1};for(a=0;a<3;a+=1)l[a]=a;for(o=0,u=Math.pow(2,2),c=1;c!=u;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=i(m.index++)),o|=(s>0?1:0)*c,c<<=1;switch(o){case 0:for(o=0,u=Math.pow(2,8),c=1;c!=u;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=i(m.index++)),o|=(s>0?1:0)*c,c<<=1;d=t(o);break;case 1:for(o=0,u=Math.pow(2,16),c=1;c!=u;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=i(m.index++)),o|=(s>0?1:0)*c,c<<=1;d=t(o);break;case 2:return""}for(l[3]=d,r=d,T.push(d);;){if(m.index>e)return"";for(o=0,u=Math.pow(2,E),c=1;c!=u;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=i(m.index++)),o|=(s>0?1:0)*c,c<<=1;switch(d=o){case 0:for(o=0,u=Math.pow(2,8),c=1;c!=u;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=i(m.index++)),o|=(s>0?1:0)*c,c<<=1;l[f++]=t(o),d=f-1,h--;break;case 1:for(o=0,u=Math.pow(2,16),c=1;c!=u;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=i(m.index++)),o|=(s>0?1:0)*c,c<<=1;l[f++]=t(o),d=f-1,h--;break;case 2:return T.join("")}if(0==h&&(h=Math.pow(2,E),E++),l[d])_=l[d];else{if(d!==f)return null;_=r+r.charAt(0)}T.push(_),l[f++]=r+_.charAt(0),r=_,0==--h&&(h=Math.pow(2,E),E++)}}};return r}();t.exports=e},630:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function o(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};e.__esModule=!0;var a="*****",r="SensitiveDataFilter:",o=function(){function t(t){if("string"!=typeof t.host)throw"Server host is undefined";this.host=t.host,this.logging=!!t.logging}return t.prototype.init=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.updateRules()];case 1:return t.sent(),[2]}}))}))},t.prototype.transformUrl=function(t){var e=this;if(!t||!this.rules||!this.rules.filters)return t;var n=new URL(t),i=n.host;n.password.length&&(n.password=a),n.username.length&&(n.username=a),this.rules.filters.forEach((function(t){i.match(t.domain)&&(n.pathname=e.processFilterRules(t.rules,n.pathname),n.search=e.processFilterRules(t.rules,n.search),n.hash=e.processFilterRules(t.rules,n.hash))}));var o=n.toString();return this.logging&&this.log(r+" Transformed url: "+t+" -> "+o),o},t.prototype.transformTitle=function(t,e){var n=this;if(!this.rules||!this.rules.titles)return e;var i=this.rules.titles,o=e;return i.forEach((function(e){t.match(e.domain)&&e.rules.forEach((function(t){t.value&&(o=n.applyRegexp(t.value,o,a))}))})),this.logging&&this.log(r+" Transformed title: "+e+" -> "+o),o},t.prototype.updateRules=function(){return n(this,void 0,void 0,(function(){var t,e,n,a;return i(this,(function(i){switch(i.label){case 0:t=this.host+"/api/privacy/data/rules/exclusions",i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(t,{headers:{"Content-type":"application/json;charset=utf-8"}})];case 2:return e=i.sent(),n=this,[4,e.json()];case 3:return n.rules=i.sent(),[3,5];case 4:throw a=i.sent(),new Error(a);case 5:return[2]}}))}))},t.prototype.processFilterRules=function(t,e){var n=this,i=e;return t.forEach((function(t){if(t.value&&t.type)switch(t.type){case"parameter":i=n.applyRegexp("([?&]"+t.value+"=)([^&]+)",i,"$1*****");break;case"path":i=n.applyPathFilter(t.value,i,a);break;default:n.logging&&n.log(r+" Unknown rule type: "+t.type)}})),i},t.prototype.applyPathFilter=function(t,e,n){var i,a=new RegExp(t,"i"),r=e.match(a);if(!r)return e;var o=r[0],s=r[1];return i=n+s+n,0===o.indexOf(s)&&(i=s+n),s&&s.length&&o.indexOf(s)===o.length-s.length&&(i=n+s),e.replace(o,i)},t.prototype.applyRegexp=function(t,e,n){var i=new RegExp(t,"ig");return e.replace(i,n)},t.prototype.log=function(t){},t}();e.default=o},7498:()=>{}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}(()=>{n(7588);var t=new(n(411));globalThis.ActivatePanelOS=function(){t.UpdateActiveStatus(!0)},globalThis.DeactivatePanelOS=function(){t.UpdateActiveStatus(!1)},globalThis.UpdatePanelOSConfig=function(){t.UpdateConfig()},globalThis.GetAdBlockerStatus=function(e,n){t.GetAdBlockerStatus(e,n)},globalThis.GetAdBlockerCounters=function(e,n,i){t.GetAdBlockerCounters(e,n,i)},globalThis.EnableAdBlocker=function(e,n,i){t.EnableAdBlocker(e,n,i)},globalThis.DisableAdBlocker=function(e,n,i){t.DisableAdBlocker(e,n,i)},globalThis.GetExcludeList=function(e,n,i){t.GetExcludeList(e,n,i)},globalThis.AddIntoExcludeList=function(e,n,i,a){t.AddIntoExcludeList(e,n,i,a)},globalThis.RemoveFromExcludeList=function(e,n,i,a){t.RemoveFromExcludeList(e,n,i,a)},globalThis.HasItemInExcludeList=function(e,n,i,a){t.HasItemInExcludeList(e,n,i,a)},globalThis.AddCurrentDomainIntoExcludeList=function(e,n){t.AddCurrentDomainIntoExcludeList(e,n)},globalThis.AddCurrentPageIntoExcludeList=function(e,n){t.AddCurrentPageIntoExcludeList(e,n)},globalThis.GetCurrentDomain=function(e,n){t.GetCurrentDomain(e,n)},globalThis.GetCurrentPageUrl=function(e,n){t.GetCurrentPageUrl(e,n)},globalThis.EnableDataCollection=function(e,n){t.EnableDataCollection(e,n)},globalThis.DisableDataCollection=function(e,n){t.DisableDataCollection(e,n)},globalThis.GetDataCollectionStatus=function(e,n){t.GetDataCollectionStatus(e,n)},t.Init()})()})();