/*! For license information please see content.js.LICENSE.txt */
(()=>{var e={97255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AntiMaleWareMessages=void 0,function(e){e.enable="AntiMaleWare.Enable",e.disable="AntiMaleWare.Disable",e.isEnabled="AntiMaleWare.isEnabled",e.isConsentAgreed="AntiMaleWare.IsConsentAgreed",e.setConsent="AntiMaleWare.SetConsent",e.showNotification="AntiMaleWare.ShowNotification",e.shownNotification="AntiMaleWare.ShownNotification",e.closeNotification="AntiMaleWare.CloseNotification",e.closedNotification="AntiMaleWare.ClosedNotification",e.muteNotification="AntiMaleWare.MuteNotification",e.getMeOutFromSite="AntiMaleWare.GetMeOutFromSite"}(t.AntiMaleWareMessages||(t.AntiMaleWareMessages={}))},56012:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.UiAntiMareWareContentModule=void 0;const r=n(69877),o=n(71127),a=n(73352),s=n(79784),c=n(69167);let u=class{name(){return"AntiMareWareContentModule"}brothers(){return[r.BrotherName.Luigi]}listeners(){return[o.ShowNotificationListener,a.CloseNotificationListener]}injections(){return[{key:c.UiAntiMareWareContentTypes.iframeManager,use:s.IframeManager}]}};u=i([(0,r.injectable)()],u),t.UiAntiMareWareContentModule=u},69167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UiAntiMareWareContentTypes=void 0,function(e){e.iframeManager="AntiMareWareContent.IframeManager"}(t.UiAntiMareWareContentTypes||(t.UiAntiMareWareContentTypes={}))},46844:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(79784),t),r(n(56012),t),r(n(69167),t)},73352:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const a=n(69877),s=n(97255),c=n(79784),u=n(69167);let d=class{constructor(e){this.iframeManager=e}on(){return s.AntiMaleWareMessages.closeNotification}main(){return!1}async handle(){this.iframeManager.remove()}};d=i([(0,a.injectable)(),o(0,(0,a.inject)(u.UiAntiMareWareContentTypes.iframeManager)),r("design:paramtypes",[c.IframeManager])],d),t.CloseNotificationListener=d},71127:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const a=n(69877),s=n(97255),c=n(79784),u=n(69167);let d=class{constructor(e){this.iframeManager=e}on(){return s.AntiMaleWareMessages.showNotification}main(){return!1}async handle(e){await this.iframeManager.inject(e.message.payload.url)}};d=i([(0,a.injectable)(),o(0,(0,a.inject)(u.UiAntiMareWareContentTypes.iframeManager)),r("design:paramtypes",[c.IframeManager])],d),t.ShowNotificationListener=d},79784:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const a=n(69877),s=n(18126),c=n(97255);let u=class{constructor(e,t,n){this.marioLink=e,this.options=t,this.logger=n}async inject(e){if(this.logger.info(`AntiMareWareLuigiModule: inject(url=${e})`),null!=this.iframe)return void this.logger.info("AntiMareWareLuigiModule: an iframe is already exist");const t=document.createElement("iframe");this.iframe=t;const n=`${this.options.iframe.url}?url=${decodeURIComponent(e)}`;t.src=chrome.runtime.getURL(n),t.id="safesearch-notification-iframe";const i=this.options.iframe.style;Object.keys(i).forEach((e=>{t.style instanceof CSSStyleDeclaration&&(t.style[e]=i[e])})),document.body.prepend(t);const r={type:c.AntiMaleWareMessages.shownNotification};this.marioLink.sendToMario(r)}remove(){if(this.logger.info("AntiMareWareLuigiModule: remove"),null==this.iframe)return void this.logger.info("AntiMareWareLuigiModule: could not remove due an iframe is not exist");this.iframe.remove(),this.iframe=null;const e={type:c.AntiMaleWareMessages.closedNotification};this.marioLink.sendToMario(e)}};u=i([(0,a.injectable)(),o(0,(0,a.inject)(s.LuigiLinkTypes.link)),o(1,(0,a.inject)("AntiMareWareContentModule.Options")),o(2,(0,a.inject)(a.BrotherTypes.logger)),r("design:paramtypes",[Object,Object,Object])],u),t.IframeManager=u},71661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrotherException=void 0;class n extends Error{constructor(e){super(e),this.name="BrotherException"}}t.BrotherException=n},8686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brother=void 0;const i=n(44393),r=n(86222),o=n(71661),a=n(60515),s=n(48962),c=n(58842);t.Brother=class{constructor(e,t,n,r){if(this.name=e,this.config=t,this._di=n,this.injections=r,this.registry=new Map,this.working=!1,this.wokeUp=!1,0===e.length)throw new o.BrotherException("a brother name cannot be empty");if(0===t.env.length)throw new o.BrotherException("env name cannot be empty");this.di().bindConstantValue(i.BrotherTypes.env,t.env),this.di().bindConstantValue(i.BrotherTypes.brother,this),this.di().bindConstantValue(i.BrotherTypes.name,e);const a=this.bindAppName(t,e);if(void 0!==t.browser&&0===t.browser.length)throw new o.BrotherException("Browser cannot be empty string");const s=t.browser??i.BrowserName.Chromium;this.di().bindConstantValue(i.BrotherTypes.browser,s),this.bindLogger(t),r.forEach((e=>{this.inject(e)})),this.logger().info(`Brother: name "${e}"`),this.logger().info(`Brother: app name "${a}"`),this.logger().info(`Brother: env "${t.env}"`),this.logger().info(`Brother: browser "${s}"`),y(r).forEach((e=>{this.di().get(e)}))}async wakeUp(){if(this.working)throw new o.BrotherException("Brother is already working");if(this.wokeUp)throw new o.BrotherException("Brother is already woke up");if(this.logger().info("Brother: Waking up"),this.wokeUp=!0,null==this.config.modules)return this.logger().info("Brother: No modules"),void this.logger().info("Brother: Woke up");this.config.modules.forEach((e=>{const t=this.di().resolve(e.use);if(this.logger().info(`Brother: Module ${t.name()}`),!t.brothers().includes(this.name))throw new o.BrotherException(`Incorrect usage a module "${t.name()}" is created for "${t.brothers().join(",")}" but tried in "${this.name}"`);const n={name:t.name(),listeners:[],keys:[]};if(this.di().has(t.name()))throw new o.BrotherException(`Module "${t.name()}" is already registered`);this.di().bindConstantValue(t.name(),t),this.bindModuleOptions(n,e.options??{}),this.registry.set(n.name,n)})),this.registry.forEach((e=>{const t=this.di().get(e.name);void 0!==t.dependencies&&t.dependencies().filter((e=>"module"===e.type)).forEach((e=>{if(!this.di().has(e.key))throw new o.BrotherException(`Module "${t.name()}" requires a missed module "${e.key}"`)}))}));let e=[];this.registry.forEach((t=>{this.logger().info(`Module: ${t.name}`);const n=this.di().get(t.name);void 0!==n.injections&&(this.validateModuleInjections(n),n.injections().forEach((e=>{this.inject(e)})),t.keys=n.injections().map((e=>e.key)),e=e.concat(y(n.injections())))})),this.registry.forEach((e=>{const t=this.di().get(e.name);void 0!==t.dependencies&&t.dependencies().forEach((e=>{if(!this.di().has(e.key))throw new o.BrotherException(`Module "${t.name()}" requires a missed dependency "${e.key}"`)}))})),e.forEach((e=>{this.di().get(e)}));const t=_(this.name);let n=!1;t?(a.SessionStorageAdapter.adapt(),n=await g("storage"),await async function(e){if(!e)return;const t=async()=>{try{await chrome.storage.session.set({[u]:d.BEGIN})}catch{f=!0,l=d.BEGIN}},n=async()=>{try{await chrome.storage.session.set({[u]:d.HANDLED})}catch{f=!0,l=d.HANDLED}},i={[d.INIT]:t,[d.BEGIN]:n},r=await p();await(i[r]?.())}(n)):this.logger().info('Brother: a hook "onceSessionBegin" is not supported'),t&&!n&&this.logger().warn('Brother: a hook "onceSessionBegin" won\'t work due en extension does not have a "storage" permission');const i=[],r=[];for(const{name:e}of Array.from(this.registry.values())){const o=this.di().get(e);if(void 0===o.onWokeUp&&void 0===o.onceSessionBegin)continue;const a=this.di().get(`${e}.Options`),s={di:this.di(),options:a};null!=o.onceSessionBegin&&(t?t&&!n?this.logger().warn(`Brother: a hook "onceSessionBegin" can not be handled in module "${o.name()}"`):await h()&&i.push(o.onceSessionBegin(s)):this.logger().warn(`Brother: can not handle a hook "onceSessionBegin" in a module "${o.name()}"`)),null!=o.onWokeUp&&r.push(o.onWokeUp(s))}const s=(e,t)=>{"rejected"===e.status&&this.logger().error(`Brother: a hook "${t}" thrown en error`,e.reason)};(await Promise.allSettled(i)).forEach((e=>{s(e,"onceSessionBegin")}));(await Promise.allSettled(r)).forEach((e=>{s(e,"onWokeUp")})),this.registry.forEach((e=>{const t=this.di().get(e.name);void 0!==t.listeners&&(e.listeners=t.listeners().map((e=>this.dispatcher().onWithClass(e))))})),this.logger().info("Brother: Woke up")}async work(){if(this.working)throw new o.BrotherException("Brother is already working");this.wokeUp||await this.wakeUp(),this.working=!0;const e={sender:r.SenderList.Brother,message:{type:s.BrotherMessageList.BrotherWorking,force:!0}};await this.dispatcher().sendBox(e);const t=[];for(const{name:e}of Array.from(this.registry.values())){const n=this.di().get(e);if(void 0===n.onWorking)continue;const i=this.di().get(`${e}.Options`),r={di:this.di(),options:i};t.push(n.onWorking(r))}await Promise.all(t)}env(){return this.config.env}di(){return this._di}async registerModule(e,t){const n=t??{};if(!this.working&&!this.wokeUp){const n=this.config.modules??[];return n.push({use:e,options:t}),void(this.config.modules=n)}const i=this.di().resolve(e),r={name:i.name(),keys:[],listeners:[]};if(!i.brothers().includes(this.name))throw new o.BrotherException(`Incorrect usage a module "${i.name()}" is created for "${i.brothers().join(",")}" but tried in "${this.name}"`);null!=i.dependencies&&i.dependencies().forEach((e=>{if(!this.di().has(e.key))throw new o.BrotherException(`Module "${i.name()}" requires a missed dependency "${e.key}"`)})),null!=i.injections&&(this.validateModuleInjections(i),r.keys=i.injections().map((e=>e.key)),i.injections().forEach((e=>{this.inject(e)}))),this.bindModuleOptions(r,n),null!=i.injections&&y(i.injections()).forEach((e=>{this.di().get(e)})),this.di().bindConstantValue(i.name(),i);const a=_(this.name);null!=i.onceSessionBegin&&(a&&await g("storage")&&await h()?await i.onceSessionBegin({options:n,di:this.di()}):a&&!await g("storage")?this.logger().warn(`Brother: a hook "onceSessionBegin" can not be handled in module "${i.name()}"`):a||this.logger().warn(`Brother: can not handle a hook "onceSessionBegin" in a module "${i.name()}"`)),null!=i.onWokeUp&&await i.onWokeUp({options:n,di:this.di()}),null!=i.listeners&&(r.listeners=i.listeners().map((e=>this.dispatcher().onWithClass(e)))),this.working&&null!=i.onWorking&&await i.onWorking({options:n,di:this.di()}),this.registry.set(i.name(),r)}getModule(e){if(!this.working&&!this.wokeUp)throw new o.BrotherException("Brother is not working yet");if(!this.di().has(e))throw new o.BrotherException(`Module "${e}" not found`);return this.di().get(e)}async removeModule(e){if(!this.working&&!this.wokeUp)throw new o.BrotherException("Brother is not working yet");if(this.logger().info(`Remove module "${e}"`),!this.di().has(e))throw new o.BrotherException(`Module "${e}" not found`);const t=this.registry.get(e),n=this.di().get(t.name),i=this.di().get(`${t.name}.Options`);null!=n.onDestroy&&await n.onDestroy({options:i,di:this.di()}),t.listeners.forEach((e=>{this.dispatcher().remove(e)})),t.keys.forEach((e=>{this.di().remove(e)})),this.registry.delete(e)}dispatcher(){return this.di().get(i.BrotherTypes.dispatcher)}logger(){return this.di().get(i.BrotherTypes.logger)}hasModule(e){return this.registry.has(e)}inject(e){const t={service:e=>{this.di().bind(e.key,e.use)},const:e=>this.di().bindConstantValue(e.key,e.use)};if(void 0!==e.type){if(void 0===t[e.type])throw new o.BrotherException(`Incorrect injection type "${e.type}"`);t[e.type](e)}else this.di().bind(e.key,e.use)}bindModuleOptions(e,t){const n=`${e.name}.Options`;this.di().bindConstantValue(n,t);for(const i in t){const r=`${n}.${i}`;e.keys.push(r),this.di().bindConstantValue(r,t[i])}}bindLogger(e){const t="production"===e.env,n=void 0===e.logging;c.envLoggerState.has()&&n?this.di().bindConstantValue(i.BrotherTypes.logging,c.envLoggerState.get()):n&&t?this.di().bindConstantValue(i.BrotherTypes.logging,!1):n?this.di().bindConstantValue(i.BrotherTypes.logging,!0):this.di().bindConstantValue(i.BrotherTypes.logging,e.logging);const r=void 0===e.loggingHistory;c.envLoggerHistory.has()&&r?this.di().bindConstantValue(i.BrotherTypes.loggerHistory,c.envLoggerHistory.get()):this.di().bindConstantValue(i.BrotherTypes.loggerHistory,Boolean(e.loggingHistory))}bindAppName(e,t){let n=t;if(null==e.appName&&c.envAppName.has())n=c.envAppName.get();else{if(void 0!==e.appName&&0===e.appName.trim().length)throw new o.BrotherException("App name cannot be empty");void 0!==e.appName&&(n=e.appName)}return this.di().bindConstantValue(i.BrotherTypes.appName,n),n}validateModuleInjections(e){if(void 0===e.injections)return;const t=e.injections().filter((e=>m(e))),n=new Map;t.forEach((t=>{if(n.has(t.use)){const i=n.get(t.use),r=`in a module "${e.name()}" detected a duplicated service registration for keys "${i}", "${t.key}"`;throw new o.BrotherException(r)}n.set(t.use,t.key)}))}};const u="BROTHER_SESSION_BEGIN";var d;!function(e){e.INIT="INIT",e.BEGIN="BEGIN",e.HANDLED="HANDLED"}(d||(d={}));let f=!1,l=d.INIT;async function p(){if(f)return l;const e=await chrome.storage.session.get(u);return u in e?e[u]:d.INIT}async function h(){const e=await p();return{[d.INIT]:!0,[d.BEGIN]:!0,[d.HANDLED]:!1}[e]}async function g(e){return await chrome.permissions.contains({permissions:[e]})}function y(e){return e.filter((e=>m(e)&&void 0!==e.lazyLoad&&!e.lazyLoad)).map((e=>e.key))}function m(e){return"service"===e.type||!("type"in e)}function _(e){return e===i.BrotherName.Mario}},48962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrotherMessageList=void 0,function(e){e.BrotherWorking="Brother.Working"}(t.BrotherMessageList||(t.BrotherMessageList={}))},44393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrotherTypes=t.BrowserName=t.BrotherName=t.BrotherException=void 0;const i=n(71661);Object.defineProperty(t,"BrotherException",{enumerable:!0,get:function(){return i.BrotherException}}),function(e){e.Mario="Mario",e.Luigi="Luigi"}(t.BrotherName||(t.BrotherName={})),function(e){e.Firefox="Firefox",e.Chrome="Chrome",e.Chromium="Chromium",e.Edge="Edge"}(t.BrowserName||(t.BrowserName={})),function(e){e.appName="Brother.AppName",e.brother="Brother",e.dispatcher="Brother.Dispatcher",e.di="Brother.DI",e.env="Brother.ENV",e.logger="Brother.Logger",e.loggerHistory="Brother.LoggerHistory",e.logging="Brother.Logging",e.name="Brother.Name",e.browser="Brother.Browser"}(t.BrotherTypes||(t.BrotherTypes={}))},58842:(e,t)=>{"use strict";var n;function i(e,t,i){const r={[n.BOOLEAN]:e=>"true"===e,[n.STRING]:e=>e,[n.NUMBER]:e=>Number(e)},o=()=>null!=e;return{has:o,get:()=>o()?r[i](e):t}}Object.defineProperty(t,"__esModule",{value:!0}),t.envAppName=t.envLoggerHistory=t.envLoggerState=t.makeEnvAccessor=void 0,function(e){e.BOOLEAN="BOOLEAN",e.STRING="STRING",e.NUMBER="NUMBER"}(n||(n={})),t.makeEnvAccessor=i,t.envLoggerState=i("false",!1,n.BOOLEAN),t.envLoggerHistory=i("MISSING_ENV_VAR".BROTHER_LOGGER_KEEP_HISTORY,!1,n.BOOLEAN),t.envAppName=i("MISSING_ENV_VAR".BROTHER_APP_NAME,"Unknown",n.STRING)},69877:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(45904),t),r(n(8686),t),r(n(44393),t),r(n(681),t),r(n(22546),t),r(n(48909),t),r(n(86222),t),r(n(27259),t),r(n(89980),t)},87482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiException=void 0;const i=n(71661);class r extends i.BrotherException{constructor(e){super(e),this.name="DiException"}}t.DiException=r},681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.di=t.Di=void 0;const i=n(71519),r=n(22546),o=n(44393);class a{constructor(){this.container=new i.Container}bind(e,t){if(this.has(e))throw new r.DiException(`Already bound key "${e}"`);this.container.bind(e).to(t).inSingletonScope()}bindConstantValue(e,t){if(this.has(e))throw new r.DiException(`Already bound key "${e}"`);this.container.bind(e).toConstantValue(t)}get(e){if(!this.has(e))throw new r.DiException(`No matching bindings found for key "${e}"`);try{return this.container.get(e)}catch(e){throw new r.DiException(e.message)}}has(e){return this.container.isBound(e)}remove(e){if(!this.has(e))throw new r.DiException(`Could not remove key "${e}"`);this.container.unbind(e)}resolve(e){try{return this.container.resolve(e)}catch(e){throw new r.DiException(e.message)}}}t.Di=a,t.di=new a,t.di.bindConstantValue(o.BrotherTypes.di,t.di)},22546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.injectable=t.DiException=void 0;const i=n(87482);Object.defineProperty(t,"DiException",{enumerable:!0,get:function(){return i.DiException}});const r=n(71519);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return r.inject}}),Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return r.injectable}})},72654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DispatcherException=void 0;const i=n(71661);class r extends i.BrotherException{constructor(e){super(e),this.name="DispatcherException"}}t.DispatcherException=r},48909:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessage=t.dispatcher=t.Dispatcher=void 0;const a=n(44393),s=n(86222),c=n(22546),u=n(48962),d=n(681),f=n(27259);let l=class{constructor(e,t){this.di=e,this.logger=t,this.registry=new Map,this.index=new Map,this.registerOfHandlers=new Set,this.counter=0,this.brotherWokeUp=!1,this.pending=[];const n=this.on(u.BrotherMessageList.BrotherWorking,(()=>{this.brotherWokeUp=!0,this.pending.forEach((e=>{this.sendBox(e.box).then((t=>{e.resolve(t)}))})),this.pending=[],this.remove(n)}),!1)}onWithClass(e){if(this.registerOfHandlers.has(e))throw new s.DispatcherException(`This listener(class) ${e.name} is already registered`);this.registerOfHandlers.add(e);const t=this.di.resolve(e);return this.on(t.on(),t.handle.bind(t),t.main(),null==t.sync||t.sync())}on(e,t,n,i=!0){if(this.registerOfHandlers.has(t))throw new s.DispatcherException(`This listener(callback)${t.name} is already registered`);this.registerOfHandlers.add(t);let r=this.registry.get(e);if(void 0===r&&(r={main:{id:null,listener:null},general:new Map},this.registry.set(e,r)),n&&null!=r.main.id)throw new s.DispatcherException(`a main listener for "${e}" is already exist`);if(n&&!i)throw new s.DispatcherException(`a main listener cannot be async for message "${e}"`);this.counter++,n?(r.main.id=this.counter,r.main.listener={sync:!0,handler:t}):r.general.set(this.counter,{sync:i,handler:t});const o={messageType:e,listenerType:n?"main":"general"};return this.index.set(this.counter,o),this.counter}remove(e){const t=this.index.get(e);if(void 0===t)throw new s.DispatcherException(`Listener with id "${e}" not exist`);const n=this.registry.get(t.messageType);if("main"===t.listenerType)return n.main={id:null,listener:null},void this.index.delete(e);n.general.delete(e),this.index.delete(e)}has(e){return this.index.has(e)}async sendMessage(e){const t={sender:s.SenderList.Manual,message:e};return await this.sendBox(t)}async sendBox(e){return await new Promise((t=>{if(!this.brotherWokeUp&&!0!==e.message?.force){const n={box:e,resolve:t};return void this.pending.push(n)}const n=e.message?.type||e.type,i=`Dispatcher: New box from "${e.sender}" says "${n}"`;this.logger.groupCollapsed(i),this.logger.info(JSON.stringify(e,null,2)),this.logger.groupEnd(i);const r=this.registry.get(n);if(void 0===r)return void t(void 0);if(0===r.general.size&&null===r.main.id)return void t(void 0);const o=e=>{"rejected"===e.status&&this.logger.error(`Dispatcher: a listener for a message "${n}" thrown en error`,e.reason)},a=Array.from(r.general.values()),s=a.filter((e=>!e.sync)).map((async t=>t.handler(e)));Promise.allSettled(s).then((async e=>{e.forEach(o)}));const c=a.filter((e=>e.sync)).map((async t=>t.handler(e)));Promise.allSettled(c).then((async t=>(t.forEach(o),await Promise.resolve(null!=r.main.listener?r.main.listener.handler(e):void 0)))).then((e=>{t(e)}))}))}};l=i([(0,c.injectable)(),o(0,(0,c.inject)(a.BrotherTypes.di)),o(1,(0,c.inject)(a.BrotherTypes.logger)),r("design:paramtypes",[Object,Object])],l),t.Dispatcher=l,t.dispatcher=new l(d.di,f.logger),d.di.bindConstantValue(a.BrotherTypes.dispatcher,t.dispatcher);t.sendMessage=async e=>await t.dispatcher.sendMessage(e)},86222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SenderList=t.DispatcherException=void 0;const i=n(72654);Object.defineProperty(t,"DispatcherException",{enumerable:!0,get:function(){return i.DispatcherException}}),function(e){e.Brother="Brother",e.Manual="Manual",e.Mario="Mario",e.Luigi="Luigi",e.Port="Port"}(t.SenderList||(t.SenderList={}))},27259:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.Logger=void 0;const a=n(22546),s=n(89980),c=n(44393),u=n(681),d=n(58842);let f=class{constructor(e){this.di=e,this.collapseCounter=0,this.logHistory=[],this.onLogCallbacks=[],this.mapper=new Map,this.setupLogMethodMapper()}info(...e){this.write(console.info,s.LogLevel.INFO,e)}warn(...e){this.write(console.warn,s.LogLevel.WARN,e)}error(...e){this.write(console.error,s.LogLevel.ERROR,e)}group(...e){this.write(console.group,s.LogLevel.INFO,e),this.collapseCounter++}groupCollapsed(...e){this.write(console.groupCollapsed,s.LogLevel.INFO,e),this.collapseCounter++}groupEnd(...e){this.write(console.groupEnd,s.LogLevel.INFO,e),0!==this.collapseCounter&&this.collapseCounter--}getHistory(){return this.logHistory}onLog(e){this.onLogCallbacks.push(e)}logging(){return this.di.get(c.BrotherTypes.logging)}loggingHistory(){return this.di.get(c.BrotherTypes.loggerHistory)}write(e,t,n){if(this.storeHistory(t,n),this.invokeListeners(e,t,n),this.logging())if("string"!=typeof n[0]||0!==this.collapseCounter)e.apply(console,n);else{const[t,...i]=n,r=this.di.get(c.BrotherTypes.appName);e.apply(console,[`[${r}] ${t}`,...i])}}storeHistory(e,t){if(!this.loggingHistory())return;const n={...this.makeBaseLog(e,t),ts:Date.now()};this.logHistory=[n,...this.logHistory]}invokeListeners(e,t,n){const i={...this.makeBaseLog(t,n),method:this.mapper.get(e)};this.onLogCallbacks.forEach((e=>{try{e(i)}catch(e){}}))}makeBaseLog(e,t){const n=Boolean(Array.isArray(t)&&t.length);return{level:e,args:n?t.slice(1):t,...n&&{msg:t[0]}}}setupLogMethodMapper(){this.mapper.set(console.info,s.LogMethod.INFO),this.mapper.set(console.warn,s.LogMethod.WARN),this.mapper.set(console.error,s.LogMethod.ERROR),this.mapper.set(console.group,s.LogMethod.GROUP),this.mapper.set(console.groupCollapsed,s.LogMethod.GROUP_COLLAPSED),this.mapper.set(console.groupEnd,s.LogMethod.GROUP_END)}};f=i([(0,a.injectable)(),o(0,(0,a.inject)(c.BrotherTypes.di)),r("design:paramtypes",[Object])],f),t.Logger=f,u.di.bindConstantValue(c.BrotherTypes.logging,d.envLoggerState.get()),u.di.bindConstantValue(c.BrotherTypes.loggerHistory,d.envLoggerHistory.get()),u.di.bindConstantValue(c.BrotherTypes.appName,d.envAppName.get()),t.logger=new f(u.di),u.di.bindConstantValue(c.BrotherTypes.logger,t.logger)},89980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogMethod=t.LogLevel=void 0,function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(t.LogLevel||(t.LogLevel={})),function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.GROUP="GROUP",e.GROUP_COLLAPSED="GROUP_COLLAPSED",e.GROUP_END="GROUP_END"}(t.LogMethod||(t.LogMethod={}))},45904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredModuleNotRegisteredException=t.BrotherAlreadyCreatedException=t.BrotherNotCreatedException=t.useService=t.useLogger=t.useDispatcher=t.useDi=t.useLuigi=t.useMario=t.useBrotherSafely=t.useBrotherAsync=t.useBrother=t.isBoxFromBrother=t.isBoxFromManual=t.makeLuigi=t.makeMario=t.makeBrother=void 0;const i=n(86222),r=n(44393),o=n(681),a=n(8686),s=n(48962);let c,u=!1;const d=[];function f(e,t){if(null!=c)throw new g(`Brother "${c.name}" is already created`);return o.di.remove(r.BrotherTypes.loggerHistory),o.di.remove(r.BrotherTypes.logging),o.di.remove(r.BrotherTypes.appName),c=new a.Brother(e,t,o.di,[]),c.dispatcher().on(s.BrotherMessageList.BrotherWorking,(()=>{u=!0,d.forEach((e=>{e(c)}))}),!1),c}function l(){if(null==c)throw new h("Brother is not created");return c}async function p(){return c&&u?c:await new Promise((e=>{d.push(e)}))}t.makeBrother=f,t.makeMario=function(e){return f(r.BrotherName.Mario,e)},t.makeLuigi=function(e){return f(r.BrotherName.Luigi,e)},t.isBoxFromManual=function(e){return e.sender===i.SenderList.Manual},t.isBoxFromBrother=function(e){return e.sender===i.SenderList.Brother},t.useBrother=l,t.useBrotherAsync=p,t.useBrotherSafely=async function(){return await p()},t.useMario=function(){return l()},t.useLuigi=function(){return l()},t.useDi=function(){return l().di()},t.useDispatcher=function(){return l().dispatcher()},t.useLogger=function(){return l().logger()},t.useService=function(e,t){const n=l();if(!n.hasModule(e))throw new y(`Required a module "${e}" is not registered`);return n.di().get(t)};class h extends r.BrotherException{constructor(e){super(e),this.name="BrotherNotCreatedException"}}t.BrotherNotCreatedException=h;class g extends r.BrotherException{constructor(e){super(e),this.name="BrotherAlreadyCreatedException"}}t.BrotherAlreadyCreatedException=g;class y extends r.BrotherException{constructor(e){super(e),this.name="RequiredModuleNotRegisteredException"}}t.RequiredModuleNotRegisteredException=y},69899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IframeLinkMessages=void 0,function(e){e.proxy="IframeLink.Proxy",e.proxyAsync="IframeLink.ProxyAsync"}(t.IframeLinkMessages||(t.IframeLinkMessages={}))},49348:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiIframeLinkModule=void 0;const r=n(69877),o=n(55378),a=n(68663);let s=class{name(){return"IframeLinkModule"}brothers(){return[r.BrotherName.Luigi]}dependencies(){return[{key:"LinkModule",type:"module"}]}injections(){return[{key:a.LuigiIframeLinkTypes.link,use:o.IframeLinkService}]}};s=i([(0,r.injectable)()],s),t.LuigiIframeLinkModule=s},68663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiIframeLinkTypes=void 0,function(e){e.link="IframeLink.Link"}(t.LuigiIframeLinkTypes||(t.LuigiIframeLinkTypes={}))},26183:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(49348),t),r(n(68663),t),r(n(55378),t)},55378:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IframeLinkService=void 0;const a=n(69877),s=n(18126),c=n(69899);let u=class{constructor(e){this.link=e}sendToLuigi(e,t){const n={type:c.IframeLinkMessages.proxy,payload:{message:e,...t??{}}};this.link.sendToMario(n)}async sendToLuigiAsync(e,t){const n={type:c.IframeLinkMessages.proxyAsync,payload:{message:e,...t??{}}};return await this.link.sendToMarioAsync(n)}};u=i([(0,a.injectable)(),o(0,(0,a.inject)(s.LuigiLinkTypes.link)),r("design:paramtypes",[Object])],u),t.IframeLinkService=u},63595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkModuleException=void 0;const i=n(69877);class r extends i.BrotherException{constructor(e){super(e),this.name="LinkModuleException"}}t.LinkModuleException=r},13146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiErrorCodes=t.LinkAction=void 0,function(e){e.HANDSHAKE="HANDSHAKE",e.ONETIME="ONETIME",e.REQUEST="REQUEST",e.RESPONSE="RESPONSE"}(t.LinkAction||(t.LinkAction={})),function(e){e.COULD_NOT_ESTABLISH_CONNECTION="COULD_NOT_ESTABLISH_CONNECTION",e.APP_NOT_EXIST="APP_NOT_EXIST",e.TIMEOUT="TIMEOUT"}(t.LuigiErrorCodes||(t.LuigiErrorCodes={}))},74640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLoggerSafely=t.delay=t.generateRandomId=t.isBoxFromLink=t.isBoxFromMario=t.isBoxFromLuigi=void 0;const i=n(69877),r=n(22831);t.isBoxFromLuigi=e=>e.sender===i.SenderList.Luigi;t.isBoxFromMario=e=>e.sender===i.SenderList.Mario;t.isBoxFromLink=e=>"boxId"in e&&("string"==typeof e.boxId&&("sessionId"in e&&("string"==typeof e.sessionId&&("fromAppName"in e&&("string"==typeof e.fromAppName&&("toAppName"in e&&("string"==typeof e.toAppName&&("action"in e&&"string"==typeof e.action))))))));t.generateRandomId=()=>(0,r.v4)();t.delay=async e=>{await new Promise((t=>{setTimeout(t,e)}))};t.useLoggerSafely=async()=>(await(0,i.useBrotherSafely)()).logger()},18126:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(76971),t),r(n(73439),t),r(n(13146),t),r(n(74640),t),r(n(63595),t)},27136:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiLinkModule=void 0;const r=n(69877),o=n(76971),a=n(74640),s=n(68616),c=n(34869);chrome.runtime.onMessage.addListener((async e=>{const t=await(0,r.useBrotherSafely)();if((0,a.isBoxFromLink)(e)){const n=t.di().get(o.LuigiLinkTypes._communicator);await n.handleBox(e)}else t.logger().warn("LinkModule: Not a link message received",e)}));let u=class{name(){return"LinkModule"}brothers(){return[r.BrotherName.Luigi]}injections(){return[{key:o.LuigiLinkTypes.link,use:c.MarioLinkService},{key:o.LuigiLinkTypes._communicator,use:s.Communicator}]}};u=i([(0,r.injectable)()],u),t.LuigiLinkModule=u},76971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiLinkTypes=void 0,function(e){e.link="Link.Link",e._communicator="Link.Communication"}(t.LuigiLinkTypes||(t.LuigiLinkTypes={}))},68616:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Communicator=void 0;const a=n(69877),s=n(13146),c=n(74640);let u=class{dispatcher;appName;logger;register=new Set;constructor(e,t,n){this.dispatcher=e,this.appName=t,this.logger=n}async handleBox(e){if(e.toAppName!==this.appName)return;const t={[s.LinkAction.HANDSHAKE]:async()=>{this.handleHandShake(e)},[s.LinkAction.ONETIME]:async()=>{this.dispatcher.sendBox(e)},[s.LinkAction.REQUEST]:async()=>{this.register.has(e.boxId)&&await this.handleRequest(e)}};await(t[e.action]?.())}sendToMario(e){this.sendMessage(s.LinkAction.ONETIME,e)}async sendToMarioAsync(e){return await this.sendMessage(s.LinkAction.REQUEST,e)}async sendMessage(e,t){const n={action:e,boxId:(0,c.generateRandomId)(),message:t,sessionId:(0,c.generateRandomId)(),sender:a.SenderList.Luigi,fromAppName:this.appName,toAppName:a.SenderList.Mario};return await this.sendBox(n)}async sendBox(e){try{return await chrome.runtime.sendMessage(e)}catch(e){throw this.logger.error("an extension is removed or disabled",e),e}}handleHandShake(e){const t=(0,c.generateRandomId)();this.register.add(t);const n={...e,sender:a.SenderList.Luigi,action:s.LinkAction.HANDSHAKE,fromAppName:this.appName,toAppName:a.SenderList.Mario,response:t};this.sendBox(n)}async handleRequest(e){this.register.delete(e.boxId);const t=await this.dispatcher.sendBox(e),n={...e,sender:a.SenderList.Luigi,action:s.LinkAction.RESPONSE,fromAppName:this.appName,toAppName:a.SenderList.Mario,response:t};this.sendBox(n)}};u=i([(0,a.injectable)(),o(0,(0,a.inject)(a.BrotherTypes.dispatcher)),o(1,(0,a.inject)(a.BrotherTypes.appName)),o(2,(0,a.inject)(a.BrotherTypes.logger)),r("design:paramtypes",[Object,String,Object])],u),t.Communicator=u},34869:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MarioLinkService=void 0;const a=n(76971),s=n(69877);let c=class{communicator;constructor(e){this.communicator=e}sendToMario(e){this.communicator.sendToMario(e)}async sendToMarioAsync(e){return await this.communicator.sendToMarioAsync(e)}};c=i([(0,s.injectable)(),o(0,(0,s.inject)(a.LuigiLinkTypes._communicator)),r("design:paramtypes",[Object])],c),t.MarioLinkService=c},73439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMarioLinkSafely=t.useMarioLink=void 0;const i=n(76971),r=n(45904),o=n(69877);t.useMarioLink=()=>(0,r.useService)("LinkModule",i.LuigiLinkTypes.link);t.useMarioLinkSafely=async()=>(await(0,o.useBrotherSafely)(),(0,t.useMarioLink)())},87675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafePriceCheckMessages=void 0,function(e){e.muteNotification="SafePriceCheck.MuteNotification",e.closeNotification="SafePriceCheck.CloseNotification",e.openNotification="SafePriceCheck.OpenNotification"}(t.SafePriceCheckMessages||(t.SafePriceCheckMessages={}))},67306:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(59864),t),r(n(70771),t),r(n(25077),t),r(n(22347),t)},22347:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseSafePriceCheckNotificationListener=void 0;const a=n(69877),s=n(87675),c=n(25563),u=n(70771);let d=class{constructor(e){this.manager=e}on(){return s.SafePriceCheckMessages.closeNotification}main(){return!1}async handle(){this.manager.removeIframe()}};d=i([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiSafePriceCheckTypes.manager)),r("design:paramtypes",[c.LuigiSafePriceCheckManager])],d),t.CloseSafePriceCheckNotificationListener=d},25077:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSafePriceCheckNotificationListener=void 0;const a=n(69877),s=n(87675),c=n(25563),u=n(70771);let d=class{constructor(e){this.manager=e}on(){return s.SafePriceCheckMessages.openNotification}main(){return!1}async handle({message:e}){await this.manager.injectIframe(e.payload.url)}};d=i([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiSafePriceCheckTypes.manager)),r("design:paramtypes",[c.LuigiSafePriceCheckManager])],d),t.OpenSafePriceCheckNotificationListener=d},25563:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiSafePriceCheckManager=void 0;const a=n(69877);let s=class{constructor(e,t){this.options=e,this.logger=t,this.iframe=null,this.id="price-check-notification-iframe"}async injectIframe(e){if(null!=this.iframe)return void this.logger.info("LuigiSafePriceCheckManager: an iframe was already injected");const t=document.createElement("iframe"),n=`${this.options.iframe.url}?url=${decodeURIComponent(e)}`;t.src=chrome.runtime.getURL(n),t.id=this.id,this.iframe=t;const i=this.options.iframe.style;Object.entries(i).forEach((([e,n])=>{t.style[e]=n})),this.logger.info(`LuigiSafePriceCheckManager: inject(url=${e})`),document.body.prepend(t)}removeIframe(){null!=this.iframe?(this.logger.info("LuigiSafePriceCheckManager: remove iframe"),this.iframe.remove(),this.iframe=null):this.logger.info("LuigiSafePriceCheckManager: could not remove due an iframe is not exist")}};s=i([(0,a.injectable)(),o(0,(0,a.inject)("SafePriceCheckModule.Options")),o(1,(0,a.inject)(a.BrotherTypes.logger)),r("design:paramtypes",[Object,Object])],s),t.LuigiSafePriceCheckManager=s},59864:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiSafePriceCheckModule=void 0;const r=n(69877),o=n(70771),a=n(22347),s=n(25077),c=n(25563);let u=class{name(){return"SafePriceCheckModule"}brothers(){return[r.BrotherName.Luigi]}listeners(){return[a.CloseSafePriceCheckNotificationListener,s.OpenSafePriceCheckNotificationListener]}dependencies(){return[{type:"module",key:"LinkModule"},{type:"module",key:"IframeLinkModule"}]}injections(){return[{key:o.LuigiSafePriceCheckTypes.manager,use:c.LuigiSafePriceCheckManager}]}};u=i([(0,r.injectable)()],u),t.LuigiSafePriceCheckModule=u},70771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiSafePriceCheckTypes=void 0,function(e){e.manager="SafePriceCheck.Manager"}(t.LuigiSafePriceCheckTypes||(t.LuigiSafePriceCheckTypes={}))},60515:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(95146),t)},95146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorageAdapter=t.SessionStorage=void 0;const n="__SESSION_STORAGE__";class i{constructor(){this.storage=chrome.storage.local,chrome.runtime.onStartup.addListener((()=>{this.clear()}))}async get(e){if(await this.sessionStorageEmpty())return{};const t=void 0===e,n=Array.isArray(e);if(t)return await this.sessionStorage();const i=await this.sessionStorage();return n?e.reduce(((e,t)=>({...e,...i.hasOwnProperty(t)&&{[t]:i[t]}})),{}):{...i.hasOwnProperty(e)&&{[e]:i[e]}}}async set(e){if(await this.sessionStorageEmpty())return await this.storage.set({[n]:e});const t=await this.sessionStorage();await this.storage.set({[n]:{...t,...e}})}async has(e){if(await this.sessionStorageEmpty())return!1;const t=await this.sessionStorage();return Boolean(t[e])}async remove(e){if(await this.sessionStorageEmpty())return;const t=await this.sessionStorage();(Array.isArray(e)?e:[e]).forEach((e=>{delete t[e]})),await this.storage.set({[n]:t})}async clear(){await this.storage.set({[n]:{}})}async sessionStorage(){return{...(await this.storage.get(n))[n]??{}}}async sessionStorageEmpty(){return 0===Object.keys(await this.sessionStorage()).length}}t.SessionStorage=i;t.SessionStorageAdapter=class{static adapt(){chrome.storage.session||(chrome.storage.session=new i)}}},27499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminatedConnectionNotificationMessages=void 0,function(e){e.create="TerminatedConnectionNotification.Create",e.show="TerminatedConnectionNotification.Show",e.close="TerminatedConnectionNotification.Close",e.reconnect="TerminatedConnectionNotification.Reconnect",e.notifyOnFail="TerminatedConnectionNotification.NotifyOnFail"}(t.TerminatedConnectionNotificationMessages||(t.TerminatedConnectionNotificationMessages={}))},94406:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(81712),t),r(n(63931),t),r(n(98538),t)},44654:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const a=n(69877),s=n(27499),c=n(98538),u=n(63931),d=n(18126);let f=class{constructor(e,t){this.injector=e,this.marioLink=t}on(){return s.TerminatedConnectionNotificationMessages.close}main(){return!1}async handle({message:e}){e.payload.notifyOnFail&&this.marioLink.sendToMario({type:s.TerminatedConnectionNotificationMessages.notifyOnFail}),this.injector.close()}};f=i([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiTerminatedConnectionNotificationTypes._iframeManager)),o(1,(0,a.inject)(d.LuigiLinkTypes.link)),r("design:paramtypes",[c.IframeManager,Object])],f),t.CloseNotificationListener=f},14916:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateNotificationListener=void 0;const a=n(69877),s=n(27499),c=n(98538),u=n(63931);let d=class{constructor(e){this.injector=e}on(){return s.TerminatedConnectionNotificationMessages.create}main(){return!1}async handle({message:e}){await this.injector.inject(e.payload)}};d=i([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiTerminatedConnectionNotificationTypes._iframeManager)),r("design:paramtypes",[c.IframeManager])],d),t.CreateNotificationListener=d},92003:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReconnectListener=void 0;const a=n(69877),s=n(27499),c=n(18126);let u=class{constructor(e){this.link=e}on(){return s.TerminatedConnectionNotificationMessages.reconnect}main(){return!0}async handle({message:e}){return await this.link.sendToMarioAsync(e)}};u=i([(0,a.injectable)(),o(0,(0,a.inject)(c.LuigiLinkTypes.link)),r("design:paramtypes",[Object])],u),t.ReconnectListener=u},20657:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const a=n(69877),s=n(27499),c=n(98538),u=n(63931);let d=class{constructor(e){this.injector=e}on(){return s.TerminatedConnectionNotificationMessages.show}main(){return!1}async handle(){await this.injector.show()}};d=i([(0,a.injectable)(),o(0,(0,a.inject)(u.LuigiTerminatedConnectionNotificationTypes._iframeManager)),r("design:paramtypes",[c.IframeManager])],d),t.ShowNotificationListener=d},98538:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const a=n(69877);let s=class{constructor(e,t){this.logger=e,this.options=t}async inject(e){const t="TerminatedConnectionNotification.IframeManager: inject()";this.logger.groupCollapsed(t);const n=JSON.stringify(e,null,2);this.logger.info(n),this.logger.groupEnd(t),this.iframe?this.logger.info("TerminatedConnectionNotification.IframeManager: an iframe is already exist"):await new Promise((t=>{this.iframe=document.createElement("iframe");const n=JSON.stringify(e),i=encodeURIComponent(n);this.iframe.onload=()=>{t()},Object.assign(this.iframe.style,this.options.iframe.styles);const r=`${this.options.iframe.url}?payload=${i}`;this.iframe.src=chrome.runtime.getURL(r),this.iframe.id="terminated-connection-notification-iframe",document.body.insertBefore(this.iframe,document.body.firstChild)}))}async show(){if(this.logger.info("TerminatedConnectionNotification.IframeManager: show()"),this.iframe)this.iframe.style.right="16px";else{const e="TerminatedConnectionNotification.IframeManager: could not show a notification due an iframe is not exist";this.logger.warn(e)}}close(){if(this.logger.info("TerminatedConnectionNotification.IframeManager: close()"),this.iframe)this.iframe.addEventListener("transitionend",(()=>{this.iframe.remove(),this.iframe=null})),this.iframe.style.right="-1600px";else{const e="TerminatedConnectionNotification.IframeManager: could not close a notification due an iframe is not exist";this.logger.warn(e)}}};s=i([(0,a.injectable)(),o(0,(0,a.inject)(a.BrotherTypes.logger)),o(1,(0,a.inject)("TerminatedConnectionNotificationModule.Options")),r("design:paramtypes",[Object,Object])],s),t.IframeManager=s},81712:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiTerminatedConnectionNotificationModule=void 0;const r=n(69877),o=n(63931),a=n(98538),s=n(14916),c=n(20657),u=n(44654),d=n(92003);let f=class{name(){return"TerminatedConnectionNotificationModule"}brothers(){return[r.BrotherName.Luigi]}dependencies(){return[{key:"LinkModule",type:"module"}]}listeners(){return[s.CreateNotificationListener,c.ShowNotificationListener,u.CloseNotificationListener,d.ReconnectListener]}injections(){return[{key:o.LuigiTerminatedConnectionNotificationTypes._iframeManager,use:a.IframeManager}]}};f=i([(0,r.injectable)()],f),t.LuigiTerminatedConnectionNotificationModule=f},63931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiTerminatedConnectionNotificationTypes=void 0,function(e){e._iframeManager="TerminatedConnectionNotification.IframeManager"}(t.LuigiTerminatedConnectionNotificationTypes||(t.LuigiTerminatedConnectionNotificationTypes={}))},96191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToadName=t.ToadMessages=void 0,function(e){e.from="Toad.FromToad",e.fromAsync="Toad.FromToadAsync",e.to="Toad.ToToad"}(t.ToadMessages||(t.ToadMessages={})),t.ToadName="Toad"},6698:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(18171),t),r(n(60462),t),r(n(27652),t),r(n(62716),t)},62716:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ToToadListener=void 0;const r=n(69877),o=n(96191);let a=class{on(){return o.ToadMessages.to}main(){return!1}async handle({message:e,sender:t}){if(t!==r.BrotherName.Mario)return;const{payload:n}=e,i={extensionId:chrome.runtime.id,sender:t,message:{toadName:e.toadName,type:o.ToadMessages.to,payload:{message:n.message}}};window.postMessage(i)}};a=i([(0,r.injectable)()],a),t.ToToadListener=a},27652:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiToadLink=void 0;const r=n(69877),o=n(96191);let a=class{sendToToad(e,t){const n={sender:r.BrotherName.Luigi,extensionId:chrome.runtime.id,message:{toadName:t,type:o.ToadMessages.to,payload:{message:e}}};window.postMessage(n)}};a=i([(0,r.injectable)()],a),t.LuigiToadLink=a},18171:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiToadLinkModule=void 0;const r=n(69877),o=n(27652),a=n(60462),s=n(62716),c=n(96191),u=n(73439),d=async({message:e})=>{const{payload:t}=e,n=await(0,r.useBrotherSafely)(),i=await(0,u.useMarioLinkSafely)(),o=n.di().get(r.BrotherTypes.dispatcher),a={[r.BrotherName.Mario]:()=>{i.sendToMario(e)},[r.BrotherName.Luigi]:()=>{o.sendMessage(t.message)}};a[t.to]?.()},f=async({message:e,requestId:t,extensionId:n})=>{const{payload:i}=e,o=await(0,r.useBrotherSafely)(),a=await(0,u.useMarioLinkSafely)(),s=o.di().get(r.BrotherTypes.dispatcher),d={[r.BrotherName.Mario]:async()=>await a.sendToMarioAsync(e),[r.BrotherName.Luigi]:async()=>await s.sendMessage(i.message)},f=await(d[i.to]?.()),l={sender:i.to,extensionId:n,requestId:t,message:{toadName:e.toadName,type:c.ToadMessages.fromAsync,payload:{response:f}}};window.postMessage(l)};window.addEventListener("message",(({data:e})=>{if(e?.extensionId!==chrome.runtime.id)return;const t={[c.ToadMessages.from]:d,[c.ToadMessages.fromAsync]:f};t[e?.message?.type]?.(e)}));let l=class{name(){return"ToadLinkModule"}brothers(){return[r.BrotherName.Luigi]}listeners(){return[s.ToToadListener]}injections(){return[{key:a.LuigiToadLinkTypes.link,use:o.LuigiToadLink}]}async onWokeUp({options:e}){const t=document.createElement("script");t.src=chrome.runtime.getURL(e.pathToToad),t.id=chrome.runtime.id,(document.documentElement||document.head)?.prepend(t)}};l=i([(0,r.injectable)()],l),t.LuigiToadLinkModule=l},60462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiToadLinkTypes=void 0,t.LuigiToadLinkTypes={link:"LuigiToadLink.Link"}},24157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var i=n(95507),r=n(2006);function o(e,t,n,r,o){var a={},s="number"==typeof o,c=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(i.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var u=a[c];if(Array.isArray(u))for(var d=0,f=u;d<f.length;d++){var l=f[d];if(l.key===r.key)throw new Error(i.DUPLICATED_METADATA+" "+l.key.toString())}else u=[];u.push(r),a[c]=u,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,i){t(n,i,e)}}t.tagParameter=function(e,t,n,i){o(r.TAGGED,e,t,i,n)},t.tagProperty=function(e,t,n){o(r.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},98825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var i=n(95507),r=n(2006),o=n(14425),a=n(24157),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(i.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(r.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,c):a.tagProperty(t,n,c)}}},79925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var i=n(95507),r=n(2006);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(r.PARAM_TYPES,e))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(r.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(r.PARAM_TYPES,t,e),e}}},33655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var i=n(2006),r=n(14425),o=n(24157);t.multiInject=function(e){return function(t,n,a){var s=new r.Metadata(i.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},1555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var i=n(2006),r=n(14425),o=n(24157);t.named=function(e){return function(t,n,a){var s=new r.Metadata(i.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},95136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var i=n(2006),r=n(14425),o=n(24157);t.optional=function(){return function(e,t,n){var a=new r.Metadata(i.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},73380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var i=n(95507),r=n(2006),o=n(14425);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(r.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(r.POST_CONSTRUCT,e.constructor))throw new Error(i.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(r.POST_CONSTRUCT,a,e.constructor)}}},98928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var i=n(14425),r=n(24157);t.tagged=function(e,t){return function(n,o,a){var s=new i.Metadata(e,t);"number"==typeof a?r.tagParameter(n,o,a,s):r.tagProperty(n,o,s)}}},70375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var i=n(2006),r=n(14425),o=n(24157);t.targetName=function(e){return function(t,n,a){var s=new r.Metadata(i.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},10958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var i=n(2006),r=n(14425),o=n(24157);t.unmanaged=function(){return function(e,t,n){var a=new r.Metadata(i.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},23684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var i=n(27801),r=n(38615),o=function(){function e(e,t){this.id=r.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===i.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},71372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},95507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},27801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},2006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},33389:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(23684),s=n(95507),c=n(27801),u=n(2006),d=n(47339),f=n(67322),l=n(74051),p=n(51415),h=n(38615),g=n(92172),y=n(95900),m=n(29378),_=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=c.BindingScopeEnum.Transient;else if(t.defaultScope!==c.BindingScopeEnum.Singleton&&t.defaultScope!==c.BindingScopeEnum.Transient&&t.defaultScope!==c.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new d.MetadataReader}return e.merge=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var a=new e,s=o([t,n],i).map((function(e){return f.getBindingDictionary(e)})),c=f.getBindingDictionary(a);return s.forEach((function(e){var t;t=c,e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),i=0,r=e;i<r.length;i++){var o=r[i],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(this,void 0,void 0,(function(){var t,n,i,o,a;return r(this,(function(r){switch(r.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,i=e,r.label=1;case 1:return n<i.length?(o=i[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n,i=(n=t.id,function(e){return e.moduleId===n});e._bindingDictionary.removeByCondition(i)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||c.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,u.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);i=r.some((function(e){return e.constraint(o)}))}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,t,n)),i},e.prototype.snapshot=function(){this._snapshots.push(y.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,c.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,u.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,c.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,u.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(i){var r=e.rebind.bind(e)(i);return t(r,n),r}};return function(i){return{bindFunction:(r=i,function(n){var i=e.bind.bind(e)(n);return t(i,r),i}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(i),unbindFunction:function(t){e.unbind.bind(e)(t)}};var r}},e.prototype._get=function(e,t,n,i,r,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:r,serviceIdentifier:i,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),l.resolve(n)}},e}();t.Container=_},49872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var i=n(38615),r=function(e){this.id=i.id(),this.registry=e};t.ContainerModule=r;var o=function(e){this.id=i.id(),this.registry=e};t.AsyncContainerModule=o},95900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var i=new e;return i.bindings=t,i.middleware=n,i},e}();t.ContainerSnapshot=n},29378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var i=n(95507),r=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(i.NULL_ARGUMENT);if(null==t)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(i.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(i.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(i.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,i){var r=n.filter((function(t){return!e(t)}));r.length>0?t._map.set(i,r):t._map.delete(i)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(i.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=r},71519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var i=n(2006);t.METADATA_KEY=i;var r=n(33389);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return r.Container}});var o=n(27801);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n(49872);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n(79925);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var c=n(98928);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return c.tagged}});var u=n(1555);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return u.named}});var d=n(98825);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return d.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return d.LazyServiceIdentifer}});var f=n(95136);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return f.optional}});var l=n(10958);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return l.unmanaged}});var p=n(33655);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return p.multiInject}});var h=n(70375);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return h.targetName}});var g=n(73380);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return g.postConstruct}});var y=n(47339);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return y.MetadataReader}});var m=n(38615);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return m.id}});var _=n(24157);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return _.decorate}});var v=n(20795);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return v.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return v.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return v.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return v.typeConstraint}});var b=n(92172);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return b.getServiceIdentifierAsString}});var w=n(13447);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return w.multiBindToService}})},61077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var i=n(38615),r=function(){function e(e){this.id=i.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=r},14425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(2006),r=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=r},47339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var i=n(2006),r=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(i.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(i.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(i.TAGGED_PROP,e)||[]},e}();t.MetadataReader=r},16811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},67322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var i=n(71372),r=n(95507),o=n(27801),a=n(2006),s=n(6596),c=n(92172),u=n(61077),d=n(14425),f=n(16811),l=n(5643),p=n(83747),h=n(70057);function g(e){return e._bindingDictionary}function y(e,t,n,o,a){var s=_(n.container,a.serviceIdentifier),u=[];return s.length===i.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=_(n.container,a.serviceIdentifier)),u=t?s:s.filter((function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case i.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=c.getServiceIdentifierAsString(e),s=r.NOT_REGISTERED;throw s+=c.listMetadataForTarget(a,n),s+=c.listRegisteredBindingsForServiceIdentifier(o,a,_),new Error(s);case i.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case i.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=c.getServiceIdentifierAsString(e),s=r.AMBIGUOUS_MATCH+" "+a;throw s+=c.listRegisteredBindingsForServiceIdentifier(o,a,_),new Error(s)}}(a.serviceIdentifier,u,a,n.container),u}function m(e,t,n,i,a,s){var c,u;if(null===a){c=y(e,t,i,null,s),u=new p.Request(n,i,null,c,s);var d=new f.Plan(i,u);i.addPlan(d)}else c=y(e,t,i,a,s),u=a.addChildRequest(s.serviceIdentifier,c,s);c.forEach((function(t){var n=null;if(s.isArray())n=u.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=u}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=l.getDependencies(e,t.implementationType);if(!i.container.options.skipBaseClassChecks){var c=l.getBaseClassDependencyCount(e,t.implementationType);if(a.length<c){var d=r.ARGUMENTS_LENGTH_MISMATCH(l.getFunctionName(t.implementationType));throw new Error(d)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,i,n,t)}))}}))}function _(e,t){var n=[],i=g(e);return i.hasKey(t)?n=i.get(t):null!==e.parent&&(n=_(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,i,r,o,f,l){void 0===l&&(l=!1);var p=new u.Context(t),g=function(e,t,n,i,r,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,c=new d.Metadata(s,n),u=new h.Target(t,i,n,c);if(void 0!==r){var f=new d.Metadata(r,o);u.metadata.push(f)}return u}(n,i,r,"",o,f);try{return m(e,l,r,p,null,g),p}catch(e){throw s.isStackOverflowExeption(e)&&p.plan&&c.circularDependencyToException(p.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,i){var r=new h.Target(o.TargetTypeEnum.Variable,"",t,new d.Metadata(n,i)),a=new u.Context(e);return new p.Request(t,a,null,[],r)}},21120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},5643:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var r=n(98825),o=n(95507),a=n(27801),s=n(2006),c=n(92172);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return c.getFunctionName}});var u=n(70057);function d(e,t,n,r){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var u=a.userGeneratedMetadata,d=Object.keys(u),p=0===n.length&&d.length>0,h=d.length>n.length,g=function(e,t,n,i,r){for(var o=[],a=0;a<r;a++){var s=f(a,e,t,n,i);null!==s&&o.push(s)}return o}(r,t,s,u,p||h?d.length:n.length),y=l(e,n);return i(i([],g),y)}function f(e,t,n,i,s){var c=s[e.toString()]||[],d=p(c),f=!0!==d.unmanaged,l=i[e],h=d.inject||d.multiInject;if((l=h||l)instanceof r.LazyServiceIdentifer&&(l=l.unwrap()),f){if(!t&&(l===Object||l===Function||void 0===l)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var y=new u.Target(a.TargetTypeEnum.ConstructorArgument,d.targetName,l);return y.metadata=c,y}return null}function l(e,t){for(var n=e.getPropertiesMetadata(t),r=[],o=0,s=Object.keys(n);o<s.length;o++){var c=s[o],d=n[c],f=p(n[c]),h=f.targetName||c,g=f.inject||f.multiInject,y=new u.Target(a.TargetTypeEnum.ClassProperty,h,g);y.metadata=d,r.push(y)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var _=l(e,m);r=i(i([],r),_)}return r}function p(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return d(e,c.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var i=Object.getPrototypeOf(n.prototype).constructor;if(i!==Object){var r=d(t,c.getFunctionName(i),i,!0),o=r.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,u=r.length-a;return u>0?u:e(t,i)}return 0}},83747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var i=n(38615),r=function(){function e(e,t,n,r,o){this.id=i.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,i){var r=new e(t,this.parentContext,this,n,i);return this.childRequests.push(r),r},e}();t.Request=r},70057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var i=n(2006),r=n(38615),o=n(14425),a=n(21120),s=function(){function e(e,t,n,s){this.id=r.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof s?c=new o.Metadata(i.NAMED_TAG,s):s instanceof o.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(i.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return i.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===i.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return i.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(i.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var i=0,r=t.metadata;i<r.length;i++){var o=r[i];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},71752:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var r=n(95507),o=n(27801),a=n(2006);t.resolveInstance=function(e,t,n){var s,c,u=null;if(t.length>0){var d=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);c=d,u=function(e,t,n){var i=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),r=i.map(n);return i.forEach((function(t,n){var i;i=t.target.name.value();var o=r[n];e[i]=o})),e}(u=new((s=e).bind.apply(s,i([void 0],c))),t,n)}else u=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,u),u}},74051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var i=n(95507),r=n(27801),o=n(6596),a=n(92172),s=n(71752),c=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(i.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},u=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,d=t.target&&t.target.isArray(),f=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(d&&f)return o.map((function(t){return u(e)(t)}));var l=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],h=p.scope===r.BindingScopeEnum.Singleton,g=p.scope===r.BindingScopeEnum.Request;if(h&&p.activated)return p.cache;if(g&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===r.BindingTypeEnum.ConstantValue)l=p.cache,p.activated=!0;else if(p.type===r.BindingTypeEnum.Function)l=p.cache,p.activated=!0;else if(p.type===r.BindingTypeEnum.Constructor)l=p.implementationType;else if(p.type===r.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)l=c("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(t.parentContext)}));else if(p.type===r.BindingTypeEnum.Factory&&null!==p.factory)l=c("toFactory",p.serviceIdentifier,(function(){return p.factory(t.parentContext)}));else if(p.type===r.BindingTypeEnum.Provider&&null!==p.provider)l=c("toProvider",p.serviceIdentifier,(function(){return p.provider(t.parentContext)}));else{if(p.type!==r.BindingTypeEnum.Instance||null===p.implementationType){var y=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(i.INVALID_BINDING_TYPE+" "+y)}l=s.resolveInstance(p.implementationType,o,u(e))}return"function"==typeof p.onActivation&&(l=p.onActivation(t.parentContext,l)),h&&(p.cache=l,p.activated=!0),g&&null!==e&&!e.has(p.id)&&e.set(p.id,l),l}}};t.resolve=function(e){return u(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},94501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var i=n(27801),r=n(23334),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new r.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new r.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new r.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},74076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var i=n(94501),r=n(42903),o=n(36744),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},42903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var i=n(36744),r=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new i.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=r},51415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var i=n(95507),r=n(27801),o=n(74076),a=n(23334),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=r.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=r.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=r.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=r.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(i.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=r.BindingTypeEnum.Function,this._binding.scope=r.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=r.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=r.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},23334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var i=n(42903),r=n(36744),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},36744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var i=n(42903),r=n(20795),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new i.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=r.namedConstraint(e),new i.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new i.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=r.taggedConstraint(e)(t),new i.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return r.typeConstraint(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return r.namedConstraint(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return r.taggedConstraint(e)(t)(n.parentRequest)},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.typeConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.typeConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.namedConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.namedConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return r.traverseAncerstors(n,r.taggedConstraint(e)(t))},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!r.traverseAncerstors(n,r.taggedConstraint(e)(t))},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,e)},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,e)},new i.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},20795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var i=n(2006),r=n(14425),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new r.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(i.NAMED_TAG);t.namedConstraint=s;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var i=t.bindings[0].implementationType;return e===i}return!1}}},13447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},6596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var i=n(95507);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===i.STACK_OVERFLOW}},38615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},92172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var i=n(95507);function r(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=r,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var i="",r=n(e,t);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),i=i+"\n "+t,e.constraint.metaData&&(i=i+" - "+e.constraint.metaData)}))),i},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){var t=function e(t,n){void 0===n&&(n=[]);var i=r(t.serviceIdentifier);return n.push(i),null!==t.parentRequest?e(t.parentRequest,n):n}(e);return t.reverse().join(" --\x3e ")}(t);throw new Error(i.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",i=t.getNamedTag(),r=t.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==r&&r.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},44741:(e,t,n)=>{var i;!function(e){!function(t){var i="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=o(e);function o(e,t){return function(n,i){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0===i.Reflect?i.Reflect=e:r=o(i.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,c={create:o?function(){return ie(Object.create(null))}:a?function(){return ie({__proto__:null})}:function(){return ie({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,l=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(d||"function"!=typeof WeakMap?ne():WeakMap);function h(e,t,n,i){if(B(n)){if(!H(e))throw new TypeError;if(!q(t))throw new TypeError;return M(e,t)}if(!H(e))throw new TypeError;if(!D(t))throw new TypeError;if(!D(i)&&!B(i)&&!k(i))throw new TypeError;return k(i)&&(i=void 0),N(e,t,n=F(n),i)}function g(e,t){function n(n,i){if(!D(n))throw new TypeError;if(!B(i)&&!K(i))throw new TypeError;C(e,t,n,i)}return n}function y(e,t,n,i){if(!D(n))throw new TypeError;return B(i)||(i=F(i)),C(e,t,n,i)}function m(e,t,n){if(!D(t))throw new TypeError;return B(n)||(n=F(n)),S(e,t,n)}function _(e,t,n){if(!D(t))throw new TypeError;return B(n)||(n=F(n)),j(e,t,n)}function v(e,t,n){if(!D(t))throw new TypeError;return B(n)||(n=F(n)),A(e,t,n)}function b(e,t,n){if(!D(t))throw new TypeError;return B(n)||(n=F(n)),I(e,t,n)}function w(e,t){if(!D(e))throw new TypeError;return B(t)||(t=F(t)),P(e,t)}function O(e,t){if(!D(e))throw new TypeError;return B(t)||(t=F(t)),L(e,t)}function T(e,t,n){if(!D(t))throw new TypeError;B(n)||(n=F(n));var i=E(t,n,!1);if(B(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var r=p.get(t);return r.delete(n),r.size>0||p.delete(t),!0}function M(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!B(i)&&!k(i)){if(!q(i))throw new TypeError;t=i}}return t}function N(e,t,n,i){for(var r=e.length-1;r>=0;--r){var o=(0,e[r])(t,n,i);if(!B(o)&&!k(o)){if(!D(o))throw new TypeError;i=o}}return i}function E(e,t,n){var i=p.get(e);if(B(i)){if(!n)return;i=new f,p.set(e,i)}var r=i.get(t);if(B(r)){if(!n)return;r=new f,i.set(t,r)}return r}function S(e,t,n){if(j(e,t,n))return!0;var i=Z(t);return!k(i)&&S(e,i,n)}function j(e,t,n){var i=E(t,n,!1);return!B(i)&&W(i.has(e))}function A(e,t,n){if(j(e,t,n))return I(e,t,n);var i=Z(t);return k(i)?void 0:A(e,i,n)}function I(e,t,n){var i=E(t,n,!1);if(!B(i))return i.get(e)}function C(e,t,n,i){E(n,i,!0).set(e,t)}function P(e,t){var n=L(e,t),i=Z(e);if(null===i)return n;var r=P(i,t);if(r.length<=0)return n;if(n.length<=0)return r;for(var o=new l,a=[],s=0,c=n;s<c.length;s++){var u=c[s];o.has(u)||(o.add(u),a.push(u))}for(var d=0,f=r;d<f.length;d++){u=f[d];o.has(u)||(o.add(u),a.push(u))}return a}function L(e,t){var n=[],i=E(e,t,!1);if(B(i))return n;for(var r=Y(i.keys()),o=0;;){var a=Q(r);if(!a)return n.length=o,n;var s=z(a);try{n[o]=s}catch(e){try{X(r)}finally{throw e}}o++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function B(e){return void 0===e}function k(e){return null===e}function x(e){return"symbol"==typeof e}function D(e){return"object"==typeof e?null!==e:"function"==typeof e}function U(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=J(e,i);if(void 0!==r){var o=r.call(e,n);if(D(o))throw new TypeError;return o}return G(e,"default"===n?"number":n)}function G(e,t){if("string"===t){var n=e.toString;if($(n))if(!D(r=n.call(e)))return r;if($(i=e.valueOf))if(!D(r=i.call(e)))return r}else{var i;if($(i=e.valueOf))if(!D(r=i.call(e)))return r;var r,o=e.toString;if($(o))if(!D(r=o.call(e)))return r}throw new TypeError}function W(e){return!!e}function V(e){return""+e}function F(e){var t=U(e,3);return x(t)?t:V(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function $(e){return"function"==typeof e}function q(e){return"function"==typeof e}function K(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function J(e,t){var n=e[t];if(null!=n){if(!$(n))throw new TypeError;return n}}function Y(e){var t=J(e,r);if(!$(t))throw new TypeError;var n=t.call(e);if(!D(n))throw new TypeError;return n}function z(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var r=i.constructor;return"function"!=typeof r||r===e?t:r}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[r]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[r]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[r]=function(){return this.keys()},e}()}function ne(){var e=16,n=c.create(),i=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,i)){if(!n)return;Object.defineProperty(e,i,{value:c.create()})}return e[i]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",i=0;i<e;++i){var r=t[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",g),e("defineMetadata",y),e("hasMetadata",m),e("hasOwnMetadata",_),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",O),e("deleteMetadata",T)}(r)}()}(i||(i={}))},3158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentReminderNotificationMessages=void 0,function(e){e.create="ConsentReminderNotification.Create",e.show="ConsentReminderNotification.Show",e.close="ConsentReminderNotification.Close",e.updatePolicies="ConsentReminderNotification.UpdatePolicies"}(t.ConsentReminderNotificationMessages||(t.ConsentReminderNotificationMessages={}))},89811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiConsentReminderNotificationModule=void 0;const i=n(31635),r=n(69877),o=n(70638),a=n(36148),s=n(41659),c=n(15024),u=n(92506);let d=class{name(){return"ConsentReminderNotificationModule"}brothers(){return[r.BrotherName.Luigi]}dependencies(){return[{key:"LinkModule",type:"module"}]}injections(){return[{key:o.LuigiConsentReminderNotificationTypes.iframeManager,use:a.IframeManager}]}listeners(){return[s.ShowNotificationListener,c.CloseNotificationListener,u.CreateNotificationListener]}};d=i.__decorate([(0,r.injectable)()],d),t.LuigiConsentReminderNotificationModule=d},70638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiConsentReminderNotificationTypes=void 0,function(e){e.iframeManager="LuigiConsentReminderNotification.IframeManager"}(t.LuigiConsentReminderNotificationTypes||(t.LuigiConsentReminderNotificationTypes={}))},15024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const i=n(31635),r=n(69877),o=n(3158),a=n(70638),s=n(36148);let c=class{constructor(e){this.iframeManager=e}on(){return o.ConsentReminderNotificationMessages.close}main(){return!1}handle(){return i.__awaiter(this,void 0,void 0,(function*(){this.iframeManager.close()}))}};c=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(a.LuigiConsentReminderNotificationTypes.iframeManager)),i.__metadata("design:paramtypes",[s.IframeManager])],c),t.CloseNotificationListener=c},92506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateNotificationListener=void 0;const i=n(31635),r=n(69877),o=n(3158),a=n(70638),s=n(36148);let c=class{constructor(e){this.iframeManager=e}on(){return o.ConsentReminderNotificationMessages.create}main(){return!1}handle(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.iframeManager.inject()}))}};c=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(a.LuigiConsentReminderNotificationTypes.iframeManager)),i.__metadata("design:paramtypes",[s.IframeManager])],c),t.CreateNotificationListener=c},41659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const i=n(31635),r=n(69877),o=n(3158),a=n(70638),s=n(36148);let c=class{constructor(e){this.iframeManager=e}on(){return o.ConsentReminderNotificationMessages.show}main(){return!1}handle(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.iframeManager.show()}))}};c=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(a.LuigiConsentReminderNotificationTypes.iframeManager)),i.__metadata("design:paramtypes",[s.IframeManager])],c),t.ShowNotificationListener=c},36148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const i=n(31635),r=n(69877),o=n(18970);let a=class{constructor(e,t){this.logger=e,this.options=t}inject(){return i.__awaiter(this,void 0,void 0,(function*(){const e="ConsentReminderNotification.IframeManager: inject()";this.logger.groupCollapsed(e),this.logger.info("json"),this.logger.groupEnd(e),this.iframe?this.logger.info("ConsentReminderNotification.IframeManager: an iframe is already exists"):(0,o.isOverlapping)(o.IframeIds.ConsentReminder)?this.logger.info("ConsentReminderNotification.IframeManager: current iframe will overlap another iframe"):yield new Promise((e=>{this.iframe=document.createElement("iframe"),this.iframe.onload=()=>{e()},Object.assign(this.iframe.style,this.options.iframe.style);const t=`${this.options.iframe.url}`;this.iframe.src=chrome.runtime.getURL(t),this.iframe.id=o.IframeIds.ConsentReminder,document.body.insertBefore(this.iframe,document.body.firstChild)}))}))}show(){return i.__awaiter(this,void 0,void 0,(function*(){if(this.logger.info("ConsentReminderNotification.IframeManager: show()"),this.iframe)this.iframe.style.right="16px";else{const e="ConsentReminderNotification.IframeManager:could not show a notification due an iframe is not exists";this.logger.warn(e)}}))}close(){if(this.logger.info("ConsentReminderNotification.IframeManager: close()"),this.iframe)this.iframe.addEventListener("transitionend",(()=>{this.iframe.remove(),this.iframe=null})),this.iframe.style.right="-1600px";else{const e="ConsentReminderNotification.IframeManager:could not close a notification due an iframe is not exist";this.logger.warn(e)}}};a=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(r.BrotherTypes.logger)),i.__param(1,(0,r.inject)("ConsentReminderNotificationModule.Options")),i.__metadata("design:paramtypes",[Object,Object])],a),t.IframeManager=a},63530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VpnNotificationMessages=void 0,function(e){e.create="VpnNotification.Create",e.show="VpnNotification.Show",e.close="VpnNotification.Close"}(t.VpnNotificationMessages||(t.VpnNotificationMessages={}))},25565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseNotificationListener=void 0;const i=n(31635),r=n(69877),o=n(63530),a=n(28200),s=n(77314);let c=class{constructor(e){this.injector=e}on(){return o.VpnNotificationMessages.close}main(){return!1}handle(){return i.__awaiter(this,void 0,void 0,(function*(){this.injector.close()}))}};c=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(s.LuigiVpnNotificationTypes.iframeManager)),i.__metadata("design:paramtypes",[a.IframeManager])],c),t.CloseNotificationListener=c},51573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateNotificationListener=void 0;const i=n(31635),r=n(69877),o=n(63530),a=n(28200),s=n(77314);let c=class{constructor(e){this.injector=e}on(){return o.VpnNotificationMessages.create}main(){return!1}handle({message:e}){return i.__awaiter(this,void 0,void 0,(function*(){yield this.injector.inject(e.payload)}))}};c=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(s.LuigiVpnNotificationTypes.iframeManager)),i.__metadata("design:paramtypes",[a.IframeManager])],c),t.CreateNotificationListener=c},94708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowNotificationListener=void 0;const i=n(31635),r=n(69877),o=n(63530),a=n(28200),s=n(77314);let c=class{constructor(e){this.injector=e}on(){return o.VpnNotificationMessages.show}main(){return!1}handle(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.injector.show()}))}};c=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(s.LuigiVpnNotificationTypes.iframeManager)),i.__metadata("design:paramtypes",[a.IframeManager])],c),t.ShowNotificationListener=c},28200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IframeManager=void 0;const i=n(31635),r=n(69877),o=n(18970);let a=class{constructor(e,t){this.logger=e,this.options=t}inject(e){return i.__awaiter(this,void 0,void 0,(function*(){const t="LuigiNotificationModule.IframeManager: inject()";this.logger.groupCollapsed(t);const n=JSON.stringify(e,null,2);this.logger.info(n),this.logger.groupEnd(t),this.iframe?this.logger.info("LuigiNotificationModule.IframeManager: an iframe is already exist"):(0,o.isOverlapping)(o.IframeIds.VpnNotification)?this.logger.info("LuigiNotificationModule.IframeManager: current iframe will overlap another iframe"):yield new Promise((t=>{this.iframe=document.createElement("iframe");const n=JSON.stringify(e),i=encodeURIComponent(n);this.iframe.onload=()=>{t()},this.iframe.style.display="block",this.iframe.style.transition="right 1s",this.iframe.style.width="453px",this.iframe.style.height="165px",this.iframe.style.position="fixed",this.iframe.style.top="16px",this.iframe.style.right="-1600px",this.iframe.style.zIndex="9999999999",this.iframe.style.borderRadius="6px",this.iframe.style.boxShadow="0 2px 8px 0 rgba(0, 0, 0, 0.3)",this.iframe.style.backgroundColor="#ffffff",this.iframe.style.border="solid 1px #d7d7d7";const r=`${this.options.iframeUrl}?payload=${i}`;this.iframe.src=chrome.runtime.getURL(r),this.iframe.id=o.IframeIds.VpnNotification,document.body.insertBefore(this.iframe,document.body.firstChild)}))}))}show(){return i.__awaiter(this,void 0,void 0,(function*(){if(this.logger.info("LuigiNotificationModule.IframeManager: show()"),this.iframe)this.iframe.style.right="16px";else{const e="LuigiNotificationModule.IframeManager: could not show a notification due an iframe is not exist";this.logger.warn(e)}}))}close(){if(this.logger.info("LuigiNotificationModule.IframeManager: close()"),this.iframe)this.iframe.addEventListener("transitionend",(()=>{this.iframe.remove(),this.iframe=null})),this.iframe.style.right="-1600px";else{const e="LuigiNotificationModule.IframeManager: could not close a notification due an iframe is not exist";this.logger.warn(e)}}};a=i.__decorate([(0,r.injectable)(),i.__param(0,(0,r.inject)(r.BrotherTypes.logger)),i.__param(1,(0,r.inject)("VpnNotificationModule.Options")),i.__metadata("design:paramtypes",[Object,Object])],a),t.IframeManager=a},10367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiVpnNotificationModule=void 0;const i=n(31635),r=n(69877),o=n(51573),a=n(77314),s=n(28200),c=n(94708),u=n(25565);let d=class{name(){return"VpnNotificationModule"}brothers(){return[r.BrotherName.Luigi]}listeners(){return[o.CreateNotificationListener,c.ShowNotificationListener,u.CloseNotificationListener]}injections(){return[{key:a.LuigiVpnNotificationTypes.iframeManager,use:s.IframeManager}]}};d=i.__decorate([(0,r.injectable)()],d),t.LuigiVpnNotificationModule=d},77314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuigiVpnNotificationTypes=void 0,function(e){e.iframeManager="VpnNotification.IframeManager"}(t.LuigiVpnNotificationTypes||(t.LuigiVpnNotificationTypes={}))},18970:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.isOverlapping=t.IframeIds=void 0,function(e){e.VpnNotification="urban-app-iframe",e.TerminatedConnection="terminated-connection-notification-iframe",e.ConsentReminder="urban-app-consent-reminder-iframe",e.PriceCheck="price-check-notification-iframe",e.SafeSearch="safesearch-notification-iframe"}(n=t.IframeIds||(t.IframeIds={}));const i=[n.TerminatedConnection,n.VpnNotification,n.ConsentReminder,n.SafeSearch,n.PriceCheck];t.isOverlapping=e=>{const t=i.indexOf(e);return i.slice(0,t).some((e=>document.getElementById(e)))}},22831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var i=l(n(13518)),r=l(n(14948)),o=l(n(45073)),a=l(n(77186)),s=l(n(14808)),c=l(n(7775)),u=l(n(37037)),d=l(n(49910)),f=l(n(96792));function l(e){return e&&e.__esModule?e:{default:e}}},22311:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,o,a){return i((s=i(i(t,e),i(r,a)))<<(c=o)|s>>>32-c,n);var s,c}function o(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function c(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,i="0123456789abcdef";for(let r=0;r<n;r+=8){const n=e[r>>5]>>>r%32&255,o=parseInt(i.charAt(n>>>4&15)+i.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,u=-271733879,d=-1732584194,f=271733878;for(let t=0;t<e.length;t+=16){const n=r,l=u,p=d,h=f;r=o(r,u,d,f,e[t],7,-680876936),f=o(f,r,u,d,e[t+1],12,-389564586),d=o(d,f,r,u,e[t+2],17,606105819),u=o(u,d,f,r,e[t+3],22,-1044525330),r=o(r,u,d,f,e[t+4],7,-176418897),f=o(f,r,u,d,e[t+5],12,1200080426),d=o(d,f,r,u,e[t+6],17,-1473231341),u=o(u,d,f,r,e[t+7],22,-45705983),r=o(r,u,d,f,e[t+8],7,1770035416),f=o(f,r,u,d,e[t+9],12,-1958414417),d=o(d,f,r,u,e[t+10],17,-42063),u=o(u,d,f,r,e[t+11],22,-1990404162),r=o(r,u,d,f,e[t+12],7,1804603682),f=o(f,r,u,d,e[t+13],12,-40341101),d=o(d,f,r,u,e[t+14],17,-1502002290),u=o(u,d,f,r,e[t+15],22,1236535329),r=a(r,u,d,f,e[t+1],5,-165796510),f=a(f,r,u,d,e[t+6],9,-1069501632),d=a(d,f,r,u,e[t+11],14,643717713),u=a(u,d,f,r,e[t],20,-373897302),r=a(r,u,d,f,e[t+5],5,-701558691),f=a(f,r,u,d,e[t+10],9,38016083),d=a(d,f,r,u,e[t+15],14,-660478335),u=a(u,d,f,r,e[t+4],20,-405537848),r=a(r,u,d,f,e[t+9],5,568446438),f=a(f,r,u,d,e[t+14],9,-1019803690),d=a(d,f,r,u,e[t+3],14,-187363961),u=a(u,d,f,r,e[t+8],20,1163531501),r=a(r,u,d,f,e[t+13],5,-1444681467),f=a(f,r,u,d,e[t+2],9,-51403784),d=a(d,f,r,u,e[t+7],14,1735328473),u=a(u,d,f,r,e[t+12],20,-1926607734),r=s(r,u,d,f,e[t+5],4,-378558),f=s(f,r,u,d,e[t+8],11,-2022574463),d=s(d,f,r,u,e[t+11],16,1839030562),u=s(u,d,f,r,e[t+14],23,-35309556),r=s(r,u,d,f,e[t+1],4,-1530992060),f=s(f,r,u,d,e[t+4],11,1272893353),d=s(d,f,r,u,e[t+7],16,-155497632),u=s(u,d,f,r,e[t+10],23,-1094730640),r=s(r,u,d,f,e[t+13],4,681279174),f=s(f,r,u,d,e[t],11,-358537222),d=s(d,f,r,u,e[t+3],16,-722521979),u=s(u,d,f,r,e[t+6],23,76029189),r=s(r,u,d,f,e[t+9],4,-640364487),f=s(f,r,u,d,e[t+12],11,-421815835),d=s(d,f,r,u,e[t+15],16,530742520),u=s(u,d,f,r,e[t+2],23,-995338651),r=c(r,u,d,f,e[t],6,-198630844),f=c(f,r,u,d,e[t+7],10,1126891415),d=c(d,f,r,u,e[t+14],15,-1416354905),u=c(u,d,f,r,e[t+5],21,-57434055),r=c(r,u,d,f,e[t+12],6,1700485571),f=c(f,r,u,d,e[t+3],10,-1894986606),d=c(d,f,r,u,e[t+10],15,-1051523),u=c(u,d,f,r,e[t+1],21,-2054922799),r=c(r,u,d,f,e[t+8],6,1873313359),f=c(f,r,u,d,e[t+15],10,-30611744),d=c(d,f,r,u,e[t+6],15,-1560198380),u=c(u,d,f,r,e[t+13],21,1309151649),r=c(r,u,d,f,e[t+4],6,-145523070),f=c(f,r,u,d,e[t+11],10,-1120210379),d=c(d,f,r,u,e[t+2],15,718787259),u=c(u,d,f,r,e[t+9],21,-343485551),r=i(r,n),u=i(u,l),d=i(d,p),f=i(f,h)}return[r,u,d,f]}(function(e){if(0===e.length)return[];const t=8*e.length,i=new Uint32Array(n(t));for(let n=0;n<t;n+=8)i[n>>5]|=(255&e[n/8])<<n%32;return i}(e),8*e.length))};t.default=u},46140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},14808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},96792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(37037))&&i.__esModule?i:{default:i};var o=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=o},27656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2858:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)},9042:(e,t)=>{"use strict";function n(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=e[64*t+4*i]<<24|e[64*t+4*i+1]<<16|e[64*t+4*i+2]<<8|e[64*t+4*i+3];s[t]=n}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=i(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=r[0],c=r[1],u=r[2],d=r[3],f=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),s=i(a,5)+n(r,c,u,d)+f+t[r]+o[e]>>>0;f=d,d=u,u=i(c,30)>>>0,c=a,a=s}r[0]=r[0]+a>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+f>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};t.default=r},49910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var i,r=(i=n(37037))&&i.__esModule?i:{default:i};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e,t=0){const n=a(e,t);if(!(0,r.default)(n))throw TypeError("Stringified UUID is invalid");return n};t.default=s},13518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(2858))&&i.__esModule?i:{default:i},o=n(49910);let a,s,c=0,u=0;var d=function(e,t,n){let i=t&&n||0;const d=t||new Array(16);let f=(e=e||{}).node||a,l=void 0!==e.clockseq?e.clockseq:s;if(null==f||null==l){const t=e.random||(e.rng||r.default)();null==f&&(f=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==l&&(l=s=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:u+1;const g=p-c+(h-u)/1e4;if(g<0&&void 0===e.clockseq&&(l=l+1&16383),(g<0||p>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=h,s=l,p+=122192928e5;const y=(1e4*(268435455&p)+h)%4294967296;d[i++]=y>>>24&255,d[i++]=y>>>16&255,d[i++]=y>>>8&255,d[i++]=255&y;const m=p/4294967296*1e4&268435455;d[i++]=m>>>8&255,d[i++]=255&m,d[i++]=m>>>24&15|16,d[i++]=m>>>16&255,d[i++]=l>>>8|128,d[i++]=255&l;for(let e=0;e<6;++e)d[i+e]=f[e];return t||(0,o.unsafeStringify)(d)};t.default=d},14948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(59025)),r=o(n(22311));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,i.default)("v3",48,r.default);t.default=a},59025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function i(e,i,a,s){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=(0,o.default)(i)),16!==(null===(c=i)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(i),u.set(e,i.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,r.unsafeStringify)(u)}try{i.name=e}catch(e){}return i.DNS=a,i.URL=s,i};var i,r=n(49910),o=(i=n(96792))&&i.__esModule?i:{default:i};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},45073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(46140)),r=a(n(2858)),o=n(49910);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){if(i.default.randomUUID&&!t&&!e)return i.default.randomUUID();const a=(e=e||{}).random||(e.rng||r.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},77186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(59025)),r=o(n(9042));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,i.default)("v5",80,r.default);t.default=a},37037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(27656))&&i.__esModule?i:{default:i};var o=function(e){return"string"==typeof e&&r.default.test(e)};t.default=o},7775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(37037))&&i.__esModule?i:{default:i};var o=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},31635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>R,__assign:()=>o,__asyncDelegator:()=>N,__asyncGenerator:()=>M,__asyncValues:()=>E,__await:()=>T,__awaiter:()=>h,__classPrivateFieldGet:()=>C,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>P,__createBinding:()=>y,__decorate:()=>s,__disposeResources:()=>k,__esDecorate:()=>u,__exportStar:()=>m,__extends:()=>r,__generator:()=>g,__importDefault:()=>I,__importStar:()=>A,__makeTemplateObject:()=>S,__metadata:()=>p,__param:()=>c,__propKey:()=>f,__read:()=>v,__rest:()=>a,__runInitializers:()=>d,__setFunctionName:()=>l,__spread:()=>b,__spreadArray:()=>O,__spreadArrays:()=>w,__values:()=>_,default:()=>x});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,i){t(n,i,e)}}function u(e,t,n,i,r,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=i.kind,u="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?i.static?e:e.prototype:null,f=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),l=!1,p=n.length-1;p>=0;p--){var h={};for(var g in i)h[g]="access"===g?{}:i[g];for(var g in i.access)h.access[g]=i.access[g];h.addInitializer=function(e){if(l)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var y=(0,n[p])("accessor"===c?{get:f.get,set:f.set}:f[u],h);if("accessor"===c){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(s=a(y.get))&&(f.get=s),(s=a(y.set))&&(f.set=s),(s=a(y.init))&&r.unshift(s)}else(s=a(y))&&("field"===c?r.unshift(s):f[u]=s)}d&&Object.defineProperty(d,i.name,f),l=!0}function d(e,t,n){for(var i=arguments.length>2,r=0;r<t.length;r++)n=i?t[r].call(e,n):t[r].call(e);return i?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function l(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function g(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var y=Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function O(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function M(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof T?Promise.resolve(n.value.v).then(c,u):d(o[0][2],n)}catch(e){d(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function N(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:T(e[i](t)),done:!1}:r?r(t):t}:r}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&y(t,e,n);return j(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function P(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function R(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var B="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function k(e){function t(t){e.error=e.hasError?new B(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var i=e.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const x={__extends:r,__assign:o,__rest:a,__decorate:s,__param:c,__metadata:p,__awaiter:h,__generator:g,__createBinding:y,__exportStar:m,__values:_,__read:v,__spread:b,__spreadArrays:w,__spreadArray:O,__await:T,__asyncGenerator:M,__asyncDelegator:N,__asyncValues:E,__makeTemplateObject:S,__importStar:A,__importDefault:I,__classPrivateFieldGet:C,__classPrivateFieldSet:P,__classPrivateFieldIn:L,__addDisposableResource:R,__disposeResources:k}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";n(44741);const e=n(69877),t=n(10367),i=n(46844),r=n(67306),o=n(26183),a=n(27136),s=n(6698),c=n(89811),u=n(94406),d={position:"fixed",top:"16px",right:"16px",zIndex:"9999999999",borderRadius:"8px",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.3)",backgroundColor:"#ffffff",border:"solid 1px #d7d7d7"},f={iframe:{url:"/content/consent-reminder-notification/index.html",style:Object.assign(Object.assign({},d),{display:"block",transition:"right 1s",width:"608px",height:"340px",right:"-1600px",borderRadius:"16px",border:"0"})}},l={iframe:{url:"/content/anti-male-ware-notification/index.html",style:Object.assign({width:"665px",height:"265px"},d)}},p={iframe:{url:"/content/safe-price-check-notification/index.html",style:Object.assign({width:"570px",height:"270px"},d)}},h={iframe:{url:"/content/terminated-connection-notification/index.html",styles:Object.assign(Object.assign({},d),{display:"block",transition:"right 1s",width:"453px",height:"165px"})}};(0,e.makeLuigi)({env:"production",modules:[{use:a.LuigiLinkModule},{use:s.LuigiToadLinkModule,options:{pathToToad:"/content/location/location.js"}},{use:o.LuigiIframeLinkModule},{use:t.LuigiVpnNotificationModule,options:{iframeUrl:"/content/vpn-notification/index.html"}},{use:i.UiAntiMareWareContentModule,options:l},{use:r.LuigiSafePriceCheckModule,options:p},{use:c.LuigiConsentReminderNotificationModule,options:f},{use:u.LuigiTerminatedConnectionNotificationModule,options:h}]}).work()})()})();